\chapter{Coordinatization}

\section{Ternary Operations}

Let $\Pi=\igeo$ be a projective plane of order $n$. Fix in $\Pi$ a quad $O,X,Y,E$. Let $\ter$ be a set of $n$ elements, containing $0$ and $1$, and not $\infty$.

Using these elements, we introduce coordinates as follows
$$
    O\colon(0,0),\quad Y\colon(\infty),\quad E\colon(1,1).
$$
In addition, we label the points of $\tr(OE)\setminus\set{O,E,Z}$, where $Z=OE\wedge XY$, according to an arbitrary bijection
\[
    \tr(OE)\setminus\set{O,E,Z}
        \to\set{(\zeta,\zeta)\mid\zeta\ne0,1}.
\]
To label a point $P$ not on $OE$ and $XY$ with $(a,b)$, we define $a$ and~$b$ by
\begin{equation}\label{eq:P-coordinates}
    OE\wedge YP\colon(a,a)
    \quad\text{and}\quad
    OE\wedge XP\colon(b,b),
\end{equation}
as illustrated here
$$
    \begin{tikzpicture}[
        scale=1.20,
        point/.style={
            draw,
            circle,
            color=black,
            fill=black,
            inner sep=1.2pt},
            every node/.style={font=\footnotesize},
        ]
        \pgfmathsetmacro{\u}{1.7};
        
        % Points
        \coordinate (xstart) at (0.0,0.0);
        \coordinate (xend) at (2*\u,0.0);
        \coordinate (ystart) at (0.0,0.0);
        \coordinate (yend) at (0.0,2*\u);
        \coordinate (E) at (\u,\u*0.8);
        \coordinate (P) at (\u*1.7,\u*1.1);
        
        % Axis
        \draw[name path=xaxis,
            color=orange,
            thick
        ] (xstart) -- (xend)
            node[point,
                pos=0.0,
                label={[xshift=2.5mm,yshift=-7mm]:
                    \textcolor{black}{$O\colon(0,0)$}}
            ] (O) {}
            node[point,
                pos=0.5,
                label={[text=black,xshift=2.5mm,yshift=-7mm]:
                    $X\colon(0)$}
            ] (X) {};
        \draw[name path=yaxis,
            color=orange,
            thick
        ] (ystart) -- (yend)
            node[point,
                pos=0.95,
                label={[text=black,left]:
                    $Y\colon(\infty)$}
            ] (Y) {};
        \node[point,
            label={[xshift=0.0mm,yshift=-10mm]:
                $\begin{array}{c}E\colon\\(1,1)\end{array}$}
        ] at (E) {};
        \draw[name path=OE] (O) -- ($(O)!2.2!(E)$);
        \draw[name path=YP] (Y) -- ($(Y)!1.1!(P)$);
        \path[name intersections={of=OE and YP, by=aa}];
        \node[point,
            fill=green,
            label={[yshift=0.8mm,xshift=-0.4mm]:
                $(a,a)$}
        ] at (aa) {};
        \draw[name path=XP] (X) -- ($(X)!1.7!(P)$);
        \path[name intersections={of=OE and XP, by=bb}];
        \node[point,
            fill=green,
            label={[yshift=-4mm,xshift=5mm]:
                $(b,b)$}
        ] at (bb) {};
        \draw[name path=XY] (X) -- (Y)
            node[pos=0.42,
                label={[xshift=-6.3mm,yshift=-3.5mm]:
                $M\colon(m)$}
            ] (M) {};
        \path[name intersections={of=OE and XY, by=zz}];
        \node[point,
            fill=white,
            label={[xshift=-0.7mm,yshift=-10mm]:
                {$\begin{array}{c}Z\colon\\(1)\end{array}$}}
        ] at (zz) {};
        \node[point,
            fill=green
        ] at (P) {};
        \node[label={[yshift=-3.5mm,xshift=8mm]:
            $P\colon(a,b)$}
        ] at (\u*1.3,\u*0.7) at (P) {};
        \draw[name path=YE] (Y) -- ($(Y)!1.8!(E)$);
        \path[name intersections={of=YE and xaxis,by=Q}];
        \node[point,
            fill=green,
            label={[xshift=4mm]:
                $Q\colon(1,0)$}
        ] at (Q) {};
        \draw[name path=OM] (O) -- ($(O)!1.4!(M)$);
        \path[name intersections={of=YE and OM, by=oneM}];
        \node[point,
            fill=lightblue,
            label={right:$(1,m)$}
        ] at (oneM) {};
        \node[point,
            fill=lightblue,
            ] at (M) {};
        \coordinate (zeroC) at (0,\u*0.4);
        \draw[name path=CX] (zeroC) -- (X);
        \path[name intersections={of=CX and OE,by=cc}];
        \node[point,
            fill=green,
            label={left: $(0,c)$}
        ] at (zeroC) {};
        \node[point,
            fill=green,
            label={[xshift=1mm,yshift=-6.6mm]: $(c,c)$}
        ] at (cc) {};
    \end{tikzpicture}
$$
If $Q=OX\wedge EY$, then $OE\wedge YQ=E\colon(1,1)$ and $OE\wedge XQ\colon(0,0)$. Hence, according to \eqref{eq:P-coordinates}, $Q\colon(1,0)$.

Note, in particular, that when the point $P\ne Y$ is on the line $EY$, it gets asigned the coordinates $(1,m)$ for some $m$. This is so because the first coordinate, that we called $a$ for the general case, comes from the coordinates of $PY\wedge OE$, which in the special case we are analyzing coincides with $E$, whose corrdinates are $(1,1)$.

The observation we just made allows us to extend the assignment of coordinates to any point $M$ on $XY$. Since the coordinates of $OM\wedge EY$ have the form $(1,m)$, we assign the coordinate $(m)$ to $M$. In particular, $Z\colon(1)$ and $X\colon(0)$.

Observe that points on $OY$, have coordinates $(0,c)$. Similarly, points on $OX$ have coordinates $(a,0)$.

Here is an algorithmic description of the definition:
    \vspace{-1\parskip}
     {\small\alg
    \begin{enumerate}[itemsep=1.5pt, parsep=0pt]
        \item Complete the set $\set{0,1,\infty}$ with $n-2$ symbols $\set{a,b,c,\dots}$.
        \item Choose a quad $O,X,Y,E$.
        \item Define $Z=OE\wedge XY$.
        \item Label $O\colon(0,0)$, $Y\colon(\infty)$, $E\colon(1,1)$.
        \item For every point on $OE$, distinct from $Z$, choose a label $(\zeta,\zeta)$.
        \item For $P\nincidence XY$
        \begin{enumerate}[-]
            \item Let $(b,b)$ be the label assigned to $XP\wedge OE$.
            \item Let $(a,a)$ be the label assigned to $YP\wedge OE$.
        \end{enumerate}
        Label $P\colon(a,b)$.
        \item For $M$ on $XY$, let $OM\wedge YE\colon(1,m)$. Label $M\colon(m)$.
    \end{enumerate}
    }

Coordinates are further extended to lines. Here we will use squared brackets to distinguish them from point coordinates. Given $\block a\in\blocks$, we define
\begin{equation}\label{eq:line-coordinates}
    \block a\colon
        \begin{cases}
            [\infty]    &\text{if }\block a=XY,\\
            [x]   &\text{if }\block a\ne XY,
                \ Y\incidence\block a,\
                \block a\wedge OX\colon(x,0),\\
            [m,b]   &\text{if }
            \ Y\nincidence \block a,
            \ \block a\wedge XY\colon(m),
            \ \block a\wedge OY\colon(0,b),
        \end{cases} 
\end{equation}
\begin{equation}\label{tik:line-coordinates}
    \vcenter{\hbox{
    \begin{tikzpicture}[
        scale=1.2,
        point/.style={
            draw,
            circle,
            color=black,
            fill=black,
            inner sep=1.2pt},
            every node/.style={font=\footnotesize},
        ]
        \pgfmathsetmacro{\u}{1.7};
        
        % Points
        \coordinate (xstart) at (0.0,0.0);
        \coordinate (xend) at (2*\u,0.0);
        \coordinate (ystart) at (0.0,0.0);
        \coordinate (yend) at (0.0,2*\u);
        \coordinate (E) at (\u,\u*0.8);
        \coordinate (P) at (\u*0.4,\u*0.0);
        
        % Axis
        \draw[name path=xaxis,
            color=orange,
            thick
        ] (xstart) -- (xend)
            node[right,text=black] {$[0,0]$}
            node[point,
            pos=0.0,
            label={[yshift=-5mm,xshift=-2mm]:
                \textcolor{black}{$O$}}] (O) {}
            node[point,
                pos=0.5,
                label={[text=black,xshift=-1mm,yshift=-6mm]:
                    $X$}
            ] (X) {};

        \draw[name path=yaxis,
            color=orange,
            thick
        ] (ystart) -- (yend)
            node[above,text=black] {$[0]$}
            node[point,
            pos=0.95,
            label={[text=black,left,yshift=-1mm]:
                $Y$}
            ] (Y) {};
        \node[point,
            label={[yshift=-6mm]:
                $E$}
        ] at (E) {};
        \draw[name path=OE] (O) -- ($(O)!1.5!(E)$)
            node[right] {$[1,0]$};
        \draw[name path=YP] (Y) -- ($(Y)!1.1!(P)$)
            node[xshift=2mm,yshift=-2mm] {$[x]$};
        \node[point,
            fill=green,
            label={[xshift=4mm,yshift=-1mm]:
                $(x,0)$}
        ] at (P) {};
        \draw[name path=OM] (O) -- ($(O)!1.6!(M)$)
            node[right] {$[m,0]$};
        \draw[name path=XY] ($(X)!-0.1!(Y)$) -- (Y)
            node[pos=0,xshift=2.7mm,yshift=-2mm] {$[\infty]$}
            node[pos=0.48,
                label={[left,yshift=-1.5mm]:
                    $(m)$}
            ] (M) {};
        \path[name intersections={of=OE and XY, by=zz}];
        \node[point,
            fill=white,
            label={[xshift=-0.9mm,yshift=-6mm]:
                $Z$}
        ] at (zz) {};
        \draw[name path=YE] (Y) -- ($(Y)!1.2!(E)$)
            node[right] {$[1]$};
        \coordinate (Q) at (0,\u*1.3);
        \draw[name path=QM] (Q) -- ($(Q)!2.1!(M)$)
            node[right] {$[m,b]$};
        \node[point,
            fill=green,
            label={[left]: $(0,b)$}
        ] at (Q) {};
        \path[name intersections={of=OM and YE,by=oneM}];
        \node[point,
            fill=green,
            label={[right,yshift=-0.7mm]:$(1,m)$}
        ] at (oneM) {};
        \node[point,
            fill=lightblue
        ] at (M) {};
    \end{tikzpicture}
    }}
\end{equation}

\begin{rem}
    The interpretation is clear. The line\/ $XY$ is the line at infinity. The slope\/ $m$ of a line\/ $y=mx+b$ is determined by the point where it intersects the line\/ $XY$. The\/ $Y$-intercept\/ $b$ is determined by the line's intersection with the\/ $OY$ axis. Lines with infinite slope (vertical lines) have the form\/ $x=c$ and are assigned the coordinate\/ $[c]$. Every line passing through the origin\/ $O$ has coordinates of the form\/ $[m,0]$ (for finite slopes) or\/ $[0]$ (for the line\/ $OY$ which has infinite slope).
\end{rem}

\begin{prop}
    The maps defined above
    \begin{align*}
        \begin{aligned}
            \gamma\colon\pts
                &\to\set{(\infty)}\cup\ter\cup(\ter\times\ter)\\
            P&\mapsto\begin{cases}
                (\infty)    &\text{\upshape if }P=Y,\\
                (m)     &\text{\upshape if }P\incidence XY,\;P\ne Y,\\
                (a,b)   &\text{\upshape if }P\nincidence XY
            \end{cases}
        \end{aligned}
        &&\begin{aligned}
            \delta\colon\blocks
                &\to\set{[\infty]}\cup\ter\cup(\ter\times\ter)\\
            \block a&\mapsto\begin{cases}
                [\infty]    &\text{\upshape if }\block a=XY,\\
                [x]         &\text{\upshape if }Y\incidence\block a,\\
                [m,b]       &\text{\upshape if }Y\nincidence\block a
            \end{cases}
        \end{aligned}
    \end{align*}
    are bijective.
\end{prop}

\begin{proof}
    Suppose that $\gamma(P)=\gamma(Q)$. Let $\gamma$ be the common value. There are four cases:
    \begin{enumerate}[1.]
        \item If $\gamma=\infty$, then $P=Y=Q$.
        
        \item If $\gamma=(a,a)$, then $P=Q$ because, by construction, there is a bijection between these pairs and the points incident with $OE$.
        
        \item If $\gamma=(a,b)$, then $PY\wedge OE=QY\wedge OE$ and $PX\wedge OE=QX\wedge OE$. Let $A$ be the first of these two points and $B$ the second. By the \rr\ $P,Q\incidence Y\!A$ and $P,Q\incidence XB$. Hence, $P=Y\!A\wedge XB=Q$.
        
        \item If $\gamma=(m)$, then $P,Q\incidence XY$ and $\gamma(OP\wedge Y\!E)=(1,m)=\gamma(OQ\wedge Y\!E)$. By the previous case, $OP\wedge Y\!E=OQ\wedge Y\!E$. Let $C$ denote this common value. By the \rr\ $P,Q\incidence OC$. Hence, $P=OC\wedge XY=Q$.
    \end{enumerate}
    It follows that $\gamma$ is injective. Since domain and codomain have the same number of elements, the map is bijective.

    To verify that $\delta$ is bijective suppose $\delta(\block a)=\delta(\block b)$. Let $\delta$ be the common value. There are three cases:
    \begin{enumerate}[1.]
        \item If $\delta=[\infty]$, then $\block a=XY=\block b$.

        \item If $\delta=(m,b)$, then
        \begin{align*}
            \gamma(\block a\wedge XY)&=(m)=\gamma(\block b\wedge XY)\\
            \gamma(\block a\wedge OY)&=(0,b)=\gamma(\block b\wedge OY).
        \end{align*}
        By the injectivity of $\gamma$, we deduce that
        \begin{align*}
            \block a\wedge XY=\block b\wedge XY
            \quad\text{and}\quad
            \block a\wedge OY=\block b\wedge OY.
        \end{align*}
        Let $P$ and $Q$ denote the common values of these expressions. Since $Y\nincidence\block a,\block b$, we deduce that $P\ne Q$ and so $\block a=PQ=\block b$.
        
        \item If $\delta=[x]$, then $Y\incidence\block a,\block b$ and $\gamma(\block a\wedge OX)=(x,0)=\gamma(\block b\wedge OX)$. Hence, $\block a\wedge OX=\block b\wedge OX$. Thus, if $C$ is the common value of these two expressions, then $C\ne Y$ since $X,Y,O$ are not collinear, and so $\block a=YC=\block b$.
    \end{enumerate}
    Thus, $\delta$ is injective and, \textit{a fortiori}, bijective because domain and codomain are equipotent.
\end{proof}

\begin{prop}
    The homogeneous coordinates of $\PG(2,q)$ are compatible with the coordinates introduced above for the abstract finite projective plane with $\ter=\Fq$.
\end{prop}

\begin{proof}
    Take $O=[0:0:1]$, $X=[1:0:0]$, $Y=[0:1:0]$, $E=[1:1:1]$. Then
    \[
        OX\equiv y=0,\quad OY\equiv x=0,\quad
        OE\equiv x=y,\quad XY\equiv z=0,\quad
        EY\equiv x=z.
    \]
    It follows that $Z=XY\wedge OE=[1:1:0]$.
    We have the following cases
    \begin{enumerate}[-]
        \item Points on $OE$ other than $Z$ have coordinates $[a:a:1]$.

        \item If $P\nincidence OE$, then $P=[a:b:1]$ and so
        \begin{align*}
            YP\wedge OE\equiv(x=az)\wedge(x=y)
                &\implies YP\wedge OE=[a:a:1]\\
            XP\wedge OE\equiv(y=bz)\wedge(x=y)
                &\implies XP\wedge OE=[b:b:1].
        \end{align*}
    
        \item If $P\incidence XY$, $P\ne Y$, then $P=[1:m:0]$. Hence,
        \[
        EY\wedge OP\equiv(x=z)\wedge(y=m x)
        \]
        Thus, $EY\wedge OP=[1:m:1]$.
    
        \item If $P\incidence OY$, $P\ne Y$, then $P=[0:c:1]$
        \[
            XP\wedge OE\equiv(y=cz)\wedge(x=y),
        \]
        which implies $XP\wedge OE=[c:c:1]$.

        \item If $P\incidence OX$, $P\ne X$, then $P=[a:0:1]$.
    \end{enumerate}
    In conclusion, we have the following bijection between homogeneous and abstract coordinates:
    \begin{align*}
        \gamma\colon[x:y:1] &\mapsto (x,y)\\
        \gamma\colon[x:y:0] &\mapsto (y/x)
    \end{align*}
    with the convention $1/0=\infty$.

    The same idea works for lines:
    \begin{align*}
        \delta\colon(m:-1:b) &\mapsto[m,b]\\
        \delta\colon(u:0:v) &\mapsto[-v/u]
    \end{align*}
    In particular,

    \vspace{-1.5\parskip}
    {\small
    \[
        \begin{array}{c|clc}
            {\text{line}} & \text{equation} & \text{homogeneous} &\text{coordinates}\\
            \hline\rule{0pt}{10pt}
            OX &  y=0 & (0:1:0) & [0,0]\\
            OY &  x=0 & (1:0:0) & [0]\\
            OE &  x=y & (1:-1:0) & [1,0]\\
            XY &  z=0 & (0:0:1) & [\infty]\\
            EY &  x=z & (1:0:-1) & [1]\\
        \end{array}
    \]}
\end{proof}

\begin{test}
    Consider the Fano plane

    \vspace{-2\parskip}
    $$
    \begin{tikzpicture}[
        scale=1.1,
        font=\small,
        point/.style={draw, circle, fill=black, inner sep=1.5pt, minimum size=4pt}
        ]
     
        % Points
        \coordinate (X) at (90:1.5);
        \coordinate (Y) at (210:1.5);
        \coordinate (O) at (330:1.5);
        \coordinate (P3) at ($(X)!0.5!(Y)$);
        \coordinate (P1) at ($(Y)!0.5!(O)$);
        \coordinate (P2) at ($(O)!0.5!(X)$);
        
        % Center
        \coordinate (E) at (0,0);
        
        % Lines
        \draw (X) -- (P3) -- (Y);
        \draw (Y) -- (P1) -- (O);
        \draw (O) -- (P2) -- (X);
        \draw (X) -- (E) -- (P1);
        \draw (Y) -- (E) -- (P2);
        \draw (O) -- (E) -- (P3);
        
        \draw (E) circle (0.75cm);
        
        % Point labels
        \node[point, label=above:$X$] at (X) {};
        \node[point, label=left:$Y$] at (Y) {};
        \node[point, label=right:$O$] at (O) {};
        \node[point, fill=white, label=left:$3$] at (P3) {};
        \node[point, fill=green, label=below:$1$] at (P1) {};
        \node[point, fill=green, label=right:$2$] at (P2) {};
        \node[point, label={[label distance=2pt]left:$E$}] at (E) {};
    \end{tikzpicture}
    $$
    Following the algorithm of coordinatization, we get
    
    \vspace{-0.5\parskip}
     {\small\alg
    \begin{enumerate}[itemsep=1.8pt, parsep=0pt]
        \item Symbols: $\set{0,1,\infty}$.
        \item Quad: $O,X,Y,E$.
        \item Define $Z=OE\wedge XY=3$.
        \item Assign $O\colon(0,0)$, $Y\colon(\infty)$, $E\colon(1,1)$.
        \item Empty for $n=2$.
        \item \begin{enumerate}[-,itemsep=1.8pt, parsep=0pt]
                \item $X1\wedge OE=E\colon(1,1)$ and $Y1\wedge OE=O\colon(0,0)$ and label $1\colon(0,1)$
                \item $X2\wedge OE=O\colon(0,0)$ and $Y2\wedge OE=E\colon(1,1)$ and label $2\colon(1,0)$.
            \end{enumerate}
        \item \begin{enumerate}[-,itemsep=1.8pt, parsep=0pt]
                \item For $M=3$ let $OM\wedge YE=E\colon(1,1)$, label $3\colon(1)$.
                \item For $M=X$ let $OX\wedge YE=2\colon(1,0)$, label $X\colon(0)$.
            \end{enumerate}
    \end{enumerate}
    }
    \vspace{-1\parskip}
    We can now compare with the homogenous coordinates of Proposition~\ref{prop:Fano=PG(2,2)} that would have assigned
    \begin{align*}
        X&=[1:0:0]  &Y&=[0:1:0] &O&=[0:0:1] &E&=[1:1:1]\\
        3&=[1:1:0]  &2&=[1:0:1] &1&=[0:1:1].
    \end{align*}
\end{test}

\begin{lem}\label{lem:ternary-full-domain}
    Let\/ $\Pi$ be a projective plane of order\/ $n$ with coordinatization based on the quad\/ $O,X,Y,E$ and the set of symbols~$\ter$. Then
    \begin{enumerate}[a),font=\upshape]
        \item Every point on\/ $[x]$ has coordinates\/ $(x,y)$ for some\/ $y\in\ter$.
        \item Given\/ $x,y,m\in\ter$, there unique\/ $b$ such that\/ $(x,y)\incidence{[m,b]}$.
    \end{enumerate}
\end{lem}

\begin{proof}${}$
    \begin{enumerate}[a)]
        \item By \eqref{eq:line-coordinates} we have ${(\infty)}\incidence{[x]}$ and $(x,0)\incidence{[x]}$. Thus, $[x]=(x,0)(\infty)$. Since the definition of $(x,0)$ implies $(x,0)(\infty)\wedge[1,0]=(x,x)$, we deduce that $[x]\wedge[1,0]=(x,x)$. The conclusion follows from~\eqref{eq:P-coordinates}.

        \item As we have already observed, the points on the line $[0]$ have $0$ as their first coordinate. Thus, $(m)(x,y)\wedge[0]=(0,b)$ for some $b\in\ter$. In particular, $(0,b)\incidence(m)(x,y)$. By the \rr\ $(x,y)\incidence(m)(0,b)$. The conclusion follows because $(m)(0,b)=[m,b]$ by \eqref{eq:line-coordinates}.  %\qedhere
    \end{enumerate}
\end{proof}

\begin{defn}
    Let A \textsl{ternary operation} on the set\/ $\ter$ is a map
    \begin{align*}
        T\colon\ter\times\ter\times\ter&\to\ter\\
        (x,m,b)&\mapsto T(x,m,b).
    \end{align*}
\end{defn}

\begin{defn}
    The algebraic structure $(\ter,T)$, where $T$ is a ternary operation, is called a \textsl{ternary ring} if satisfies following properties:
    \begin{enumerate}[label=TR\arabic*,font=\small]
        \item\label{TR1} For every\/ $x,m,b \in \ter$, we have
        \[
            T(x,0,b) = T(0,m,b) =b
            \quad\text{and}\quad
            T(1,x,0) = T(x,1,0) =x.
        \]
        
        \item\label{TR2} If\/ $x,y,x',y' \in \ter$ are given and\/ $x\ne x'$, then there exists a unique pair\/ $(m,b) \in \ter \times \ter$ for which\/ $T(x,m,b)=y$ and\/ $T(x',m,b)=y'$.
        
        \item\label{TR3} For every\/ $x,y,m\in\ter$ there is a unique\/ $b\in\ter$ for which\/ $y=T(x,m,b)$.
        
        \item\label{TR4} If\/ $m,b,m',b'\in\ter$ are given and\/ $m\ne m'$, then there is a unique\/ $x\in\ter$ for which\/ $T(x,m,b) = T(x,m',b')$.
    \end{enumerate}
\end{defn}


\begin{prop}\label{prop:ternary-properties}
    The ternary operation of a projective plane given by
        \[
            T(x,m,b)=y \iff (x,y)\incidence {[m, b]}
        \]
    defines a ternary ring.
\end{prop}

\begin{proof}${}$
    \begin{enumerate}[TR\arabic*.,font=\small]
        \item From \eqref{eq:line-coordinates} we obtain $[0,b]\wedge[\infty]=(0,b)$ and $[0,b]\wedge[0,0]=(0)$. In particular, $(0,b)\incidence{[0,b]}$. Then $[0,b]=(0,b)(0)$ and so $(x,b)\incidence{[0,b]}$. By definition, it follows that $T(x,0,b)=b$.
        $$
            \begin{tikzpicture}[
                scale=1.0,
                font=\small,
                point/.style={
                    draw,
                    circle,
                    color=black,
                    fill=green,
                    inner sep=1.2pt},
                    every node/.style={font=\footnotesize},
                ]
                \pgfmathsetmacro{\u}{1.7};
                
                % Points
                \coordinate (xstart) at (0.0,0.0);
                \coordinate (xend) at (2*\u,0.0);
                \coordinate (ystart) at (0.0,0.0);
                \coordinate (yend) at (0.0,2*\u);
                \coordinate (E) at (\u,\u*0.8);
                \coordinate (0b) at (0,\u*0.6);
                \coordinate (x0) at (\u*0.3,0);
                \coordinate (O) at (0.0,0.0);
                
                % Axes
                \draw[name path=xaxis,
                    color=orange,
                    thick
                ] (xstart) -- (xend)
                    node[right,text=black] {$[0,0]$}
                    node[point,
                        fill=black,
                        pos=0.5,
                        label={[text=black,xshift=0mm,yshift=-7mm]:
                            $(0)$}
                    ] (X) {};
                \draw[name path=yaxis,
                    color=orange,
                    thick
                ] (ystart) -- (yend)
                    node[above,text=black] {$[0]$}
                    node[point,
                    pos=0.95,
                    fill=black,
                    label={[text=black,left,yshift=-1mm]:
                        $(\infty)$}
                    ] (Y) {};
                \node[point,
                    fill=black,
                    label={[yshift=-5mm,xshift=5mm]:
                        $(1,1)$}
                ] at (E) {};
                \draw[name path=xY] (Y) -- ($(Y)!1.1!(x0)$)
                    node[below] {$[x]$};
                \draw[name path=OE] (O) -- ($(O)!1.4!(E)$)
                    node[right] {$[1,0]$};
                \draw[name path=Xb,thick] (0b) -- ($(0b)!1.4!(X)$)
                    node[right] {$[0,b]$};
                
                \path[name intersections={of=xY and Xb,
                    by=Pxb}];
                \path[name intersections={of=xY and OE,
                    by=xx}];
                \path[name intersections={of=Xb and OE,
                    by=bb}];
                \node[point,
                    label={[xshift=3.3mm,yshift=-1mm]:$(x,b)$}
                ] at (Pxb) {};
                \node[point,
                    label={[xshift=4mm,yshift=-5mm]:$(x,x)$}
                ] at (xx) {};
                \node[point,
                    label={[xshift=5mm,yshift=-3mm]:$(b,b)$}
                ] at (bb) {};
                \node[point,
                    label={[left]:$(0,b)$}
                ] at (0b) {};
                \node[point,
                    fill=black,
                    label={[yshift=-7mm,xshift=-2mm,text=black]:
                        $(0,0)$}
                ] at (O) {};
            \end{tikzpicture}
        $$
        The equation $T(0,m,b)=b$ follows from ~\eqref{eq:line-coordinates}, which implies $(0,b)\incidence{[m,b]}$.

        To see that $T(1,x,0)=x$ it is enough to observe that $(1,x)\incidence{[x,0]}$, which is easily verified as depicted in~\eqref{tik:line-coordinates} for $x=m$.

        In the case of $T(x,1,0)=x$ it suffices to recall that $(x,x)\incidence{[1,0]}$.

        \item Let $P$ and $P'$ be points of the plane such that $P\colon(x,y)$ and $P'\colon(x',y')$. Since $x\ne x'$, it follows that $P\ne P'$, so the line $\block a=PP'$ is well-defined. Moreover, $Y\nincidence\block a'$, for otherwise we would have $PY=P'Y$, which is impossible because $PY\colon[x]$, $P'Y\colon[x']$, and $[x]\ne[x']$. Then, by~\eqref{eq:line-coordinates}, we have $\block a\colon[m,b]$, and the conclusion follows.

        \item This is equivalent to part~b) of Lemma~\ref{lem:ternary-full-domain}.

        \item Let $\block a$ and $\block a'$ be two lines such that $\block a\colon[m,b]$ and $\block b\colon[m',b']$. Since $m\ne m'$, it follows that $\block a\ne\block a'$, so the point $P=\block a\wedge\block a'$ is well-defined. Let $P\colon(x,y)$. Then, $P\incidence\block a$ and $P\incidence\block a'$ translate into $(x,y)\incidence{[m,b]}$ and $(x,y)\incidence{[m',b']}$, as desired.

    \end{enumerate}
\end{proof}

\begin{prop}
    Every ternary ring coordinatizes some projective plane.  
\end{prop}

\begin{proof} Introduce
    \begin{align*}
        \pts &= \set{(\infty)}\cup\set{(c)\mid c\in\ter}
                \cup\set{(a,b)\mid a,b\in\ter}\\
        \blocks &= \set{[\infty]}\cup\set{[x]\mid x\in\ter}
                \cup\set{[m,b]\mid m,b\in\ter}
    \end{align*}
    The incidence relation is defined in the following table, where $\textsc t$ and $\textsc f$ stand for true and false, and $x,y,c,m,b$ are elements of $\ter$,
    \begin{equation}\label{tbl:incidence}
        \begin{array}{c|ccc}
            \incidence& {[\infty]} & {[c]} & {[m,b]}\\
            \hline\rule{0pt}{10pt}
            {(\infty)} &\textsc t &\textsc t &\textsc f \\
            {(x)} &\textsc t &\textsc f &x=m \\
            {(x,y)} &\textsc f &x=c &y=T(x,m,b)
        \end{array}        
    \end{equation}
    To verify axioms \ref{P1}, \ref{P2} and \hyperref[lem:alternative-projective-axiom]{P3'}, we proceed as follows:
    \begin{description}
        \item[\small\sc Axiom P1:]
        $$
            \begin{array}{c|ccc}
                & {(\infty)} & {(c')} & {(x',y')}\\
                \hline\rule{0pt}{10pt}
                {(\infty)} &&{[\infty]}&{[x']} \\
                {(c)} &{[\infty]} &{[\infty]}&(1)\\
                {(x,y)} &{[x]} &(1) &(2)
            \end{array}
        $$
        \needspace{2\baselineskip}
        where
        \begin{enumerate}
            \item By table \eqref{tbl:incidence}, the line $[m,b]$ passes through the points $(c)$ and $(x,y)$ if, and only if, $c=m$ and $y=T(x,m,b)$. Thus, we have to show that there exists $b$ satisfying $y=T(x,c,b)$. But this follows from {\small\ref{TR3}}.

            \item This is property~b) of Proposition~\ref{prop:ternary-properties}.
        \end{enumerate}

        \item[\small\sc Axiom P2:]
        $$
            \begin{array}{c|ccc}
                \wedge& {[\infty]} & {[c']} & {[m',b']}\\
                \hline\rule{0pt}{10pt}
                {[\infty]} &&{(\infty)}&{(m')} \\
                {[c]} &{(\infty)} &{(\infty)}&(3)\\
                {[m,b]} &{(m)} &(3) &(4)
            \end{array}
        $$
        where
        \begin{enumerate}
            \item[3.] By Table~\eqref{tbl:incidence}, the point $(x,y)$ lies on both $[c]$ and $[m,b]$ if, and only if, $x=c$ and $y=T[c,m,b]$.

            \item[4.] If $m\ne m'$, then {\small\ref{TR4}} there exists a unique pair $(x,y)$ incident with both $[m,b]$ and $[m',b']$. If $m=m'$ and $b\ne b'$, the two lines intersect at $(\infty)$.  

        \item[\small\sc Axiom P3':] We claim that the points
        \[
            O=(0,0),\quad X=(0),
                \quad Y=(\infty),\quad E=(1,1)
        \]
        are in general position. To see this, it is enough to prove the following equations
        \[
            OX=[0,0],\quad OE=[1,0],\quad XY=[\infty]
        \]
        and verify the \qr:
        {\small
        $$
            \begin{array}{cccc}
                 O&X&Y&E\\
                 \mbf\cdot&\mbf\cdot&\mbf\cdot\\
                 \mbf\cdot&\mbf\cdot&&\mbf\cdot\\
                 \mbf\cdot&&\mbf\cdot&\mbf\cdot\\
                 &\mbf\cdot&\mbf\cdot&\mbf\cdot
            \end{array}
        $$}
        \begin{enumerate}[-]
            \item $OX=[0,0]$ by property~a) and axiom P1.
                \begin{enumerate}[$\to$]
                    \item $(\infty)\nincidence{[0,0]}$ by table \eqref{tbl:incidence}.
                    \item $(1,1)\nincidence{[0,0]}$ because $T(1,0,0)=0\ne1$ by {\small\ref{TR1}}
                \end{enumerate}
            \item $OE=[1,0]$ since property a) implies that $T(0,1,0)=0$ and $T(1,1,0)=1$. Moreover, $(\infty)\nincidence{[1,0]}$ by \eqref{tbl:incidence}.
            \item $XY=[\infty]$ since \eqref{tbl:incidence} implies $(0)\incidence{[\infty]}$ and $(\infty)\incidence{[\infty]}$. Furthermore, $(1,1)\nincidence{[\infty]}$ by \eqref{tbl:incidence}.
        \end{enumerate}
        \end{enumerate}
    \end{description}
\end{proof}