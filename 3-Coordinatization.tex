\chapter{Coordinatization}

\section{Ternary Operations}

Let $\Pi=\igeo$ be a projective plane of order $n$. Fix in $\Pi$ a quad $O,X,Y,E$. Let $\ter$ be a set of $n$ elements, containing $0$ and $1$, but not $\infty$.

Using these elements, we introduce coordinates as follows
$$
    O\colon(0,0),\quad Y\colon(\infty),\quad E\colon(1,1).
$$
In addition, we label the points of $\tr(OE)\setminus\set{O,E,Z}$, where $Z=OE\wedge XY$, according to an arbitrarily chosen bijection
\begin{equation}\label{eq:diagonal-map}
    \Delta\colon\tr(OE)\setminus\set{O,E,Z}
        \to\set{(\zeta,\zeta)\mid\zeta\in\ter\setminus\set{0,1}},    
\end{equation}
which we will refer to as the \textsl{$\ter$-diagonal map}.

To label a point $P$ that is not on $OE$ nor on $XY$ with $(a,b)$, we define $a$ and~$b$ by
\begin{equation}\label{eq:P-coordinates}
    OE\wedge YP\colon(a,a)
    \quad\text{and}\quad
    OE\wedge XP\colon(b,b),
\end{equation}
as illustrated here
$$
    \begin{tikzpicture}[
        scale=1.20,
        point/.style={
            draw,
            circle,
            color=black,
            fill=black,
            inner sep=1.2pt},
            every node/.style={font=\footnotesize},
        ]
        \pgfmathsetmacro{\u}{1.7};
        
        % Points
        \coordinate (xstart) at (0.0,0.0);
        \coordinate (xend) at (2*\u,0.0);
        \coordinate (ystart) at (0.0,0.0);
        \coordinate (yend) at (0.0,2*\u);
        \coordinate (E) at (\u,\u*0.8);
        \coordinate (P) at (\u*1.7,\u*1.1);
        
        % Axis
        \draw[name path=xaxis,
            color=orange,
            thick
        ] (xstart) -- (xend)
            node[point,
                pos=0.0,
                label={[xshift=2.5mm,yshift=-7mm]:
                    \textcolor{black}{$O\colon(0,0)$}}
            ] (O) {}
            node[point,
                pos=0.5,
                label={[text=black,xshift=2.5mm,yshift=-7mm]:
                    $X\colon(0)$}
            ] (X) {};
        \draw[name path=yaxis,
            color=orange,
            thick
        ] (ystart) -- (yend)
            node[point,
                pos=0.95,
                label={[text=black,left]:
                    $Y\colon(\infty)$}
            ] (Y) {};
        \node[point,
            label={[xshift=0.0mm,yshift=-10mm]:
                $\begin{array}{c}E\colon\\(1,1)\end{array}$}
        ] at (E) {};
        \draw[name path=OE] (O) -- ($(O)!2.2!(E)$);
        \draw[name path=YP] (Y) -- ($(Y)!1.1!(P)$);
        \path[name intersections={of=OE and YP, by=aa}];
        \node[point,
            fill=green,
            label={[yshift=0.8mm,xshift=-0.4mm]:
                $(a,a)$}
        ] at (aa) {};
        \draw[name path=XP] (X) -- ($(X)!1.7!(P)$);
        \path[name intersections={of=OE and XP, by=bb}];
        \node[point,
            fill=green,
            label={[yshift=-4mm,xshift=5mm]:
                $(b,b)$}
        ] at (bb) {};
        \draw[name path=XY] (X) -- (Y)
            node[pos=0.42,
                label={[xshift=-6.3mm,yshift=-3.5mm]:
                $M\colon(m)$}
            ] (M) {};
        \path[name intersections={of=OE and XY, by=zz}];
        \node[point,
            fill=white,
            label={[xshift=-0.7mm,yshift=-10mm]:
                {$\begin{array}{c}Z\colon\\(1)\end{array}$}}
        ] at (zz) {};
        \node[point,
            fill=green
        ] at (P) {};
        \node[label={[yshift=-3.5mm,xshift=8mm]:
            $P\colon(a,b)$}
        ] at (\u*1.3,\u*0.7) at (P) {};
        \draw[name path=YE] (Y) -- ($(Y)!1.8!(E)$);
        \path[name intersections={of=YE and xaxis,by=Q}];
        \node[point,
            fill=green,
            label={[xshift=4mm]:
                $Q\colon(1,0)$}
        ] at (Q) {};
        \draw[name path=OM] (O) -- ($(O)!1.4!(M)$);
        \path[name intersections={of=YE and OM, by=oneM}];
        \node[point,
            fill=lightblue,
            label={right:$(1,m)$}
        ] at (oneM) {};
        \node[point,
            fill=lightblue,
            ] at (M) {};
        \coordinate (zeroC) at (0,\u*0.4);
        \draw[name path=CX] (zeroC) -- (X);
        \path[name intersections={of=CX and OE,by=cc}];
        \node[point,
            fill=green,
            label={left: $(0,c)$}
        ] at (zeroC) {};
        \node[point,
            fill=green,
            label={[xshift=1mm,yshift=-6.6mm]: $(c,c)$}
        ] at (cc) {};
    \end{tikzpicture}
$$
If $Q=OX\wedge EY$, then $OE\wedge YQ=E\colon(1,1)$ and $OE\wedge XQ\colon(0,0)$. Hence, according to \eqref{eq:P-coordinates}, $Q\colon(1,0)$.

Note, in particular, that when the point $P\ne Y$ is on the line $EY$, it is assigned the coordinates $(1,m)$ for some $m$. This is because the first coordinate is determined by the intersection $PY\wedge OE$. In the special case where $P\incidence EY$ this point is~$E$, whose coordinates are $(1,1)$.

The observation we just made allows us to extend the assignment of coordinates to any point $M$ on $XY$. Since the coordinates of $OM\wedge EY$ have the form $(1,m)$, we assign the coordinate $(m)$ to $M$. In particular, $Z\colon(1)$ and $X\colon(0)$.

Observe that points on $OY$, have coordinates $(0,c)$. Similarly, points on $OX$ have coordinates $(a,0)$.

Here is an algorithmic description of the definition:
    \vspace{-1\parskip}
     {\small\alg
    \begin{enumerate}[itemsep=1.5pt, parsep=0pt]
        \item Complete the set $\set{0,1,\infty}$ with $n-2$ symbols $\set{a,b,c,\dots}$.
        \item Choose a quad $O,X,Y,E$.
        \item Define $Z=OE\wedge XY$.
        \item Label $O\colon(0,0)$, $Y\colon(\infty)$, $E\colon(1,1)$.
        \item For every point on $OE$, distinct from $Z$, choose a label $(\zeta,\zeta)$.
        \item For $P\nincidence XY$
        \begin{enumerate}[-]
            \item Let $(b,b)$ be the label assigned to $XP\wedge OE$.
            \item Let $(a,a)$ be the label assigned to $YP\wedge OE$.
        \end{enumerate}
        Label $P\colon(a,b)$.
        \item For $M$ on $XY$, let $OM\wedge YE\colon(1,m)$. Label $M\colon(m)$.
    \end{enumerate}
    }

Coordinates are further extended to lines. Here we will use square brackets to distinguish them from point coordinates. Given $\block a\in\blocks$, we define
\begin{equation}\label{eq:line-coordinates}
    \block a\colon
        \begin{cases}
            [\infty]    &\text{if }\block a=XY,\\
            [x]   &\text{if }\block a\ne XY,
                \ Y\incidence\block a,\
                \block a\wedge OX\colon(x,0),\\
            [m,b]   &\text{if }
            \ Y\nincidence \block a,
            \ \block a\wedge XY\colon(m),
            \ \block a\wedge OY\colon(0,b),
        \end{cases} 
\end{equation}
\begin{equation}\label{tik:line-coordinates}
    \vcenter{\hbox{
    \begin{tikzpicture}[
        scale=1.2,
        point/.style={
            draw,
            circle,
            color=black,
            fill=black,
            inner sep=1.2pt},
            every node/.style={font=\footnotesize},
        ]
        \pgfmathsetmacro{\u}{1.7};
        
        % Points
        \coordinate (xstart) at (0.0,0.0);
        \coordinate (xend) at (2*\u,0.0);
        \coordinate (ystart) at (0.0,0.0);
        \coordinate (yend) at (0.0,2*\u);
        \coordinate (E) at (\u,\u*0.8);
        \coordinate (P) at (\u*0.4,\u*0.0);
        
        % Axis
        \draw[name path=xaxis,
            color=orange,
            thick
        ] (xstart) -- (xend)
            node[right,text=black] {$[0,0]$}
            node[point,
            pos=0.0,
            label={[yshift=-5mm,xshift=-2mm]:
                \textcolor{black}{$O$}}] (O) {}
            node[point,
                pos=0.5,
                label={[text=black,xshift=-1mm,yshift=-6mm]:
                    $X$}
            ] (X) {};

        \draw[name path=yaxis,
            color=orange,
            thick
        ] (ystart) -- (yend)
            node[above,text=black] {$[0]$}
            node[point,
            pos=0.95,
            label={[text=black,left,yshift=-1mm]:
                $Y$}
            ] (Y) {};
        \node[point,
            label={[yshift=-6mm]:
                $E$}
        ] at (E) {};
        \draw[name path=OE] (O) -- ($(O)!1.5!(E)$)
            node[right] {$[1,0]$};
        \draw[name path=YP] (Y) -- ($(Y)!1.1!(P)$)
            node[xshift=2mm,yshift=-2mm] {$[x]$};
        \node[point,
            fill=green,
            label={[xshift=4mm,yshift=-1mm]:
                $(x,0)$}
        ] at (P) {};
        \draw[name path=OM] (O) -- ($(O)!1.6!(M)$)
            node[right] {$[m,0]$};
        \draw[name path=XY] ($(X)!-0.1!(Y)$) -- (Y)
            node[pos=0,xshift=2.7mm,yshift=-2mm] {$[\infty]$}
            node[pos=0.48,
                label={[left,yshift=-1.5mm]:
                    $(m)$}
            ] (M) {};
        \path[name intersections={of=OE and XY, by=zz}];
        \node[point,
            fill=white,
            label={[xshift=-0.9mm,yshift=-6mm]:
                $Z$}
        ] at (zz) {};
        \draw[name path=YE] (Y) -- ($(Y)!1.2!(E)$)
            node[right] {$[1]$};
        \coordinate (Q) at (0,\u*1.3);
        \draw[name path=QM] (Q) -- ($(Q)!2.1!(M)$)
            node[right] {$[m,b]$};
        \node[point,
            fill=green,
            label={[left]: $(0,b)$}
        ] at (Q) {};
        \path[name intersections={of=OM and YE,by=oneM}];
        \node[point,
            fill=green,
            label={[right,yshift=-0.7mm]:$(1,m)$}
        ] at (oneM) {};
        \node[point,
            fill=lightblue
        ] at (M) {};
    \end{tikzpicture}
    }}
\end{equation}

\begin{rem}
    The interpretation is clear once we compare with regular homogeneous equations in $\PG(2,q)$. The line\/ $XY$ is the line at infinity, which would correspond with $z=0$. The slope\/ $m$ of a line\/ $y=mx+bz$ is determined by the point where it intersects the infinite line\/ $XY$. The\/ $Y$-intercept\/ $b$ is determined by the line's intersection with the\/ $OY$ axis, associated with the equation $x=0$. Lines with infinite slope (vertical lines) have the form\/ $x=cz$ and are assigned the coordinate\/ $[c]$. Every line passing through the origin\/ $O$ has coordinates of the form\/ $[m,0]$ (for finite slopes), or\/ $[0]$ (for the line\/ $OY$ which has infinite slope).
\end{rem}

\begin{xmpl}\label{xmpl:Moulton-coordinatization} [Moulton coordinatization]
    Consider the projective plane associated with the Moulton affine plane of Example~\ref{xmpl:affine-Moulton}.

    We have $O=(0,0)$, $X=\text{horizontal slope}$, $Y=\text{vertical slope}$, and $E=(1,\frac12)$.

    To distinguish cartesian coordinates from the coordinates assigned to points and lines, we will subscript the latter ones with $M$. With this notation, the points on $OE$ have coordinates $(x,x)_M$ that satisfy
    \[
        (x,x)_M=\begin{cases}
            (x,\frac12x) &\text{if }x>0,\\
            (x,x) &\text{if }x\le0.
        \end{cases}
    \]
    By definition, the Moulton coordinates $(u,v)_M$ of a point with cartesian coordinates $(a,b)$, are computed as
    \begin{align*}
        (u,u)_M &= (a,b)Y\wedge OE\\
            &= \set{x=a}\wedge OE\\
            &= \begin{cases}
                    (a,\frac12a)    &\text{if }a>0,\\
                    (a,a)   &\text{if }a\le0.
                \end{cases}\\
            &= (a,a)_M
    \end{align*}
    and
    \begin{align*}
        (v,v)_M &= (a,b)X\wedge OE\\
            &= \set{y=b}\wedge OE\\
            &= \begin{cases}
                    (2b,b)    &\text{if }b>0,\\
                    (b,b)   &\text{if }b\le0.
                \end{cases}\\
            &= \begin{cases}
                (2b,2b)_M   &\text{if }b>0,\\
                (b,b)_M       &\text{if }b\le0.
            \end{cases}
    \end{align*}
    Hence,
    \[
        (u,v)_M = \begin{cases}
            (u,\frac12v)  &\text{if }v>0,\\
            (u,v)   &\text{if }v\le0.
        \end{cases}
    \]
    In particular, $(1,m)_M$ is the point with cartesian coordinates $(1,\frac12m)$ if $m>0$ and $(1,m)$ otherwise. This implies that $(m)_M$ corresponds to the cartesian slope $m$ for $y\le0$, that switches to $\frac12m$ for $y>0$ when $m>0$. Following the construction depicted in \eqref{tik:line-coordinates}, we obtain the visualization below
    $$
        \begin{tikzpicture}[
            scale=0.9,
            font=\footnotesize,
            baseline=(center_ref.base),
            point/.style={draw, circle, fill=black, inner sep=1.0pt, minimum size=1.5pt}
            ]
            \coordinate (center_ref) at (0,0);
            \pgfmathsetmacro{\u}{0.7};
            \pgfmathsetmacro{\m}{3.0*\u}
            \pgfmathsetmacro{\mh}{1.5*\u}
            \coordinate (E) at (3.0,1.5);
            
            % Axes
            \draw[->,thick] (-1.7,0) -- (3.5,0) node[right] {$x$};
            \draw[->,thick] (0,-1.7) -- (0,2.4) node[above] {$y$};
            \draw (-1.5,-1.5) -- (0,0) -- (E);
            \path let \p1 = (E) in
                coordinate (MM) at (\m,\mh)
                coordinate (1Mx) at (\m,0)
                coordinate (1My) at (0,\mh)
                node[label={[yshift=-5.5mm]:$m$}] at (1Mx) {}
                node[label={[yshift=-5.5mm]:$1$}] at (\x1,0) {}
                node[label={[xshift=-3.5mm,yshift=-4.2mm]:$\frac12m$}] at (1My) {}
                (0,{\y1*\u}) edge[dotted] (MM)
                ({\x1*\u},0) edge[dotted] (MM)
                (\x1,0) edge[gray] (E)
                (MM) edge[dotted] (\x1,{\y1*\u})
                (0,0) edge[-latex,color=orange] ({\x1*1.5},{\y1*\u*1.5})
                (0,0) edge[-latex,color=orange] ({-\x1*0.5},{-\m*0.5})
                node[label={[right]:$(m)_M$}] at ({\x1*1.5},{\y1*\u*1.5}) {}
                node[point,
                    fill=green,
                    label={[xshift=-6mm,yshift=-1mm]:$(m,m)_M$}
                ] at ({\x1*\u},{\y1*\u}) {}
                node[point,
                    fill=green,
                    label={[xshift=6.5mm,yshift=-5mm]:$(1,m)_M$}
                ] at (\x1,{\y1*\u}) {};
                \node[point,
                label={[yshift=-0.5mm]:$E\colon(1,1)_M$}
            ] at (E) {};
    \end{tikzpicture}
    $$
    It follows that, for $m>0$, the line $[m,b]_M$ has slope $\frac12m$ and passes through $(0,b)_M=(0,\frac12b)$ if $b\ge0$ or $(0,b)$ if $b<0$.
    $$
        \begin{tikzpicture}[
            scale=0.9,
            font=\small,
            baseline=(center_ref.base)
            ]
            \coordinate (center_ref) at (0,0);
            % Axes
            \draw[->,thick] (-1.7,0) -- (3.5,0) node[right] {$x$};
            \draw[->,thick] (0,-2.1) -- (0,3.5) node[above] {$y$};
            
            % Line d: positive slope with bending
            \def\xz{-1.5}
            \def\yz{-1.8}
            \def\u{1.0}
            \def\v{2.0}
            \pgfmathsetmacro{\xi}{(2*\v*\xz-\yz*\u)/(2*\v-\yz)}
            \draw[name path=d1] (\xz,\yz) -- (\xi,0);
            \pgfmathsetmacro{\mh}{\v/(\u-\xi)};
            \pgfmathsetmacro{\m}{\mh*2};
            
            % Define the y-intercept (b value)
            \pgfmathsetmacro{\b}{\yz-\m*\xz}
            \pgfmathsetmacro{\bh}{\v-\mh*\u}

            % Draw the line using two points
            \draw[name path=d2] (\xi,0) -- (1.2,{\mh*1.2+\bh}) 
                node[right]{$y=\frac12mx+\frac12b$};
            
            \draw[name path=ds,dashed] (\xi,0) -- (0.6,{\m*0.6+\b})
                node[right]{$y=mx+b$};

            \coordinate (A) at ({\xz+0.3},{\m*(\xz+0.3)+\b});
            \draw[fill=black] (A) circle (1.5pt) node[below right,xshift=-1mm] at (A) {$(x_0,y_0)$};
            \coordinate (B) at (0,\b);
            \draw[fill=black] (B) circle (1.5pt) node[xshift=-2.5mm] at (B) {$b$};

            \coordinate (B) at ({\xi+1.5},{\mh*(\xi+1.5)+\bh});
            \draw[fill=black] (B) circle (1.5pt) node[below right,xshift=-1mm]{$(x_1,\frac12y_1)$};

            \coordinate (C) at ({\xi},0);
            \draw[fill=white] (C) circle (1.5pt) node[xshift=2mm,yshift=-3.0mm]{$-\frac bm$};           
        \end{tikzpicture}
        \quad
            \begin{tikzpicture}[
            scale=0.9,
            font=\small,
            baseline=(center_ref.base)
            ]
            \coordinate (center_ref) at (0,0);
            % Axes
            \draw[->,thick] (-0.7,0) -- (4.5,0) node[right] {$x$};
            \draw[->,thick] (0,-2.1) -- (0,3.5) node[above] {$y$};
            
            % Line d: positive slope with bending
            \def\xo{-1.5}
            \pgfmathsetmacro{\dx}{-1.4}
            \pgfmathsetmacro{\xz}{\xo-\dx}
            \pgfmathsetmacro{\yz}{-1.8}
            \pgfmathsetmacro{\u}{1.0-\dx}
            \pgfmathsetmacro{\v}{2.0*(\u+\dx)}
            \pgfmathsetmacro{\xi}{(2*\v*\xz-\yz*\u)/(2*\v-\yz)}
            \draw[name path=d1] (\xz,\yz) -- (\xi,0);
            \pgfmathsetmacro{\mh}{\v/(\u-\xi)};
            \pgfmathsetmacro{\m}{\mh*2};
            
            % Define the y-intercept (b value)
            \pgfmathsetmacro{\b}{\yz-\m*\xz}
            \pgfmathsetmacro{\bh}{\v-\mh*\u}

            % Draw the line using two points
            \draw[name path=d2] (\xi,0) -- (1.2-\dx,{\mh*(1.2-\dx)+\bh}) 
                node[right]{$y=\frac12mx+\frac12b$};

            \draw[dashed] (\xi,0) -- (0,\bh);
                        
            \draw[name path=ds,dashed] (\xi,0) -- (0.6-\dx,{\m*(0.6-\dx)+\b})
                node[right]{$y=mx+b$};

            \coordinate (A) at ({\xz+0.3},{\m*(\xz+0.3)+\b});
            \draw[fill=black] (A) circle (1.5pt) node[right] at (A) {$(x_0,y_0)$};
            \coordinate (B) at (0,\b);
            \draw[fill=black] (B) circle (1.5pt) node[xshift=-2.5mm] at (B) {$b$};

            \coordinate (B) at ({\xi+1.5},{\mh*(\xi+1.5)+\bh});
            \draw[fill=black] (B) circle (1.5pt) node[below right,xshift=-1mm]{$(x_1,\frac12y_1)$};

            \draw[fill=black] (0,\bh) circle (1.5pt) node[left,xshift=-0.5mm]{$\frac12b$};

            \coordinate (C) at ({\xi},0);
            \draw[fill=white] (C) circle (1.5pt) node[xshift=2mm,yshift=-3.0mm]{$-\frac bm$};       
        \end{tikzpicture}
    $$
    The following table summarizes the translation of $(x,y)_M\incidence_M{[m,b]_M}$ to cartesian coordinates for $m>0$
    \[
        \begin{array}{c|cc}
                &x>-\frac bm &x\le-\frac bm\\[2mm]
            \hline\rule{0mm}{4mm}
            b>0
                &(x,\frac12y)\incidence{[\frac12m,\frac12b]}
                &(x,y)\incidence{[m,b]}\\[2mm]
            b<0
                &(x,\frac12y)\incidence{[\frac12m,\frac12b]}
                &(x,y)\incidence{[m,b]}
            \end{array}
    \]
    Thus, for $m>0$, we have
    \[
        (x,y)_M\incidence_M{[m,b]_M} \iff y=mx+b.
    \]
    For $m\le0$, the incidence relation $(x,y)_M\incidence_M{[m,b]_M}$ translates into
    \[
        \begin{array}{c|cc}
                &y>0 &y\le0\\[2mm]
            \hline\rule{0mm}{4mm}
            b>0
                &(x,\frac12y)\incidence{[m,\frac12b]}
                &(x,y)\incidence{[m,\frac12b]}\\[2mm]
            b<0
                &(x,\frac12y)\incidence{[m,b]}
                &(x,y)\incidence{[m,b]}
            \end{array}
    \]
    or
    \[
        \begin{cases}
            y=2mx+b     &b\ge0,\ x\le-\frac b{2m},\\[1mm]
            y=mx+\frac12b   &b\ge0,\ x\ge-\frac b{2m},\\[1mm]
            y=2mx+2b    &b\le0,\ x\le-\frac bm,\\[1mm]
            y=mx+b      &b\le0,\ x\ge-\frac bm.
        \end{cases}
    \]
\end{xmpl}

\begin{prop}\label{prop:coodinatization-maps}
    The maps defined above
    \begin{align*}
        \begin{aligned}
            \sigma\colon\pts
                &\to\set{(\infty)}\cup\ter\cup(\ter\times\ter)\\
            P&\mapsto\begin{cases}
                (\infty)    &\text{\upshape if }P=Y,\\
                (m)     &\text{\upshape if }P\incidence XY,\;P\ne Y,\\
                (a,b)   &\text{\upshape if }P\nincidence XY
            \end{cases}
        \end{aligned}
        &&\begin{aligned}
            \gamma\colon\blocks
                &\to\set{[\infty]}\cup\ter\cup(\ter\times\ter)\\
            \block a&\mapsto\begin{cases}
                [\infty]    &\text{\upshape if }\block a=XY,\\
                [x]         &\text{\upshape if }Y\incidence\block a,\\
                [m,b]       &\text{\upshape if }Y\nincidence\block a
            \end{cases}
        \end{aligned}
    \end{align*}
    are bijective.\footnote{We use $\sigma$ after the Greek word \foreignlanguage{greek}{σημείο} (point) and $\gamma$ after \foreignlanguage{greek}{γραμμή} (line).}
\end{prop}

\begin{proof}
    Suppose that $\sigma(P)=\sigma(Q)$. Let $v$ be this common value. There are four cases:
    \begin{enumerate}[1.]
        \item If $v=\infty$, then $P=Y=Q$.
        
        \item If $v=(a,a)$, then $P=Q$ because, by construction, there is a bijection between these pairs and the points incident with $OE$.
        
        \item If $v=(a,b)$, then $PY\wedge OE=QY\wedge OE$ and $PX\wedge OE=QX\wedge OE$. Let $A$ be the first of these two points and $B$ the second. By the \rr\ $P,Q\incidence Y\!A$ and $P,Q\incidence XB$. Hence, $P=Y\!A\wedge XB=Q$.
        
        \item If $v=(m)$, then $P,Q\incidence XY$ and $\sigma(OP\wedge Y\!E)=(1,m)=\sigma(OQ\wedge Y\!E)$. By the previous case, $OP\wedge Y\!E=OQ\wedge Y\!E$. Let $C$ denote this common value. By the \rr\ $P,Q\incidence OC$. Hence, $P=OC\wedge XY=Q$.
    \end{enumerate}
    It follows that $\sigma$ is injective. Since domain and codomain have the same number of elements, the map is bijective.

    To verify that $\gamma$ is bijective suppose $\gamma(\block a)=\gamma(\block b)$. Let $w$ be this common value. There are three cases:
    \begin{enumerate}[1.]
        \item If $w=[\infty]$, then $\block a=XY=\block b$.

        \item If $w=(m,b)$, then
        \begin{align*}
            \sigma(\block a\wedge XY)&=(m)=\sigma(\block b\wedge XY)\\
            \sigma(\block a\wedge OY)&=(0,b)=\sigma(\block b\wedge OY).
        \end{align*}
        By the injectivity of $\sigma$, we deduce that
        \begin{align*}
            \block a\wedge XY=\block b\wedge XY
            \quad\text{and}\quad
            \block a\wedge OY=\block b\wedge OY.
        \end{align*}
        Let $P$ and $Q$ denote the common values of these expressions. Since $Y\nincidence\block a,\block b$, we deduce that $P\ne Q$ and so $\block a=PQ=\block b$.
        
        \item If $w=[x]$, then $Y\incidence\block a,\block b$ and $\sigma(\block a\wedge OX)=(x,0)=\sigma(\block b\wedge OX)$. Hence, $\block a\wedge OX=\block b\wedge OX$. Thus, if $C$ is the common value of these two expressions, then $C\ne Y$ since $X,Y,O$ are not collinear, and so $\block a=YC=\block b$.
    \end{enumerate}
    Thus, $\gamma$ is injective and, \textit{a fortiori}, bijective because domain and codomain are equipotent.
\end{proof}

\begin{prop}
    The homogeneous coordinates of $\PG(2,q)$ are compatible with the coordinates introduced above for the abstract finite projective plane with $\ter=\Fq$.
\end{prop}

\begin{proof}
    Take $O=[0:0:1]$, $X=[1:0:0]$, $Y=[0:1:0]$, $E=[1:1:1]$. Then
    \[
        OX\equiv y=0,\quad OY\equiv x=0,\quad
        OE\equiv x=y,\quad XY\equiv z=0,\quad
        EY\equiv x=z.
    \]
    It follows that $Z=XY\wedge OE=[1:1:0]$.
    We have the following cases
    \begin{enumerate}[-]
        \item Points on $OE$ other than $Z$ have coordinates $[a:a:1]$.

        \item If $P\nincidence OE$, then $P=[a:b:1]$ and so
        \begin{align*}
            YP\wedge OE\equiv(x=az)\wedge(x=y)
                &\implies YP\wedge OE=[a:a:1]\\
            XP\wedge OE\equiv(y=bz)\wedge(x=y)
                &\implies XP\wedge OE=[b:b:1].
        \end{align*}
    
        \item If $P\incidence XY$, $P\ne Y$, then $P=[1:m:0]$. Hence,
        \[
        EY\wedge OP\equiv(x=z)\wedge(y=m x)
        \]
        Thus, $EY\wedge OP=[1:m:1]$.
    
        \item If $P\incidence OY$, $P\ne Y$, then $P=[0:c:1]$
        \[
            XP\wedge OE\equiv(y=cz)\wedge(x=y),
        \]
        which implies $XP\wedge OE=[c:c:1]$.

        \item If $P\incidence OX$, $P\ne X$, then $P=[a:0:1]$.
    \end{enumerate}
    In conclusion, we have the following bijection between homogeneous and abstract coordinates:
    \begin{align*}
        \sigma\colon[x:y:1] &\mapsto (x,y)\\
        \sigma\colon[x:y:0] &\mapsto (y/x)
    \end{align*}
    with the convention $1/0=\infty$.

    The same idea works for lines:
    \begin{align*}
        \gamma\colon(m:-1:b) &\mapsto[m,b]\\
        \gamma\colon(u:0:v) &\mapsto[-v/u]
    \end{align*}
    In particular,

    \vspace{-1.5\parskip}
    {\small
    \[
        \begin{array}{c|clc}
            {\text{line}} & \text{equation} & \text{homogeneous} &\text{coordinates}\\
            \hline\rule{0pt}{10pt}
            OX &  y=0 & (0:1:0) & [0,0]\\
            OY &  x=0 & (1:0:0) & [0]\\
            OE &  x=y & (1:-1:0) & [1,0]\\
            XY &  z=0 & (0:0:1) & [\infty]\\
            EY &  x=z & (1:0:-1) & [1]\\
        \end{array}
    \]}
\end{proof}

\begin{test}
    Consider the Fano plane

    \vspace{-2\parskip}
    $$
    \begin{tikzpicture}[
        scale=1.1,
        font=\small,
        point/.style={draw, circle, fill=black, inner sep=1.5pt, minimum size=4pt}
        ]
     
        % Points
        \coordinate (X) at (90:1.5);
        \coordinate (Y) at (210:1.5);
        \coordinate (O) at (330:1.5);
        \coordinate (P3) at ($(X)!0.5!(Y)$);
        \coordinate (P1) at ($(Y)!0.5!(O)$);
        \coordinate (P2) at ($(O)!0.5!(X)$);
        
        % Center
        \coordinate (E) at (0,0);
        
        % Lines
        \draw (X) -- (P3) -- (Y);
        \draw (Y) -- (P1) -- (O);
        \draw (O) -- (P2) -- (X);
        \draw (X) -- (E) -- (P1);
        \draw (Y) -- (E) -- (P2);
        \draw (O) -- (E) -- (P3);
        
        \draw (E) circle (0.75cm);
        
        % Point labels
        \node[point, label=above:$X$] at (X) {};
        \node[point, label=left:$Y$] at (Y) {};
        \node[point, label=right:$O$] at (O) {};
        \node[point, fill=white, label=left:$3$] at (P3) {};
        \node[point, fill=green, label=below:$1$] at (P1) {};
        \node[point, fill=green, label=right:$2$] at (P2) {};
        \node[point, label={[label distance=2pt]left:$E$}] at (E) {};
    \end{tikzpicture}
    $$
    Following the algorithm of coordinatization, we get
    
    \vspace{-0.5\parskip}
     {\small\alg
    \begin{enumerate}[itemsep=1.8pt, parsep=0pt]
        \item Symbols: $\set{0,1,\infty}$.
        \item Quad: $O,X,Y,E$.
        \item Define $Z=OE\wedge XY=3$.
        \item Assign $O\colon(0,0)$, $Y\colon(\infty)$, $E\colon(1,1)$.
        \item Empty for $n=2$.
        \item \begin{enumerate}[-,itemsep=1.8pt, parsep=0pt]
                \item $X1\wedge OE=E\colon(1,1)$ and $Y1\wedge OE=O\colon(0,0)$ and label $1\colon(0,1)$
                \item $X2\wedge OE=O\colon(0,0)$ and $Y2\wedge OE=E\colon(1,1)$ and label $2\colon(1,0)$.
            \end{enumerate}
        \item \begin{enumerate}[-,itemsep=1.8pt, parsep=0pt]
                \item For $M=3$ let $OM\wedge YE=E\colon(1,1)$, label $3\colon(1)$.
                \item For $M=X$ let $OX\wedge YE=2\colon(1,0)$, label $X\colon(0)$.
            \end{enumerate}
    \end{enumerate}
    }
    \vspace{-1\parskip}
    We can now compare with the homogenous coordinates of Proposition~\ref{prop:Fano=PG(2,2)} that would have assigned
    \begin{align*}
        X&=[1:0:0]  &Y&=[0:1:0] &O&=[0:0:1] &E&=[1:1:1]\\
        3&=[1:1:0]  &2&=[1:0:1] &1&=[0:1:1].
    \end{align*}
\end{test}

\begin{lem}\label{lem:ternary-full-domain}
    Let\/ $\Pi$ be a projective plane of order\/ $n$ with coordinatization based on the quad\/ $O,X,Y,E$ and the set of symbols~$\ter$. Then
    \begin{enumerate}[a),font=\upshape]
        \item Every point on\/ $[x]$ has coordinates\/ $(x,y)$ for some\/ $y\in\ter$.
        \item Given\/ $x,y,m\in\ter$, there is a unique\/ $b$ such that\/ $(x,y)\incidence{[m,b]}$.
    \end{enumerate}
\end{lem}

\begin{proof}${}$
    \begin{enumerate}[a)]
        \item By \eqref{eq:line-coordinates} we have ${(\infty)}\incidence{[x]}$ and $(x,0)\incidence{[x]}$. Thus, $[x]=(x,0)(\infty)$. Since the definition of $(x,0)$ implies $(x,0)(\infty)\wedge[1,0]=(x,x)$, we deduce that $[x]\wedge[1,0]=(x,x)$. The conclusion follows from~\eqref{eq:P-coordinates}.

        \item As we have already observed, the points on the line $[0]$ have $0$ as their first coordinate. Thus, $(m)(x,y)\wedge[0]=(0,b)$ for some $b\in\ter$. In particular, $(0,b)\incidence(m)(x,y)$. By the \rr\ $(x,y)\incidence(m)(0,b)$. The conclusion follows because $(m)(0,b)=[m,b]$ by \eqref{eq:line-coordinates}.  %\qedhere
    \end{enumerate}
\end{proof}

\begin{defn}
    A \textsl{ternary operation} on the set\/ $\ter$ is a map
    \begin{align*}
        T\colon\ter\times\ter\times\ter&\to\ter\\
        (x,m,b)&\mapsto T(x,m,b).
    \end{align*}
\end{defn}

\begin{defn}\label{defn:ternary-ring}
    The algebraic structure $(\ter,T)$, where $T$ is a ternary operation, is called a \textsl{ternary ring of order}~$n$ if $\ter$ has $n$ elements and the following axioms hold:
    \begin{enumerate}[
        label=tr$_{\arabic*}$,
        ref={\upshape\scshape tr$_{\arabic*}$},
        font=\scshape]
        \item\label{TR1} For every\/ $x,m,b \in \ter$, we have
        \[
            \textsc{i) } T(x,0,b) = T(0,m,b) =b
            \quad\text{and}\quad
            \textsc{ii) } T(1,x,0) = T(x,1,0) =x.
        \]
        \item\label{TR2} If\/ $x,y,x',y' \in \ter$ are given and\/ $x\ne x'$, then there exists a unique pair\/ $(m,b) \in \ter \times \ter$ for which\/ $T(x,m,b)=y$ and\/ $T(x',m,b)=y'$.
        
        \item\label{TR3} For every\/ $x,y,m\in\ter$ there is a unique\/ $b\in\ter$ for which\/ $y=T(x,m,b)$.
        
        \item\label{TR4} If\/ $m,b,m',b'\in\ter$ are given and\/ $m\ne m'$, then there is a unique\/ $x\in\ter$ for which\/ $T(x,m,b) = T(x,m',b')$.
    \end{enumerate}
    When \ref{TR1} \textsc{ii)} is relaxed to only require $T(1,1,0)=1$, the resulting structure is called \textsl{ternary prering}.
\end{defn}


\begin{prop}\label{prop:ternary-properties}
    The ternary operation of a projective plane given by
        \[
            T(x,m,b)=y \iff (x,y)\incidence {[m, b]}
        \]
    defines a ternary ring.
\end{prop}

\needspace{2\baselineskip}
\begin{proof}${}$
    \begin{enumerate}[tr$_\arabic*$:,font=\scshape]
        \item From \eqref{eq:line-coordinates} we obtain $[0,b]\wedge[\infty]=(0,b)$ and $[0,b]\wedge[0,0]=(0)$. In particular, $(0,b),(0)\incidence{[0,b]}$. Then $[0,b]=(0,b)(0)$ and so $(x,b)\incidence{[0,b]}$, as illustrated below. Hence, the definition of $T$ implies $T(x,0,b)=b$.
        $$
            \begin{tikzpicture}[
                scale=1.1,
                font=\small,
                point/.style={
                    draw,
                    circle,
                    color=black,
                    fill=green,
                    inner sep=1.2pt},
                    every node/.style={font=\footnotesize},
                ]
                \pgfmathsetmacro{\u}{1.7};
                
                % Points
                \coordinate (xstart) at (0.0,0.0);
                \coordinate (xend) at (2*\u,0.0);
                \coordinate (ystart) at (0.0,0.0);
                \coordinate (yend) at (0.0,2*\u);
                \coordinate (E) at (\u,\u*0.8);
                \coordinate (0b) at (0,\u*0.6);
                \coordinate (x0) at (\u*0.3,0);
                \coordinate (O) at (0.0,0.0);
                
                % Axes
                \draw[name path=xaxis,
                    color=orange,
                    thick
                ] (xstart) -- (xend)
                    node[right,text=black] {$[0,0]$}
                    node[point,
                        fill=black,
                        pos=0.5,
                        label={[text=black,xshift=0mm,yshift=-7mm]:
                            $(0)$}
                    ] (X) {};
                \draw[name path=yaxis,
                    color=orange,
                    thick
                ] (ystart) -- (yend)
                    node[above,text=black] {$[0]$}
                    node[point,
                    pos=0.95,
                    fill=black,
                    label={[text=black,left,yshift=-1mm]:
                        $(\infty)$}
                    ] (Y) {};
                \node[point,
                    fill=black,
                    label={[yshift=-5mm,xshift=5mm]:
                        $(1,1)$}
                ] at (E) {};
                \draw[name path=xY] (Y) -- ($(Y)!1.1!(x0)$)
                    node[below] {$[x]$};
                \draw[name path=OE] (O) -- ($(O)!1.4!(E)$)
                    node[right] {$[1,0]$};
                \draw[name path=Xb,thick] (0b) -- ($(0b)!1.4!(X)$)
                    node[right] {$[0,b]$};
                
                \path[name intersections={of=xY and Xb,
                    by=Pxb}];
                \path[name intersections={of=xY and OE,
                    by=xx}];
                \path[name intersections={of=Xb and OE,
                    by=bb}];
                \node[point,
                    label={[xshift=3.3mm,yshift=-1mm]:$(x,b)$}
                ] at (Pxb) {};
                \node[point,
                    label={[xshift=4mm,yshift=-5mm]:$(x,x)$}
                ] at (xx) {};
                \node[point,
                    label={[xshift=5mm,yshift=-3mm]:$(b,b)$}
                ] at (bb) {};
                \node[point,
                    label={[left]:$(0,b)$}
                ] at (0b) {};
                \node[point,
                    fill=black,
                    label={[yshift=-7mm,xshift=-2mm,text=black]:
                        $(0,0)$}
                ] at (O) {};
            \end{tikzpicture}
        $$
        Equality $T(0,m,b)=b$ follows as it simply means $(0,b)\incidence{[m,b]}$.

        To see that $T(1,x,0)=x$ it is enough to observe that $(1,x)\incidence{[x,0]}$, which is easily verified as depicted in~\eqref{tik:line-coordinates} for $x=m$.

        For $T(x,1,0)=x$ it suffices to recall that, by definition, $(x,x)\incidence{[1,0]}$.

        \item Let $P$ and $P'$ be points of the plane such that $P\colon(x,y)$ and $P'\colon(x',y')$. Since $x\ne x'$, it follows that $P\ne P'$, so the line $\block a=PP'$ is well defined. Moreover, $Y\nincidence\block a$, for otherwise we would have $PY=P'Y$, which is impossible because $PY\colon[x]$, $P'Y\colon[x']$, and $[x]\ne[x']$. Then, by~\eqref{eq:line-coordinates}, we have $\block a\colon[m,b]$, and the conclusion follows.

        \item This is equivalent to part~b) of Lemma~\ref{lem:ternary-full-domain}.

        \item Let $\block a$ and $\block a'$ be two lines such that $\block a\colon[m,b]$ and $\block a'\colon[m',b']$. Since $m\ne m'$, it follows that $\block a\ne\block a'$, so the point $P=\block a\wedge\block a'$ is well defined. Let $P\colon(x,y)$. Then, $P\incidence\block a$ and $P\incidence\block a'$ translate into $(x,y)\incidence{[m,b]}$ and $(x,y)\incidence{[m',b']}$, as desired. %\qedhere

    \end{enumerate}
\end{proof}


\begin{thm}\label{thm:projective-plane-of-ternary-ring}
    Every ternary prering coordinatizes some projective plane.  
\end{thm}

\begin{proof} Let $(\ter,T)$ be a ternary prering. Introduce
    \begin{align*}
        \pts &= \set{(\infty)}\cup\set{(c)\mid c\in\ter}
                \cup\set{(a,b)\mid a,b\in\ter}\\
        \blocks &= \set{[\infty]}\cup\set{[x]\mid x\in\ter}
                \cup\set{[m,b]\mid m,b\in\ter}
    \end{align*}
    The incidence relation is defined in the following table, where $\textsc t$ and $\textsc f$ stand for true and false, and $x,y,c,m,b$ are elements of $\ter$,
    \begin{equation}\label{tbl:incidence}
        \begin{array}{c|ccc}
            \incidence& {[\infty]} & {[c]} & {[m,b]}\\
            \hline\rule{0pt}{10pt}
            {(\infty)} &\textsc t &\textsc t &\textsc f \\
            {(x)} &\textsc t &\textsc f &x=m \\
            {(x,y)} &\textsc f &x=c &y=T(x,m,b)
        \end{array}        
    \end{equation}
    To verify axioms \ref{P1}, \ref{P2} and \Ptprime, we proceed as follows:
    \begin{description}[font=\normalfont\small\scshape]
        \item[Axiom p$_1$:]
        $$
            \begin{array}{c|ccc}
                & {(\infty)} & {(c')} & {(x',y')}\\
                \hline\rule{0pt}{10pt}
                {(\infty)} &&{[\infty]}&{[x']} \\
                {(c)} &{[\infty]} &{[\infty]}&1\\
                {(x,y)} &{[x]} &1 &2
            \end{array}
        $$
        \needspace{2\baselineskip}
        where
        \begin{enumerate}
            \item By table \eqref{tbl:incidence}, the line $[m,b]$ passes through the points $(c)$ and $(x,y)$ if, and only if, $c=m$ and $y=T(x,m,b)$. Thus, we have to show that there exists $b$ satisfying $y=T(x,c,b)$. But this follows from \ref{TR3}.

            \item This is Axiom \ref{TR2}.
        \end{enumerate}

        \item[Axiom p$_2$:]
        $$
            \begin{array}{c|ccc}
                \wedge& {[\infty]} & {[c']} & {[m',b']}\\
                \hline\rule{0pt}{10pt}
                {[\infty]} &&{(\infty)}&{(m')} \\
                {[c]} &{(\infty)} &{(\infty)}&3\\
                {[m,b]} &{(m)} &3 &4
            \end{array}
        $$
        where
        \begin{enumerate}
            \item[3.] By Table~\eqref{tbl:incidence}, the point $(x,y)$ lies on both $[c]$ and $[m,b]$ if, and only if, $x=c$ and $y=T(c,m,b)$.

            \item[4.] If $m\ne m'$, then by \ref{TR4} there exists a unique pair $(x,y)$ incident with both $[m,b]$ and $[m',b']$. If $m=m'$ and $b\ne b'$, the two lines intersect at $(m)$, on the line $[\infty]$.
        \end{enumerate}

        \item[Axiom p$_3$\!':] We claim that the points
        \[
            O=(0,0),\quad X=(0),
                \quad Y=(\infty),\quad E=(1,1)
        \]
        are in general position. To see this, it is enough to prove the following equations
        \[
            OX=[0,0],\quad OE=[1,0],\quad XY=[\infty]
        \]
        and verify the \qr:
        {\small
        $$
            \begin{array}{cccc}
                 O&X&Y&E\\
                 \mbf\cdot&\mbf\cdot&\mbf\cdot\\
                 \mbf\cdot&\mbf\cdot&&\mbf\cdot\\
                 \mbf\cdot&&\mbf\cdot&\mbf\cdot\\
                 &\mbf\cdot&\mbf\cdot&\mbf\cdot
            \end{array}
        $$}
        \begin{enumerate}[-]
            \item $OX=[0,0]$ by \ref{TR1} \textsc i) and axiom \PP1.
                \begin{enumerate}[$\to$]
                    \item $(\infty)\nincidence{[0,0]}$ by table \eqref{tbl:incidence}.
                    \item $(1,1)\nincidence{[0,0]}$ because $T(1,0,0)=0\ne1$ by \ref{TR1} \textsc i).
                \end{enumerate}
            \item $OE=[1,0]$, since $T(0,1,0)=0$ by \ref{TR1} \textsc i) and $T(1,1,0)=1$ by the relaxed version of \textsc{ii)}. Moreover, $(\infty)\nincidence{[1,0]}$ by \eqref{tbl:incidence}.
            \item $XY=[\infty]$ since \eqref{tbl:incidence} implies $(0)\incidence{[\infty]}$ and $(\infty)\incidence{[\infty]}$. Furthermore, $(1,1)\nincidence{[\infty]}$ by \eqref{tbl:incidence}.
        \end{enumerate}
    \end{description}
\end{proof}

\begin{ntn}\label{ntn:plane-assciated-to-ternary-ring}
    The projective plane associated with the ternary prering\/ $(\ter,T)$ by {\upshape Theorem~\ref{thm:projective-plane-of-ternary-ring}} will be denoted
    \[
        \Pi_T=(\pts_T,\blocks_T,\incidence_T).\footnote{Since $T\colon\ter\times\ter\times\ter\to\ter$, there is no need to include $\ter$ in the subscript.}
    \]

    This projective plane is of the same order as\/~$\ter$. Furthermore, for\/ $\Pi_T$ the bijections\/ $\sigma$ and\/ $\gamma$ of\/ {\upshape Proposition~\ref{prop:coodinatization-maps}} are both the identity.
\end{ntn}


\begin{lem}\label{lem:isomorphic-coordinatized-projective-plane}
    Let\/ $\Pi=\igeo$ be a projective plane of order\/~$n$, and let\/ $\ter$ be a set of\/~$n$ elements containing\/ $0,1$ but not\/~$\infty$. Then the coordinatization of\/~$\Pi$ based on\/ $\ter$ and on a quad\/ $O,X,Y,E$ yields a ternary ring\/ $(\ter,T)$ whose associated projective plane is isomorphic to\/~$\Pi$. Moreover, the collineation between both projective planes maps\/ $(O,X,Y,E)$ to\/ $((0,0),(0),(\infty),(1,1))$.
\end{lem}


\begin{proof}
    Let $\Pi_T=(\pts_T,\blocks_T,\incidence_T)$ be the projective plane associated with $(\ter,T)$. Consider the bijections
    \begin{align*}
        \sigma\colon\pts&\to\pts_T\\
        \gamma\colon\blocks&\to\blocks_T 
    \end{align*}
    defined in Proposition~\ref{prop:coodinatization-maps}. We claim that $(\sigma,\gamma)$ is a collineation. To prove this, we have to show that if $P\incidence\block a$, then $\sigma(P)\incidence_T\gamma(\block a)$. We will say that the flag $(P,\block a)$ is \textsl{good} if the coordinates of $P$ and $\block a$ satisfy the incidence relation. There are several cases for $\sigma(P)$ and $\gamma(\block a)$, namely
    {\small
    \[
        \begin{array}{c|ccc}
            &{[\infty]}&{[a]}&{[m,b]}\\
            \hline\rule{0pt}{10pt}
            (\infty)&\checkmark&\checkmark&\text-\\
            (c)&\checkmark&\text-&1\\
            (x,y)&\text-&2&3
        \end{array}
    \]
    }
    
    Check marks stand for cases where the flag is clearly good; the dash for impossible cases. Let's analyze the three possibilities left
    \begin{enumerate}
        \item Here $P\ne Y$, $P\incidence XY$, $Y\nincidence\block a$, $\block a\wedge XY\colon(m)$, and $\block a\wedge OY\colon(0,b)$. It follows that $P=\block a\wedge XY\colon(m)$. Hence, $c=m$, and since $(m)$ is on $[m,b]$, the flag is good.
        
        \item In this case, $P\nincidence XY$, $PY\wedge OE\colon(x,x)$, $PX\wedge OE\colon(y,y)$, $Y\incidence\block a$, $\block a\ne XY$, and $\block a\wedge OX\colon(a,0)$. Then $PY=\block a$ and so $x=a$. Thus, $(x,y)=(a,y)$ which is on $[a]$, i.e., the flag is good.

        \item As before, $P\nincidence XY$, $PY\wedge OE\colon(x,x)$, $PX\wedge OE\colon(y,y)$. Let $B=\block a\wedge OY$. Then $B\colon(0,b)$. By \eqref{eq:line-coordinates} we have $PY\colon[x]$. Therefore, $[x]\wedge[m,b]=(x,y)$, which implies that the flag is good:
        $$
            \begin{tikzpicture}[
                scale=1.2,
                point/.style={
                    draw,
                    circle,
                    color=black,
                    fill=black,
                    inner sep=1.2pt},
                    every node/.style={font=\footnotesize},
                ]
                \pgfmathsetmacro{\u}{1.7};
                
                % Points
                \coordinate (xstart) at (0.0,0.0);
                \coordinate (xend) at (2*\u,0.0);
                \coordinate (ystart) at (0.0,0.0);
                \coordinate (yend) at (0.0,2*\u);
                \coordinate (E) at (\u,\u*0.8);
                \coordinate (Q) at (\u*0.3,\u*0.0);
                
                % Axis
                \draw[name path=xaxis,
                    color=orange,
                    thick
                ] (xstart) -- (xend)
                    node[right,text=black] {$[0,0]$}
                    node[point,
                    pos=0.0,
                    label={[yshift=-5mm,xshift=-2mm]:
                        \textcolor{black}{$O$}}] (O) {}
                    node[point,
                        pos=0.5,
                        label={[text=black,xshift=-1mm,yshift=-6mm]:
                            $X$}
                    ] (X) {};
        
                \draw[name path=yaxis,
                    color=orange,
                    thick
                ] (ystart) -- (yend)
                    node[above,text=black] {$[0]$}
                    node[point,
                    pos=0.95,
                    label={[text=black,left,yshift=-1mm]:
                        $Y$}
                    ] (Y) {};
                \node[point,
                    label={[xshift=3mm,yshift=-3mm]:
                        $E$}
                ] at (E) {};
                \draw[name path=OE] (O) -- ($(O)!1.5!(E)$)
                    node[right] {$[1,0]$};
                \draw[name path=YQ] (Y) -- ($(Y)!1.1!(Q)$)
                    node[xshift=2mm,yshift=-2mm] {$[x]$};
                \draw[name path=XY] ($(X)!-0.1!(Y)$) -- (Y)
                    node[pos=0,xshift=2.7mm,yshift=-2mm] {$[\infty]$}
                    node[pos=0.48,
                        label={[xshift=4mm,yshift=-3mm]:
                            $(m)$}
                    ] (M) {};
                \path[name intersections={of=OE and XY, by=zz}];
                \draw[name path=YE] (Y) -- ($(Y)!1.2!(E)$)
                    node[right] {$[1]$};
                \coordinate (L) at (0,\u*1.2);
                \draw[name path=blocka] (L) -- ($(L)!2.1!(M)$)
                    node[
                        label={[xshift=4mm,yshift=-6mm]:$[m,b]$}
                    ] {};
                \node[point,
                    fill=green,
                    label={[left]: $(0,b)$}
                ] at (L) {};
                \node[point,
                    fill=lightblue
                ] at (M) {};
                \path[name intersections={of=YQ and blocka,by=P}];
                \node[point,
                    fill=orange,
                    label={[xshift=2mm,yshift=-1.5mm]:$P$}
                ] at (P) {};
                \draw[name path=XP] (X) -- (P);
                \path[name intersections={of=XP and OE, by=yy}];
                \node[point,
                    label={[xshift=-4.3mm,yshift=-3.1mm]:$(y,y)$}
                ] at (yy) {};
            \end{tikzpicture}
        $$
    \end{enumerate}
\end{proof}

\begin{defn}
    The ternary prerings $(\ter,T)$ and $(\ter',T')$ are isomorphic, if there is a map $\theta\colon\ter\to\ter'$ for which $\theta(T(x,m,b))=T'(\theta(x),\theta(m),\theta(b))$ holds for every $x,m,b\in\ter$.
\end{defn}

\begin{lem}\label{lem:left-solution-of-sum}
    Let\/ $(\ter,T)$ be a ternary prering. Given\/ $m,b\in\ter$, with\/ $m\ne0$, the map
    \begin{align*}
        \ter&\to\ter\\
        x&\mapsto T(x,m,b)
    \end{align*}
    is an injection. In particular, if\/ $\ter$ is finite, it is a bijection.
\end{lem}

\begin{proof}
    Suppose that $T(x,m,b)=T(x',m,b)$ for some $x\ne x'$, and let $y$ denote the common value. By \ref{TR1} \textsc i),
    \begin{align*}
        T(x,0,y) &= y, &T(x',0,y) &= y,\\
        T(x,m,b) &= y, &T(x',m,b) &= y.
    \end{align*}
    By \ref{TR2}, we must have $(m,b)=(0,y)$, which is impossible because $m\ne0$.
\end{proof}

\begin{lem}\label{lem:right-solution-of-product}
    Let\/ $(\ter,T)$ be a ternary prering. Given $a\in\ter\setminus\set0$, the map
    \begin{align*}
        \ter&\to\ter\\
        x&\mapsto T(a,x,0)
    \end{align*}
    is an injection. In particular, if\/ $\ter$ is finite, it is a bijection.
\end{lem}

\begin{proof}
    Suppose that $T(a,x,0)=T(a,x',0)$ for some $x'\ne x$, and let $b$ denote this common value. Then, both $m=x$ and $m=x'$ satisfy the equations
    \begin{align*}
        T(a,m,0)&=b &T(0,m,0)&=0.
    \end{align*}
    However, since $a\ne0$, according to \ref{TR2}, there should be a unique pair $(m,0)$ satisfying these equations.
\end{proof}

\begin{rem}\label{rem:ternary-fixed-point}
    Let $\Pi$ be a projective plane with coordinatization $(\ter,T)$ based on the quad $O,X,Y,E$. Then, for $m\ne1$, the map $x\mapsto T(x,m,b)$ of Lemma~\ref{lem:left-solution-of-sum} has a unique fixed point, i.e., there exists $a\in\ter$ such that $T(a,m,b)=a$. Indeed. If $\block a\colon[m,b]$ and $A=\block a\wedge OE$, then $A\colon(a,a)$ and $(a,a)\incidence{[m,b]}$.
\end{rem}

\begin{lem}\label{lem:ternary-isomorphisms-preserve-units}
    If\/ $\theta\colon(\ter,T)\to(\ter',T')$ is an isomorphism of ternary prerings, then\/ $\theta(0)=0'$. If the ternary prerings are ternary rings, then\/ $\theta(1)=1'$.
\end{lem}

\begin{proof}
    Given a pair $(m,b)$, we have
    \begin{align*}
        T'(\theta(0),\theta(m),\theta(b)) &= \theta(T(0,m,b))\\
            &=\theta(b) 
                &&\text{; \ref{TR1} \textsc i)}\\
            &= T'(0',\theta(m),\theta(b)).
    \end{align*}
    Hence, by the Lemma \ref{lem:left-solution-of-sum}, $\theta(0)=0'$, as wanted. On the other hand,
    \begin{align*}
        T'(1',\theta(1),0') &= \theta(1)
                &&\text{; \ref{TR1} \textsc{ii)} non-relaxed}\\
            &= \theta(T(1,1,0))
                &&\text{; \ref{TR1} \textsc{ii)} relaxed}\\
            &= T'(\theta(1),\theta(1),0')
                &&;\ \theta(0)=0'.
    \end{align*}
    Since $\theta(1)\ne\theta(0)=0'$, we can use Lemma \ref{lem:left-solution-of-sum} to conclude that $\theta(1)=1'$.
\end{proof}

\begin{prop}\label{prop:coorinatized-isomorphism}
    Let\/ $\theta\colon (\ter,T)\to(\ter',T')$ be an isomorphism of ternary prerings. Then\/ $\theta$ induces a collineation between the corresponding associated projective planes\/ $\Pi$ and\/ $\Pi'$.\footnote{See {\upshape Theorem~\ref{thm:projective-plane-of-ternary-ring}} for the construction of a projective plane from a ternary prering.} In the particular case where\/ $(\ter,T)$ and\/ $(\ter',T')$ are ternary rings, this collineation maps the base quad\/ $(0,0)$, $(0)$, $(\infty)$, $(1,1)$ of\/ $\Pi$ onto the base quad\/ $(0',0')$, $(0')$, $(\infty')$, $(1',1')$ of\/~$\Pi'$.
\end{prop}



\begin{proof}
   Let\/ $\Pi=\igeo$ and\/ $\Pi'=(\pts',\blocks',\incidence')$ be the projective planes associated with the ternary rings. Define
    \begin{align*}
        \begin{aligned}
            \theta_{\pts}\colon\pts&\to\pts'\\
            (\infty)&\mapsto(\infty')\\
            (x)&\mapsto(\theta(x))\\
            (x,y)&\mapsto(\theta(x),\theta(y))
        \end{aligned}
        &&
        \begin{aligned}
            \theta_{\blocks}\colon\blocks&\to\blocks'\\
            [\infty]&\mapsto[\infty']\\
            [x]&\mapsto[\theta(x)]\\
            [m,b]&\mapsto[\theta(m),\theta(b)]
        \end{aligned}
    \end{align*}
    Both\/ $\theta_{\pts}$ and\/ $\theta_{\blocks}$ are bijections, since\/ $\theta$ is a bijection. By table\/ \eqref{tbl:incidence}, the pair\/ $(\theta_{\pts},\theta_{\blocks})$ preserves incidences, and therefore defines a collineation. The correspondence of base quads is a direct consequence of Lemma~\ref{lem:ternary-isomorphisms-preserve-units}.
    
\end{proof}


\begin{rem}
    The correspondence
    \begin{align*}
        (\ter,T)\mapsto\Pi_T,\qquad 
        \theta\mapsto(\theta_{\pts},\theta_{\blocks})
    \end{align*}
    is functorial, that is, it preserves both identities and compositions.
\end{rem}

\begin{thm}\label{thm:coordinatization-consistency}
    Let\/ $(\ter,T)$ and\/ $(\ter',T')$ be two ternary rings coordinatizing the projective plane\/ $\Pi$, with respective base points\/ $O,X,Y,E$ and\/ $O',X',Y',E'$. Then $(\ter,T)$ and\/ $(\ter',T')$ are isomorphic if, and only if, there exists a collineation of\/ $\Pi$ mapping the quad\/ $(O,X,Y,E)$ onto\/ $(O',X',Y',E')$.
\end{thm}

\begin{proof}
    Let $\Pi=\igeo$. To prove the \textit{only if\/} part, suppose that\/ $\theta\colon\ter\to\ter'$ is an isomorphism of ternary rings. With the notation of Lemma~\ref{lem:isomorphic-coordinatized-projective-plane} and Proposition~\ref{prop:coorinatized-isomorphism}, we obtain the diagram
    \[
        \begin{tikzcd}
            \Pi
                \arrow[d,"{(\sigma,\gamma)}"']
                \arrow[r,"{(\phi_{\pts},\phi_{\blocks})}",dashed]
            & \Pi
                \arrow[d,"{(\sigma',\gamma')}"]\\
            {\Pi_T}
                \arrow[r,"{(\theta_{\pts},\theta_{\blocks})}"']
            & {\Pi_{T'}}
        \end{tikzcd}
    \]
    where the top horizontal collineation ensures commutativity. The conclusion of this part follows directly from the cited lemma and proposition.

    Conversely. If a collineation $(\phi_{\pts},\phi_{\blocks})$ is given that maps $(O,X,Y,E)$ onto $(O',X',Y',E')$, to complete the proof we have to show that there exists an isomorphism $\theta\colon(\ter,T)\to(\ter',T')$ such that
    \begin{equation}\label{eq:theta-equation}
        (\sigma',\gamma')
            \circ(\phi_{\pts},\phi_{\blocks})
            \circ(\sigma,\gamma)^{-1}=(\theta_{\pts},\theta_{\blocks}).
    \end{equation}
    Let $(\varphi,\psi)$ be the collineation on the \lhs\ of~\eqref{eq:theta-equation}. By Lemma~\ref{lem:isomorphic-coordinatized-projective-plane}, we have
    \[
        \varphi(0,0)=(0',0'),\quad\varphi(0)=(0'),
        \quad\varphi(1,1)=(1',1'),\quad\varphi(\infty)=(\infty').
    \]
    Furthermore, since $Z=XY\wedge OE$ and $Z'=X'Y'\wedge O'E'$, we get $\varphi(1)=(1')$. Therefore, using the equality $[m,0]=(m)(0,0)$ for $m=0,1$ we obtain
    \[
        \psi[0,0]=[0',0']\quad\text{and}\quad
        \quad\psi[1,0]=[1',0'].
    \]
    Additionally, from $OY\colon[0]$, $XY\colon[\infty]$, $YE\colon[1]$, $OX\wedge YE\colon(1,0)$ we respectively deduce
    \begin{equation}\label{eq:OE-and-YE}
        \psi[0]=[0'],\quad\psi[\infty]=[\infty'],
            \quad\psi[1,0]=[1'],
            \quad\varphi(1,0)=(1',0').
    \end{equation}
    Consider the bijection
    \begin{align*}
        \theta\colon(\ter,T)&\to(\ter',T')\\
        x&\mapsto x',
    \end{align*}
    where $(x')=\varphi((x))$. In particular $\theta(0)=0'$ and $\theta(1)=1'$. To see that $\theta$ is an isomorphism of ternary rings we have to show that
    \begin{equation}\label{eq:to-be-proven}
        (x,y)\incidence{[m,b]}
            \implies
            (\theta(x),\theta(y))
                \incidence{[\theta(m),\theta(b)]},
    \end{equation}
    where, for the sake of simplicity, we have used $\incidence$ instead of $\incidence_T$. By definition, $(\theta(m))=\varphi((m))$. Thus, from \eqref{eq:OE-and-YE}, we deduce
    \begin{align*}
        \varphi((1,m)) &= \varphi((0,0))\varphi((m))\wedge[1']\\
            &= (0',0')(\theta(m))\wedge[1']\\
            &= (1',\theta(m)).
    \end{align*}
    Since $(c,c)\incidence{[1,0]}$, we have $\varphi((c,c))=(c',c')$, for some $c'\in\ter'$. In addition, from $(1,c)=[1]\wedge(0)(c,c)$, we deduce
    \begin{align*}
        (1',\theta(c)) &= \varphi((1,c))\\
            &=[1']\wedge(0')(c',c')\\
            &= (1',c'),
    \end{align*}
    which implies $c'=\theta(c)$. Hence, $\varphi((c,c))=(\theta(c),\theta(c))$. This has two consequences. First, $\varphi(x,y)=(\theta(x),\theta(y))$. Indeed,\/ $x$ is determined by the relation\/ $(x,y)(\infty)\wedge[1,0]=(x,x)$, and\/ $y$ by\/ $(x,y)(0)\wedge[1,0]=(y,y)$. 

    Second, using that\/ $[m,b]=(m)(0,b)$, we deduce
    \begin{align*}
        \psi[m,b] 
            &= \varphi((m))\varphi((0,b))\\
            &= (\theta(m))(0',\theta(b))\\
            &= [\theta(m),\theta(b)].
    \end{align*}
    Hence, \eqref{eq:to-be-proven} follows directly from
    \[
        (x,y)\incidence{[m,b]}\implies
            \varphi(x,y)\incidence\psi[m,b].
    \]
\end{proof}

\begin{defn}
    In the ternary ring\/ $(\ter,T)$ the \textsl{sum} of two elements $a,b\in\ter$ is defined by
    \[
        a\+b = T(a,1,b).
    \]
    Equivalently, $a\+b$ is the unique element of $\ter$ satisfying $(a,a\+b)\incidence{[1,b]}$.
    $$
        \begin{minipage}[c]{0.45\textwidth}
        \begin{tikzpicture}[
            baseline=(current bounding box.north),
            scale=1.0,
            font=\small,
            point/.style={
                draw,
                circle,
                color=black,
                fill=green,
                inner sep=1.2pt},
                every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\u}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (2*\u,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2*\u);
            \coordinate (E) at (\u*1.2,\u*1.0);
            \coordinate (0b) at (0,\u*0.9);
            \coordinate (a0) at (\u*0.6,0);
            \coordinate (O) at (0.0,0.0);
            
            % Axes
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[right,text=black] {$[0,0]$}
                node[point,
                    fill=black,
                    pos=0.8,
                    label={[text=black,xshift=0mm,yshift=-7mm]:
                        $X$}
                ] (X) {};
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[above,text=black] {$[0]$}
                node[point,
                pos=0.95,
                fill=black,
                label={[text=black,left,yshift=-1mm]:
                    $Y$}
                ] (Y) {};
            \draw[name path=aY] (Y) -- (a0);
            \draw[name path=OE] (O) -- ($(O)!1.4!(E)$)
                node[right] {$[1,0]$};
            \path[name path=XY] (X) -- (Y);
            \path[name intersections={of=XY and OE,by=Z}];
            \draw[name path=b1,red] (0b) -- ($(0b)!1.6!(Z)$)
                node[right,text=black] {$[1,b]$};
            \node[point,
                fill=white,
                label={[xshift=0mm,yshift=-5mm]:
                    $Z$}
            ] at (Z) {};
            \draw[name path=Xb] (0b) -- (X);
  
            \path[name intersections={of=aY and b1,
                by=Pab}];
            \path[name intersections={of=aY and OE,
                by=aa}];
            \path[name intersections={of=Xb and OE,
                by=bb}];
            \node[point,
                fill=red,
                label={[text=black,
                    xshift=6mm,yshift=-1mm]:$(a,a\+b)$}
            ] at (Pab) {};
            \node[point,
                label={[xshift=0mm,yshift=-7mm]:$(a,0)$}
            ] at (a0) {};
            \node[point,
                label={[xshift=1mm,yshift=-7mm]:$(b,b)$}
            ] at (bb) {};
            \node[point,
                label={[left]:$(0,b)$}
            ] at (0b) {};
            \node[point,
                fill=black,
                label={[yshift=-6mm,xshift=-2mm,text=black]:
                    $O$}
            ] at (O) {};
            \node[point,
                fill=black,
                label={[yshift=-3.5mm,xshift=2mm,text=black]:
                    $E$}
            ] at (E) {};
            \node[point,
                label={[xshift=-4.5mm,yshift=-3mm,text=black]:
                    $(a,a)$}
            ] at (aa) {};
        \end{tikzpicture}
        \hfill
        \end{minipage}
        \begin{minipage}[c]{0.5\textwidth}
        \small\alg
            \begin{enumerate}[itemsep=1.8pt, parsep=0pt]
                \item Locate $(a,a)$ and $(b,b)$ on $OE$
                \item Draw the line $[a]=(a,a)Y$
                \item Draw the line $\block b=X(b,b)$
                \item Locate $(0,b)=OY\wedge\block b$
                \item Draw the line $[1,b]=(0,b)Z$
                \item Get $(a,a\+b)=[a]\wedge[1,b]$
            \end{enumerate}
    \end{minipage}
    $$
    The \textsl{multiplication} is defined by
    \[
        a\cdot m = T(a,m,0).
    \]
    Thus, $a\cdot m$ is the unique element of $\ter$ such that $(a,a\cdot m)\incidence{[m,0]}$. As usual, $a\cdot m$ will often be written as\/ $am$.
    $$
        \begin{minipage}[c]{0.45\textwidth}
        \begin{tikzpicture}[
            baseline=(current bounding box.north),
            scale=1.0,
            font=\small,
            point/.style={
                draw,
                circle,
                color=black,
                fill=green,
                inner sep=1.2pt},
                every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\u}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (2*\u,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2*\u);
            \coordinate (E) at (\u*1.65,\u*1.3);
            \coordinate (a0) at (\u*1.3,0);
            \coordinate (O) at (0.0,0.0);
            
            % Axes
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[right,text=black] {$[0,0]$}
                node[point,
                    fill=black,
                    pos=0.9,
                    label={[text=black,xshift=0mm,yshift=-6mm]:
                        $X$}
                ] (X) {};
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[above,text=black] {$[0]$}
                node[point,
                pos=0.95,
                fill=black,
                label={[text=black,left,yshift=-1mm]:
                    $Y$}
                ] (Y) {};
            \draw[name path=aY] (Y) -- (a0);
            \draw[name path=OE] (O) -- ($(O)!1.2!(E)$)
                node[right] {$[1,0]$};
            \draw[name path=XY] (X) -- (Y);
            \draw[name path=YE] (Y) -- (E)
                node[pos=0.7] (1m) {};
            \draw[name path=X1m] (X) -- ($(X)!1.01!(1m)$);
            \draw[name path=O1m,
                red,
                text=black] (O) -- ($(O)!1.2!(1m)$)
                node[above] {$[m,0]$};
            \path[name intersections={of=O1m and XY,by=m}];
            \path[name intersections={of=X1m and OE,by=mm}];
            \draw[name intersections={of=XY and OE,by=Z}];
            \node[point,
                fill=white,
            ] at (Z) {};
  
            \path[name intersections={of=aY and OE,
                by=aa}];
            \path[name intersections={of=aY and O1m,by=am}];
            \node[point,
                label={[xshift=0mm,yshift=-7mm]:$(a,0)$}
            ] at (a0) {};
            \node[point,
                label={[xshift=6mm,yshift=-3.7mm]:$(m,m)$}
            ] at (mm) {};
            \node[point,
                fill=black,
                label={[yshift=-6mm,xshift=-2mm,text=black]:
                    $O$}
            ] at (O) {};
            \node[point,
                fill=black,
                label={[yshift=-3.5mm,xshift=7mm]:
                    $E\colon(1,1)$}
            ] at (E) {};
            \node[point,
                label={[xshift=-0.9mm,yshift=-8mm,text=black]:
                    $(a,a)$}
            ] at (aa) {};
            \node[point,
                label={[xshift=3.5mm,yshift=-3.2mm,text=black]:
                    $(m)$}
            ] at (m) {};
            \node[point,
                label={[xshift=5.5mm,yshift=-2.5mm,text=black]:
                    $(1,m)$}
            ] at (1m) {};
            \node[point,
                fill=red,
                label={[xshift=-5.7mm,yshift=-3.2mm,text=black]:
                    $(a,am)$}
            ] at (am) {};
        \end{tikzpicture}
        \hfill
        \end{minipage}
        \begin{minipage}[c]{0.5\textwidth}
        \small\alg
            \begin{enumerate}[itemsep=1.8pt, parsep=0pt]
                \item Locate $(a,a)$ and $(m,m)$ on $OE$
                \item Draw the line $[a]=(a,a)Y$
                \item Draw the line $\block b=X(m,m)$
                \item Locate $(1,m)=YE\wedge\block b$
                \item Locate $(m)=O(1,m)\wedge XY$
                \item Draw the line $[m,0]=O(m)$
                \item Get $(a,am)=[a]\wedge[m,0]$
            \end{enumerate}
    \end{minipage}
    $$
\end{defn}

\begin{ntn}
    Following the standard convention, we give multiplication precedence over addition. Therefore, we will simply write\/ $x\cdot m\+b$ instead of\/ $(x\cdot m)\+b$.
\end{ntn}

\begin{rem}\label{rem:0m=m0=0}
    Given $m\in\ter$, axiom \ref{TR1} implies that
    \[
        0\cdot m=T(0,m,0)=0\quad\text{and}\quad m\cdot0=T(m,0,0)=0.
    \]
\end{rem}

\begin{rem}
    Given $m\in\ter\setminus\set0$, the following picture illustrates how to find $m'$ such that $m\cdot m'=m'\cdot m=1$
    $$
        \begin{tikzpicture}[
            scale=1.3,
            point/.style={
                draw,
                circle,
                color=black,
                fill=black,
                inner sep=1.2pt},
                every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\u}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (2*\u,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2*\u);
            \coordinate (E) at (\u,\u*1.0);
            
            % Axes
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[right,text=black] {$[0,0]$}
                node[point,
                pos=0.0,
                label={[yshift=-5mm,xshift=-2mm,text=black]:
                    $O$}] (O) {}
                node[point,
                    pos=0.43,
                    label={[text=black,xshift=-1mm,yshift=-6mm]:
                        $X$}
                ] (X) {};
    
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[above,text=black] {$[0]$}
                node[point,
                pos=0.95,
                label={[text=black,left,yshift=-1mm]:
                    $Y$}
                ] (Y) {};
            \draw[name path=OE] (O) -- ($(O)!1.7!(E)$)
                node[right] {$[1,0]$};
            \draw[name path=XY] ($(X)!-0.1!(Y)$) -- (Y)
                node[pos=0,xshift=2.7mm,yshift=-2mm] {$[\infty]$}
                node[pos=0.46,
                    label={[left,yshift=-1.5mm]:
                        $(m)$}
                ] (M) {};
            
            % Lines
            \draw[name path=YE] (Y) -- ($(Y)!1.5!(E)$)
                node[right] {$[1]$};
            \path[name path=XE] (X) -- ($(X)!1.7!(E)$);
            
            % Intersections
            \path[name intersections={of=OE and XY, by=Z}];
            \draw[name path=OM] (O) -- ($(O)!2.5!(M)$)
                node[xshift=2mm,yshift=2mm] {$[m,0]$};
            \node[point,
                fill=white,
                label={[xshift=2.5mm,yshift=-2.5mm]:
                    $Z$}
            ] at (Z) {};
            \path[name intersections={of=XE and OM,by=invOne}];
            \draw (X) -- (invOne);
            \path[name path=Yinv] (Y) -- ($(Y)!1.4!(invOne)$);
            \path[name intersections={of=OE and Yinv,by=invInv}];
            \draw (Y) -- (invInv);
            \draw[name path=XinvInv] (X) -- (invInv);
            \path[name intersections={of=YE and XinvInv,by=1Inv}];
            \draw[name path=OM'] (O) -- (1Inv);
            \path[name intersections={of=OM' and XY,by=M'}];
            
            % Points
            \node[point,
                fill=green,
                label={[xshift=-1.4mm,yshift=-7.7mm,text=black]:
                    $(m')$}
            ] at (M') {};
            \node[point,
                fill=green,
                label={[xshift=6mm,yshift=-3.0mm,text=black]:
                    $(1,m')$}
            ] at (1Inv) {};
            \node[point,
                fill=green,
                label={[xshift=7mm,yshift=-5.0mm,text=black]:
                    $(m',m')$}
            ] at (invInv) {};
            \node[point,
                fill=green,
                label={[xshift=-3.0mm,yshift=0.5mm,text=black]:
                    $(m',1)$}
            ] at (invOne) {};
            \node[point,
                label={[xshift=-2.7mm,yshift=-3.0mm]:
                    $E$}
            ] at (E) {};
            \path[name intersections={of=OM and YE,by=oneM}];
            \node[point,
                fill=green,
                label={[xshift=-5mm,yshift=-3.5mm]:$(1,m)$}
            ] at (oneM) {};
            \node[point,
                fill=lightblue
            ] at (M) {};
        \end{tikzpicture}
    $$
    {\small\alg
         \begin{enumerate}[itemsep=1.8pt, parsep=0pt]
            \item Locate $(m,m)$ on $OE$
            \item Draw $X(m,m)$
            \item Locate $(1,m)=X(m,m)\wedge YE$
            \item Locate $(m)=O(1,m)\wedge XY$
            \item Draw $[m,0]=O(m)$
            \item Locate $(m',1)=XE\wedge[m,0]$\qquad
                ; \textcolor{gray}{$m\ne0\implies XE\wedge[m,0]\ne X$}
            \item Draw $Y(m',1)$
            \item Locate $(m',m')=Y(m',1)\wedge OE$
            \item Draw $X(m',m')$
            \item Locate $(1,m')=X(m,m')\wedge YE$
            \item Draw $O(1,m')$
            \item Locate $(m')=O(1,m')\wedge XY$
         \end{enumerate}
    }
    Note that in the case\/ $m=0$, we would have\/ $XE\wedge[m,0]=X$. However, the algorithm can proceed in this case as well:
    {\small\alg
        \begin{enumerate}[itemsep=1.8pt, parsep=0pt]
        \setcounter{enumi}{9}
            \item Locate $XE\wedge[0,0]=X$
            \item Draw $YX$
            \item Locate $YX\wedge OE=Z$
            \item Draw $XZ$
            \item Locate $XZ\wedge YE=Y$
            \item Draw $OY$
            \item Locate $OY\wedge XY=Y$
        \end{enumerate}
    }
    \vspace{-0.7\parskip}
    finding $\infty$ as the multiplicative inverse of $0$.
\end{rem}


\begin{xmpl}\label{xmpl:Moulton-ternary-ring-defn}
    As a follow-up of Example~\ref{xmpl:Moulton-coordinatization}, the ternary ring $(\R,T_M)$ associated to the Moulton plane is given by
    \[
        T_M(x,m,b) =
            \begin{cases}
                mx+b        &m\ge0,\\[1mm]
                2mx+b     &m<0,\ b\ge0,\ x\le-\frac b{2m},\\[1mm]
                mx+\frac12b   &m<0,\ b\ge0,\ x\ge-\frac b{2m},\\[1mm]
                2mx+2b    &m<0,\ b\le0,\ x\le-\frac bm,\\[1mm]
                mx+b      &m<0,\ b\le0,\ x\ge-\frac bm.
            \end{cases}
    \]
    Let $+_M$ and $\circ_M$ be the sum and multiplication associated with this ternary ring. Then
    \begin{align*}
        u+_Mv &= T_M(u,1,v)= u + v\\
        u\circ_Mv &= T_M(u,v,0)
        = \begin{cases}
            2uv     &\text{if }v,u\le0,\\
            uv      &\text{otherwise}.
        \end{cases}
    \end{align*}
    Note also that, in this case, $T(x,m,b)$ does not always equal $(x\circ_Mm)+_Mb$.
\end{xmpl}


\section{Linear Ternary Rings and Quasifields}

It is not generally true that the operations of sum and multiplication defined on a ternary ring $(\ter,T)$ must satisfy the equality $x\cdot m\+b=T(x,m,b)$. In this section we study these kinds of relations between geometric and algebraic properties and their equivalences.

\begin{defn}
    A \textsl{magma} is a set equipped with an operation. A \textsl{quasigroup} is a magma $(Q,{}\cdot{})$, where, for any two elements $a,b\in Q$, the equations $a\cdot x=b$ and $x\cdot a=b$ have unique solutions. A \textsl{loop} is a quasigroup with an identity element. A \textsl{group} is an associative loop.
\end{defn}

\begin{rem}\label{rem:cancelation}
    Quasigroups are both left- and right-cancellative, i.e., $a\cdot x=a\cdot y$ implies $x=y$, and similarly for $x\cdot a=y\cdot a$.
\end{rem}

\begin{lem}\label{lem:ternary-operations-define-loops}
    If\/ $(\ter, T)$ is a ternary ring and\/ $\ter^* = \ter \setminus \{0\}$, then\/ $(\ter, \+)$ and\/ $(\ter^*,\,\cdot\,)$ are loops with unit elements\/ $0$ and\/ $1$, respectively.
\end{lem}

\begin{proof}
    To verify that $(\ter^*,\,\cdot\,)$ is a magma, we have to show that $a\cdot m=0$ implies $a=0$ or $m=0$. But $a\cdot m=0$, means $(a,0)\incidence{[m,0]}=(m)(0,0)$. If $a=0$ we are done. Otherwise, $(m)\incidence(a,0)(0,0)$ by the \rr. Since $(a,0)(0,0)=[0,0]$, we deduce $(m)\incidence{[0,0]}\wedge[\infty]=(0)$, which implies that $m=0$.

    The equation $a\+x=b$ is equivalent to $T(a,1,x)=b$, which has a unique solution by \ref{TR3}.

    The equation $x\+a=b$ is equivalent to $T(x,1,a)=b$, which has a unique solution by Lemma~\ref{lem:left-solution-of-sum}.

    The equations $a\+0=a$ and $0\+a=a$ are equivalent to $T(a,1,0)=a$ and $T(0,1,a)=a$, which hold by \ref{TR1} \textsc i).

    The equation $a\cdot x=b$ is equivalent to $T(a,x,0)=b$, which has a unique solution when $a\ne0$ by Lemma~\ref{lem:right-solution-of-product}.

    The equation $x\cdot a=b$ is equivalent to $T(x,a,0)=b$, which has a unique solution when $a\ne0$ by Lemma~\ref{lem:left-solution-of-sum}.

    The equations $a\cdot1=a$ and $1\cdot a=a$ are equivalent to $T(a,1,0)=a$ and $T(1,a,0)=a$, which hold by \ref{TR1} \textsc{ii)}.
\end{proof}

\begin{defn}
    As introduced in Appendix~\nameref{ch:nearfields}, Definition~\ref{defn:quasifield}, a triple\/ $(Q, +,{}\cdot{})$, where\/ $Q$ is a set and\/ $+$ and\/ $\cdot$ are binary operations on\/ $Q$, is called a \textsl{right quasifield} if the following conditions hold:
    \begin{enumerate}[\roman*.,
        ref=\upshape(\scshape\roman*),
        font=\upshape\scshape]
        \item\label{qf-i} $(Q, +)$ is an group with identity\/ $0$;
        \item\label{qf-ii} $(Q \setminus \{0\}, {}\cdot{})$ is a loop with identity\/ $1\ne0$;
        \item\label{qf-iii} $(a+b) \cdot c = a \cdot c + b \cdot c$ for every\/ $a,b,c \in Q$ (right distributivity);
        \item\label{qf-iv} For every\/ $a, b, c \in Q$ with\/ $a \ne b$, there is a unique\/ $x \in Q$ satisfying the equation\/ $x \cdot a - x \cdot b = c$.
    \end{enumerate}
\end{defn}

\begin{rem}
    Even though the commutativity of the group $(Q,+)$ is not required in \ref{defn:quasifield}, here we will restrict to that case.
\end{rem}

\begin{prop}\label{prop:trivial-properties}
    Let\/ $(Q, +, {}\cdot{})$ satisfy axioms\/ \ref{qf-i}, \ref{qf-ii}, and\/ \ref{qf-iii} of the definition of quasifield. Then, for every\/ $u, v \in Q$, we have
    \begin{enumerate}[a),font=\upshape]
        \item $0\cdot u=0$,
        \item $-u = (-1) \cdot u$,
        \item $u\cdot(-1)=-u$ and
        \item $u \cdot (-v) = (-u) \cdot v = -(u \cdot v)$
    \end{enumerate}
\end{prop}

\begin{proof}${}$
    \begin{enumerate}[a)]
        \item
        $0\cdot u+0\cdot u\stackrel{\text{\ref{qf-iii}}}=
                (0+0)\cdot u \stackrel{\text{\ref{qf-i}}}= 0\cdot u
        $.
        \item $u + (-1)\cdot u=1\cdot u+(-1)\cdot u=(1+(-1))\cdot u
            = 0\cdot u = 0$.
        \item Put $s=u+u\cdot(-1)$ and let's show that $s=0$. By part b)
        \[
            1=-(-1)=(-1)\cdot(-1).
        \]
        Then
        \begin{align*}
            s\cdot1 &= s\\
                &= u\cdot(-1)+u\cdot(-1)\cdot(-1)\\
                &= (u+u\cdot(-1))\cdot(-1)\\
                &= s\cdot(-1).
        \end{align*}
        If $s\ne0$, by \ref{qf-ii} we would have $1=-1$. Hence, by part~b) $-u=u$ for all $u\in Q$, and so c) is trivial. Otherwise, $s=0$, as wanted.
        \item By the associativity of the multiplication, we have
        \begin{align*}
            u\cdot(-v)+u\cdot v &= u\cdot(-1)\cdot v+u\cdot v
                    &&\text{; part b)}\\
                &= (u\cdot(-1)+u)\cdot v
                    &&\text{; axiom~\ref{qf-iii}}\\
                &= 0\cdot v
                    &&\text{; part c)}\\
                &= 0
                    &&\text{; part a)}
        \end{align*}
        Moreover, $(-u)\cdot v\stackrel{\text{c)}}=u\cdot(-1)\cdot v
        \stackrel{\text{b)}}= u\cdot(-v)$.
    \end{enumerate}
    
\end{proof}

\begin{prop}
    If\/ $Q$ is finite, property\/~\ref{qf-iv} is a consequence of\/~\ref{qf-i}, \ref{qf-ii}, and\/~\ref{qf-iii}.
\end{prop}

\begin{proof}
    Fix $a\ne b\in Q$ and consider the map
    \begin{align*}
        \delta\colon Q&\to Q\\
        x&\mapsto x\cdot a-x\cdot b.
    \end{align*}
    To prove the lemma it suffices to show that $\delta$ is injective. Suppose $\delta(x)=\delta(y)$. Then
    \[
        x\cdot a-y\cdot a=x\cdot b-y\cdot b.
    \]
    Then the lemma and \ref{qf-iii} imply
    \[
        (x-y)\cdot a=(x-y)\cdot b.
    \]
    If $x\ne y$, axiom~\ref{qf-ii} allows us to cancel the nonzero factor $x-y$ on both sides, yielding $a=b$, which contradicts our assumption that $a\ne b$. Hence $x=y$, and $\delta$ is injective, as claimed.
\end{proof}

\begin{defn}\label{defn:linear}
    The ternary ring $(\ter,T)$ is \textsl{linear} if $T(a,m,b)=a\cdot m\+b$ for every $a,m,b\in\ter$.
\end{defn}

\begin{rem}\label{rem:linear-ternary-ring}
    Equivalently, $(\ter,T)$ is linear when
    \[
        T(a,m,b)=T(a\cdot m,1,b)=T(T(a,m,0),1,b)
    \]
\end{rem}

\begin{rem}\label{rem:ternary-sum-group}
    The loop $(\ter,\+)$ is a group if, and only if,
    \[
        T(T(a,1,b),1,c) = T(a,1,T(b,1,c)).
    \]
    The commutativity of the sum is equivalent to
    \[
        T(a,1,b)=T(b,1,a).
    \]
\end{rem}

\begin{xmpl}
    Let\/ $(\kappa,+,{}\cdot{})$ be an ordered field, and let\/ $0 < \zeta \ne 1$ be a fixed element of\/ $\kappa$. We define a new multiplication on the elements of\/ $\kappa$ in the following way:
    \[
    a\circ_\zeta b =
    \begin{cases}
        a\zeta b & \text{if } a\le0 \text{ and } b\le 0,\\
        ab & \text{otherwise}.
    \end{cases}
    \]
    Let $T_\zeta(a,m,b)=a\circ_\zeta m+b$. According to Definition~\ref{defn:ternary-ring}, $(\kappa,T_\zeta)$ is a ternary ring:\footnote{The projective plane associated with $(\R,T_{\frac12})$ is a \textit{variant} of the Moulton plane in which the lines with \textit{negative slope} $m$ bend to $\frac12m$ in the half-plane $\{y>0\}$.}
    \begin{enumerate}[tr$_\arabic*$.,font=\scshape]
        \item Straightforward.
        
        \item Fix $x,x',y,y'\in\kappa$, with $x>x'$. Since these are constants, we can replace $b$ with $b-y'$ and assume that $y'=0$. Thus the equations become
        \[
            \left\{\begin{aligned}
                x\circ_\zeta m+b&=y\\
                x'\circ_\zeta m+b&=0,
            \end{aligned}
            \right.
        \]
        where the unknowns are $m$ and $b$. Let
        \[
            z = \frac y{x-x'}.
        \]
        Then,
        {\small
        \[
            \begin{array}{c|ccc}
                 m&y\ge0&y<0\\
                 \hline\rule{0pt}{10pt}
                 x'\ge0&z&z\\
                 x\ge0>x'&z&y/(x-\zeta x')\\
                 0>x&z&z/\zeta
            \end{array}
        \]}
        \item Consider the equation $x\circ_\zeta m+b=y$, where $x,y,m$ are given and $b$ is the unknown. Then $b=y-x\circ m$ is the unique solution.

        \item It suffices to show that, when $m>m'$, the equation
        \[
                x\circ_\zeta m=
                x\circ_\zeta m'+b,
        \]
        has unique solution $x$. Put $c=b/(m-m')$. Then,
        {\small\[
            \begin{array}{c|ccc}
                 x&b\ge0&b<0\\
                 \hline\rule{0pt}{10pt}
                 m'\ge0&c&c\\
                 m\ge0>m'&c&b/(m-\zeta m')\\
                 0>m&c&c/\zeta
            \end{array}
        \]}
    \end{enumerate}
\end{xmpl}

\begin{thm}\label{thm:(Y,XY)-transitive}
    Let\/ $\Pi$ be a projective plane with ternary ring\/ $(\ter,T)$ based on\/ $O,X,Y,E$. Then\/ $\Pi$ is\/ $(Y,XY)$-transitive if, and only if, $(\ter,T)$ is linear and\/ $(\ter,\+)$ is a group.
\end{thm}

\needspace{2\baselineskip}
\begin{proof}${}$
    \begin{description}
    \item[\rm\textit{if\/} part:] Take two distinct points $P$ and $P'$, not on $XY$ and collinear with $Y$. According to Definition~\ref{defn:(C,a)-transitive}, we have to show that there is a $(Y,XY)$-elation $\alpha$ satisfying $\alpha(P)=P'$. 
    
    We have $P\colon(a,b)$, $P'\colon(a,b')$, and $PP'\colon[a]$, with $b\ne b'$.
    $$
        \begin{tikzpicture}[
            scale=0.9,
            point/.style={
                draw,
                circle,
                color=black,
                fill=black,
                inner sep=1.2pt},
            every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\s}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (2.5*\s,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2*\s);
            \coordinate (E) at (\s*1.5,\s*1.0);
            \coordinate (A) at (\s*0.5,\s*0.0);
            \coordinate (Q) at (\s*1.2,\s*0.0);
            
            % Axis
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[right,text=black] {$[0,0]$}
                node[point,
                pos=0.0,
                label={[yshift=-5mm,xshift=-2mm]:
                    \textcolor{black}{$O$}}] (O) {}
                node[point,
                    pos=0.92,
                    label={[text=black,xshift=0mm,yshift=-6mm]:
                        $X$}
                ] (X) {};
    
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                %node[above,text=black] {$[0]$}
                node[point,
                pos=0.95,
                label={[text=black,left,yshift=-1mm]:
                    $Y$}
                ] (Y) {};
            \node[point,
                label={[xshift=2mm,yshift=-4mm]:
                    $E$}
            ] at (E) {};
            \draw[name path=OE] (O) -- ($(O)!1.2!(E)$)
                node[right] {$[1,0]$};
            \draw[name path=YA] (Y) -- ($(Y)!1.05!(A)$)
                node[xshift=2mm,yshift=-2mm] {$[a]$}
                node[point,
                    fill=orange,
                    pos=0.60,
                    label={[text=black,xshift=-2.5mm,yshift=-2.5mm]:
                        $P'$}
                ] (P') {}
                node[point,
                    fill=orange,
                    pos=0.40,
                    label={[text=black,xshift=-2.0mm,yshift=-2mm]:
                        $P$}
                ] (P) {};;

            \draw[name path=YQ] (Y) -- ($(Y)!1.05!(Q)$)
                node[xshift=2mm,yshift=-2mm] {$[x]$}
                node[pos=0.38] (Q) {};

            \draw[name path=XY] (X) -- (Y);
            \path[name path=YE] (Y) -- ($(Y)!1.2!(E)$);
            \draw[dashed,name path=PQ] (P) -- ($(P)!2.4!(Q)$);
            \path[name intersections={of=XY and PQ,by=M}];
            \node[point,
                fill=yellow,
                label={[xshift=2mm,yshift=-1mm,text=black]:
                    $M$}
            ] at (M) {};
            \draw[dashed,name path=MP'] (M) -- (P');
            \path[name intersections={of=MP' and YQ,by=Q'}];
            \node[point,
                fill=green,
                label={[xshift=3mm,yshift=-3.5mm,text=black]:
                    $Q'$}
            ] at (Q') {};
            \node[point,
                fill=green,
                label={[text=black,xshift=1.3mm,yshift=-1mm]:
                    $Q$}
            ] at (Q) {};
        \end{tikzpicture}
    $$
    Given a point $Q\colon(x,y)$ not lying on $PP'$, let $M = PQ \wedge XY$ and set $Q' = MP' \wedge QY$. Then $Q'$ has the form $Q'\colon(x,y')$ for some $y' \in \ter$. Hence, a $(Y,XY)$-elation must map $Q$ to $Q'$, with no alternative.

    Let $d=b'\dotminus b$, which is well defined because $(\ter,\+)$ is a group. Put $M\colon(m)$. Then, $(a,b),(x,y)\incidence{[m,b]}$ and $(a,b'),(x,y')\incidence{[m,b\+d]}$. Since $(\ter,T)$ is linear, we deduce that $y'=y\+d$. Thus, we can set
    {\small\begin{align*}
        \alpha_{\pts}\colon\pts&\to\pts
        &\alpha_{\blocks}\colon\blocks&\to\blocks\\
        (x,y)&\mapsto(x,y\+d),
        &[m,h]&\mapsto[m,h\+d],\\
        (m)&\mapsto(m),
        &[m]&\mapsto[m],\\
        (\infty)&\mapsto(\infty)
        &[\infty]&\mapsto[\infty].
    \end{align*}}
    
    \vspace{-0.5\baselineskip}
    Clearly $\alpha(P)=P'$. Moreover, $\alpha_{\pts}$ and $\alpha_{\blocks}$ are bijections: since $(\ter,\+)$ is a group, associativity ensures that $y_1=y_2$ whenever $y_1\+d=y_2\+d$. To verify that $(\alpha_{\pts},\alpha_{\blocks})$ is a collineation observe that
    \begin{align*}
        (u,v)\incidence{[m,h]} &\iff v=T(u,m,h)=u\cdot m\+h
                &&\text{; $(\ter,T)$ linearity}\\
            &\iff v\+d=u\cdot m\+(h\+d)
                &&\text{; associativity of }\+\\
            &\iff(u,v\+d)\incidence{[m,h\+d]}
                &&\text{; $(\ter,T)$ linearity}.
    \end{align*}

    \item[\rm\textit{only if\/}:] Take $a,m,b\in\ter$. To prove that $T(a,m,b)=a\cdot m\+b$, we may assume that none of the trivial cases are included. These are $m=0,1$, $b=0$, or $a=0$.
    
    By Baer's Theorem~\ref{thm:baer}, since we are under the hypothesis that $\Pi$ is $(Y,XY)$-transitive, we know that it is $(Y,XY)$-Desarguesian.

    Consider the points $O\colon(0:0)$, $A\colon(a,0)$, $M=(m)$ and $B\colon(0,b)$. Then $MB\colon[m,b]$ and $AY\colon[a]$.

    Define $C_1=OM\wedge AY$ and $C_2=BM\wedge AY$. Since $OM\colon[m,0]$, we have $C_1\colon(a,a\cdot m)$. Moreover, $C_2=(a,y)$ for some $y\in\ter$.

    As $Z\colon(1)$ and $OZ\colon[1,0]$, we have $ZB\colon[1,b]$. Since $C_1\colon[a,a\cdot m]$, we obtain $D_1\colon(a\cdot m,a\cdot m)$. Thus, for $D_2=ZB\wedge YD_1$ we have $D_2\colon(a\cdot m,a\cdot m\+b)$.
    $$
        \begin{minipage}[c]{0.55\textwidth}
        \begin{tikzpicture}[
            baseline=(current bounding box.center),
            scale=1.0,
            point/.style={
                draw,
                circle,
                color=black,
                fill=black,
                inner sep=1.2pt},
            every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\s}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (2.5*\s,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2*\s);
            \coordinate (A) at (\s*0.6,\s*0.0);
            \coordinate (B) at (0.0,\s*0.9);
            \coordinate (E) at (\s*1.8,\s*0.7);
            
            % Axis
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[point,
                pos=0.0,
                label={[yshift=-5mm,xshift=-2mm,text=black]:
                    $O$}] (O) {}
                node[point,
                    pos=0.95,
                    label={[text=black,xshift=0mm,yshift=-6mm]:
                        $X$}
                ] (X) {};
    
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[point,
                pos=0.95,
                label={[text=black,left,yshift=-1mm]:
                    $Y$}
                ] (Y) {};
            \draw[name path=XY] (X) -- (Y)
                node[pos=0.65] (M) {};
            \draw[name path=OE] (O) -- (E);
            \path[name intersections={of=OE and XY,by=Z}];
            \draw[name path=MB] (B) -- ($(B)!1.0!(M)$);
            \draw[name path=MO] (O) -- ($(O)!1.0!(M)$);
            \draw[name path=YA] (Y) -- ($(Y)!1.08!(A)$)
                node[xshift=0mm,yshift=-2mm] {$[a]$};
            \path[name intersections={of=YA and MB,by=C2}];
                    \draw[name path=ZB] (Z) -- (B);
            \draw[name path=XC2] ($(X)!0.3!(C2)$) -- (C2);
            \draw[dashed] (X) -- ($(X)!0.3!(C2)$);
            \draw[name intersections={of=ZB and XC2,by=D2}];
            \path[name intersections={of=YA and MO,by=C1}];
            \draw[name path=YD2] (Y) -- ($(Y)!1.78!(D2)$)
                node[below] {$[a\cdot m]$};
            \path[name intersections={of= OE and YD2,by=D1}];
            \draw (X) -- ($(X)!1.1!(C1)$);

            \draw[thick] (B) -- (C2) -- (D2) -- (B);
            \draw[thick] (O) -- (C1) -- (D1) -- (O);
            \node[point,
                fill=green,
                label={[xshift=-1mm,yshift=-6mm,text=black]:
                    $D_1$}
            ] at (D1) {};
            \node[point,
                fill=green,
                label={[xshift=-7mm,yshift=-3mm,text=black]:
                    $B\colon(0,b)$}
            ] at (B) {};
            \node[point,
                fill=green,
                label={[xshift=1.5mm,yshift=-0.5mm,text=black]:
                    $D_2$}
            ] at (D2) {};
            \node[point,
                fill=green,
                label={[xshift=1.2mm,yshift=-0.3mm,text=black]:
                    $C_2$}
            ] at (C2) {};
            \node[point,
                fill=green,
                label={[xshift=3.5mm,yshift=-2.2mm,text=black]:
                    $C_1$}
            ] at (C1) {};
            \node[point,
                fill=white,
                label={[xshift=-0.5mm,yshift=-5mm,text=black]:
                    $Z$}
                ] at (Z) {};
            \node[point,
                fill=green,
                label={[xshift=4mm,yshift=-1mm,text=black]:
                    $M\colon(m)$}
            ] at (M) {};
            \node[point,
                label={[xshift=2mm,yshift=-1mm,text=black]:
                    $E$}
            ] at (E) {};
        \end{tikzpicture}
        \end{minipage}
        \hfill
        \begin{minipage}[c]{0.35\textwidth}
        {\small
        \begin{align*}
            O\phantom{_1}&\colon(0,0)\\
            C_1&\colon(a,a\cdot m)\\
            D_1&\colon(a\cdot m,a\cdot m)\\[-3.2mm]\\
            B\phantom{_1}&\colon(0,b)\\
            C_2&\colon(a,y)\\
            D_2&\colon(a\cdot m,a\cdot m\+b)\\\\
        \end{align*}
        }
        \end{minipage}
    $$
    This configuration contains two triangles, $OC_1D_1$ and $BC_2D_2$, whose corresponding vertices are collinear with $Y$. Moreover, the intersection points of the corresponding sides, namely $M=OC_1\wedge BC_2$ and $Z=OD_1\wedge BD_2$, lie on $XY$. Since $X=C_1D_1\wedge XY$, we also have $X=C_2D_2\wedge XY$. This means that the second coordinates of $C_2$ and $D_2$ coincide, i.e., 
    \[
        C_2\colon(a,a\cdot m\+b).
    \]
    Hence, $(a,a\cdot m\+b)\incidence{[m,b]}$, which proves that the ternary ring is linear.

    It remains to be shown that $(\ter,\+)$ is a group. By Lemma~\ref{lem:ternary-operations-define-loops}, this reduces to proving the associativity.

    Take $a,b,c\in\ter$. We will show that $(a\+b)\+c=a\+(b\+c)$. The transitivity hypothesis implies the existence of a $(Y,XY)$-elation $\alpha$ mapping $O\colon(0,0)$ to $B\colon(0,c)$.
    
    Given $x\in\ter$, define $A=(x,0)$ and $P\colon(x,y)$. Since $AY\in\Fix\alpha$ and $AY\colon[x]$, we deduce that $\alpha(P)\colon(x,y')$, for some $y'\in\ter$. Thus, the assignment $y\mapsto y'$ defines a bijection $\sigma\colon\ter\to\ter$ that satisfies $\sigma(0)=c$.

    Furthermore, for $M\colon(m)$ it is $\alpha(M)=M$. Consequently,
    \[
        \alpha[m,y]=\alpha(m)\alpha(0,y)=(m)(0,\sigma(y))=[m,\sigma(y)].
    \]
    In particular, for $z=x\+y=T(x,1,y)$, we have
    \[
        (x,z)\incidence{[1,y]}
            \iff (x,\sigma(z))\incidence{[1,\sigma(y)]},
    \]
    which translates into
    \[
        \sigma(x\+y)=x\+\sigma(y).
    \]
    Setting $x=b$, $y=0$ we find
    \[
        \sigma(b)=b\+\sigma(0)=b\+c.
    \]
    Hence, for $x=a$, $y=b$,
    \[
        \sigma(a\+b)=a\+\sigma(b)=a\+(b\+c),
    \]
    while for $x=a\+b$, $y=0$ we obtain
    \[
        \sigma(a\+b)=\sigma((a\+b)\+0)=(a\+b)\+c,
    \]
    which confirms associativity.

    \end{description}
\end{proof}

\begin{thm}\label{thm:(X,XY)-transitive}
    The projective plane\/ $\Pi$ is \textsl{$(X, XY)$-transitive} if, and only if, $(\ter,\+)$ is a group and for every\/ $a,b,c\in\ter$ we have\/ $T(a,b,c\cdot b) = (a\+c)\cdot b$.
\end{thm}

\begin{proof}
    Suppose that $\Pi$ is $(X,XY)$-transitivie. Fix $a,b,c\in\ter$. Let $A\colon(a,0)$, $B\colon(b,0)$, and $C\colon(0,c)$. Locate the points $Q'$, $Q$, $P'$, $P$, $R$, $R'$, $S$, and $S'$, as defined below
    $$
        \begin{minipage}[c]{0.58\textwidth}
        \begin{tikzpicture}[
            baseline=(current bounding box.center),
            scale=1.1,
            point/.style={
                draw,
                circle,
                color=black,
                fill=black,
                inner sep=1.2pt},
                every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\s}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (2.7*\s,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2.3*\s);
            \coordinate (Ax) at (\s*0.5,\s*0.0);
            \coordinate (Q) at (0.0,\s*0.65);
            \coordinate (C) at (0.0,\s*1.0);
            \coordinate (E) at (\s*2.2,\s*1.4);
            
            % Axes
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[point,
                pos=0.0,
                label={[yshift=-5mm,xshift=-2mm,text=black]:
                    $O$}] (O) {}
                node[point,
                    pos=0.98,
                    label={[text=black,xshift=0mm,yshift=-6mm]:
                        $X$}
                ] (X) {};
    
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[point,
                pos=0.98,
                label={[text=black,left,yshift=-1mm]:
                    $Y$}
                ] (Y) {};
            \draw[name path=XY] (X) -- (Y)
                node[pos=0.65] (M) {};
            \draw[name path=OE] (O) -- (E);
            \path[name intersections={of=OE and XY,by=Z}];

            %Lines
            \draw[name path=ZQ] (Z) -- (Q);
            \draw[name path=ZC] (Z) -- (C);
            \draw[name path=AxY] (Ax) -- (Y);

            %Intersections
            \draw[name path=QX] (Q) -- (X);
            \path[name intersections={of=OE and QX,by=Q'}];
            \path[name path=YQ'] (Y) -- ($(Y)!1.37!(Q')$);
            \path[name intersections={of=xaxis and YQ',by=B}];
            \draw[name path=BY] (Y) -- (B);
            \path[name intersections={of=BY and ZC,by=P'}];
            \path[name path=XP'] (X) -- ($(X)!1.5!(P')$);
            \path[name intersections={of=XP' and yaxis,by=P}];
            \draw[dotted] (X) -- (P);
            \path[name path=ZP] (Z) -- (P);
            \draw (P) -- ($(P)!0.45!(Z)$);
            \draw ($(P)!0.55!(Z)$) -- (Z);
            \path[name intersections={of=AxY and ZQ,by=R}];
            \draw[name path=RX] (R) -- (X);
            \path[name intersections={of=RX and OE,by=R'}];
            \path[name intersections={of=QX and YQ',by=Q'}];
            \path[name intersections={of=AxY and ZP,by=S}];
            \draw[name path=R'Y] (R') -- (Y);
            \path[name intersections={of= ZC and R'Y,by=S'}];
            \draw[name path=SS',dashed] (S) -- (X);
            
            %Points
            \node[point,
                fill=white,
                label={[xshift=-0.5mm,yshift=-5mm,text=black]:
                    $Z$}
                ] at (Z) {};
            \node[point,
                label={[xshift=2mm,yshift=-1mm,text=black]:
                    $E$}
            ] at (E) {};
            \node[point,
                fill=green,
                label={[xshift=-7mm,yshift=-3mm,text=black]:
                    $Q\colon(0,b)$}
            ] at (Q) {};
            \node[point,
                fill=green,
                label={[xshift=-7mm,yshift=-3mm,text=black]:
                    $C\colon(0,c)$}
            ] at (C) {};
            \node[point,
                fill=green,
                label={[xshift=-9mm,yshift=-2mm,text=black]:
                    $P\colon(0,b\+c)$}
            ] at (P) {};
            \node[point,
                fill=green,
                label={[xshift=-2mm,yshift=-5mm,text=black]:
                    $P'$}
            ] at (P') {};
            \node[point,
                fill=green,
                label={[xshift=-2mm,yshift=-6mm,text=black]:
                    $A\colon(a,0)$}
            ] at (Ax) {};
            \node[point,
                fill=green,
                label={[xshift=-1.4mm,yshift=-6.1mm,text=black]:
                    $Q'$}
            ] at (Q') {};
            \node[point,
                fill=green,
                label={[xshift=3mm,yshift=-6mm,text=black]:
                    $B\colon(b,0)$}
            ] at (B) {};
            \node[point,
                fill=green,
                label={[xshift=-2.5mm,yshift=-1.9mm,text=black]:
                    $R$}
            ] at (R) {};
            \node[point,
                fill=green,
                label={[xshift=4mm,yshift=-2.4mm,text=black]:
                    $R'$}
            ] at (R') {};
            \node[point,
                fill=green,
                label={[xshift=1mm,yshift=-0.7mm,text=black]:
                    $S$}
            ] at (S) {};
            \node[point,
                fill=green,
                label={[xshift=2mm,yshift=-1.4mm,text=black]:
                    $S'$}
            ] at (S') {};
        \end{tikzpicture}
        \end{minipage}
        \hfill
        \begin{minipage}[c]{0.42\textwidth}
        {\footnotesize
        \begin{align*}
            Q'&=OE\wedge BY\colon(b,b)\\
            Q\phantom'&=OY\wedge XQ'\colon(0,b)\\
            P'&=ZC\wedge BY\colon(b,b\+c)\\
            P\phantom'&=OY\wedge XP'\colon(0,b\+c)\\
            R\phantom'&=ZQ\wedge AY\colon(a,a\+b)\\
            R'&=OE\wedge XR\colon(a\+b,a\+b)\\
            S\phantom'&=ZP\wedge AY\colon(a,a\+(b\+c))\\
            S'&=ZC\wedge YR'\colon(a\+b,(a\+b)\+c)\\
        \end{align*}
        }
        \end{minipage}
    $$
    Let $\alpha$ be an elation with center $X$ and axis $XY$ satisfying $\alpha(Q)=Q'$. Then,
    \begin{align*}
        \alpha(P) &= \alpha(QY)\wedge PX = Q'Y\wedge PX = P',\\
        \alpha(R) &= \alpha(QZ)\wedge RX = Q'Z\wedge RX = R',\\
        \alpha(S) &= \alpha(RY)\wedge SX = R'Y\wedge SX = S'.
    \end{align*}
    In particular, $S,S',X$ are collinear, this is $a\+(b\+c)=(a\+b)\+c$. Thus, $(\ter,\+)$ is associative, or equivalently, a group.

    To verify the equality $T(a,b,c\cdot b)=(a\+c)\cdot b$, take an elation $\beta$ with center $X$ and axis $XY$ satisfying $\beta(O)=A$. Since $\beta$ fixes every line passing through $X$, it fixes the second coordinate of every point, that is, given $x,y\in\ter$, we have $\beta(x,y)=(x',y)$ for some $x'\in\ter$. Thus, the mapping $x\mapsto x'$ defines a permutation $\sigma\in\Sym(\ter)$ that satisfies
    \[
        \beta(x,y)=(\sigma(x),y),
    \]
    with $\sigma(0)=a$. In particular, $\beta(0,y)=(a,y)$. Therefore, given a line $[m,h]$, the equation $[m,h]=(m)(0,h)$ implies
    \[
        \beta([m,h])=(m)(a,h)=[m,k_{m,h}],
    \]
    where $k_{m,h}$ depends on $m$ and $h$ and satisfies $(0,k_{m,h})=[0]\wedge(m)(a,h)$. In addition,
    \[
        (x,y)\incidence{[m,h]}\iff
            (\sigma(x),y)\incidence{[m,k_{m,h}]}.\tag{\dag}
    \]
    Substituting $x=0$, from \ref{TR1} we obtain
    \[
        h=T(a,m,k_{m,h}).\tag{\ddag}
    \]
    From (\dag) and (\ddag), for $m=1$ we get $x\+h=\sigma(x)\+k_{1,h}$ and $k_{1,h}=\!\dotminus a\+h$. Hence,
    \[
        \sigma(x)=x\+a.
    \]
    From (\ddag) and \ref{TR3} we deduce $k_{m,a\cdot m}=0$.  Thus, evaluating ($\dag$) at $h=a\cdot m$, we arrive at
    \[
        T(x,m,a\cdot m) = (x\+a)\cdot m.
    \]
    The conclusion follows by replacing $a$ with $b$, $x$ with $a$, and $m$ with $c$.

    For the \textit{if\/} part assume \textsc{h$_1$}:~$(\ter,\+)$ is a group, and \textsc{h$_2$}:~$T(a,b,c\cdot b)=(a\+c)\cdot b$ for all $a,b,c\in\ter$. Fix $a$ and define the maps
    \begin{align*}
        \varphi\colon\pts&\to\pts
            &\psi\colon\blocks&\to\blocks\\
        (x,y)&\mapsto(x\+a,y)
            &[m,h]&\mapsto[m,k_{m,h}]\\
        (m)&\mapsto(m)
            &[k]&\mapsto[k\+a]\\
        (\infty)&\mapsto(\infty)
            &[\infty]&\mapsto[\infty]
    \end{align*}
    where $k_{m,h}$ is defined by the equation
    \[
        h=T(a,m,k_{m,h}).
    \]
    By \ref{TR1}, $h=T(a,0,k_{0,h})=k_{0,h}$, which shows that $\psi$ fixes every line through $(0)$. Since $\varphi$ fixes every point $(m)$, we deduce that $(\varphi,\psi)$ defines an elation with center $(0)$ and axis $[\infty]$.

    It remains to be shown that
    \[
        (x,y)\incidence{[m,h]}\iff(x\+a,y)\incidence{[m,k_{m,h}]}.
    \]
    Since $(\ter^*,{}\cdot{})$ is a loop, there is a unique $\hat k$ such that $\hat k\cdot m=k_{m,h}$. Then,
    \begin{align*}
        T(x\+a,m,k_{m,h}) &= T(x\+a,m,\hat k\cdot m)\\
            &= (x\+a\+\hat k)\cdot m
                &&;\ \textsc h_1\\
            &= T(x,m,(a\+\hat k)\cdot m)
                &&;\ \textsc h_2\\
            &= T(x,m,T(a,m,\hat k\cdot m))
                &&;\ \textsc h_2\\
            &= T(x,m,T(a,m,k_{m,h}))\\
            &= T(x,m,h),
    \end{align*}
    as desired.
    %
    
\end{proof}

\begin{cor}\label{cor:ternary-quasifield-equivalence}
    The projective plane\/ $\Pi$ is\/ $(X,XY)$-transitive and\/ $(Y,XY)$-transitive if, and only if, the ternary ring\/ $(\ter,T)$ defines a quasifield\/ $(\ter,\+,{}\cdot{})$ that satisfy\/ $T(x,m,k)=x\cdot m\+k$. More explicitly, the points of the affine plane\/ $\Pi\setminus XY$ correspond to the elements of\/ $\ter\times\ter$, while the lines not passing through\/ $Y$ are precisely the sets
    \[
        \{(x,\,x\cdot m+k)\mid x\in\ter\},
    \]
    where\/ $m,k\in\ter$.
\end{cor}

\begin{proof}
    According to Theorems~\ref{thm:(X,XY)-transitive} and~\ref{thm:(Y,XY)-transitive}, it suffices to show, when $\Pi$ is $(X,XY)$- and $(Y,XY)$-transitive, the group $(\ter,\+)$ is abelian. Fix $a,b\in\ter$. As we saw in the proof of Theorem~\ref{thm:(Y,XY)-transitive}, there exists a $(Y,XY)$-elation $\alpha$ that maps $(0,0)$ to $(0,a)$ and satisfies $\alpha(x,y)=(x,y\+a)$. Similarly, the map $\beta(x,y)=(x,y\+b)$ is an $(Y,XY)$-elation. By Theorem~\ref{thm:abelian-elation-group}, $\alpha\comm\beta$, i.e.,
    \[
        (x,y\+a\+b)=\beta\circ\alpha(x,y)=\alpha\circ\beta(x,y)
            = (x,y\+b\+a),
    \]
    which shows that $a\+b=b\+a$, as wanted.
\end{proof}

\begin{rem}\label{rem:O-E-independence}
    It follows from the preceding results that the plane's $(Y,XY)$- and $(X,XY)$-transitivity are intrinsic properties determined entirely by the points $X$ and $Y$. The choice of an origin $O$ and a unit point $E$ to complete the coordinate quad is therefore arbitrary and has no influence on these geometric properties.
\end{rem}

\begin{defn}
    The \textbf{kernel} of the quasifield\/ $(\ter,+,{}\cdot{})$ is the set\/ $\kappa$ of those elements of\/ $\ter$, for which the following two identities hold for every\/ $k\in\kappa$ and\/ $x, y \in \ter$:
    \begin{enumerate}[a), font=\upshape]
        \item $k\cdot(x+y) = k\cdot x + k\cdot y$,
        \item $k\cdot(x\cdot y) = (k\cdot x)\cdot y$.
    \end{enumerate}
\end{defn}

\begin{thm}
    The kernel of any quasifield is a field and the quasifield is a vector space over its kernel. In particular, the order of a finite quasifield is a prime power.
\end{thm}

\begin{proof}
    Let $\kappa$ be the kernel of the quasifield $\ter$. It follows from a) and right distributivity that $\kappa$ is closed under the sum operation. Clearly $1\in\kappa$ and, by Proposition~\ref{prop:trivial-properties}, we see that $0\in\kappa$ and that $-\kappa\subseteq\kappa$. It is straightforward to check that $1\in\kappa$ and that $\kappa$ is closed under multiplication. 
    
    Take $x,y\in\ter$ and $k\in\kappa\setminus\set0$. If $k\cdot k'=1$, we have
    \begin{align*}
        k\cdot(k'\cdot(x+y)) &= (k\cdot k')\cdot(x+y)
                &&\text{; identity b)}\\
            &= 1\cdot(x+y)\\
            &= x+y.
    \intertext{On the other hand}
        k\cdot(k'\cdot x + k'\cdot y) &= k\cdot(k'\cdot x)+k\cdot(k'\cdot y)
                &&\text{; identity a)}\\
            &= (k\cdot k')\cdot x + (k\cdot k')\cdot y
                &&\text{; identity b)}\\
            &= 1\cdot x+1\cdot y\\
            &= x+y.
    \end{align*}
    Then $k\cdot(k'\cdot x + k'\cdot y)=k\cdot(k'\cdot x + k'\cdot y)$ and left-cancellation [Remark~\ref{rem:cancelation}] shows that $k'$ satisfies identity~a).

    For identity b) observe that
    \begin{align*}
        k\cdot(k'\cdot(x\cdot y)) &= (k\cdot k')\cdot(x\cdot y)
                &&\text{; identity b)}\\
            &= 1\cdot(x\cdot y)\\
            &= x\cdot y
    \intertext{and}
        k\cdot((k'\cdot x)\cdot y) &= (k\cdot(k'\cdot x))\cdot y
                &&\text{; identity b)}\\
            &= ((k\cdot k')\cdot x)\cdot y
                &&\text{; identity b)}\\
            &= (1\cdot x)\cdot y\\
            &= x\cdot y.
    \end{align*}
    Finally note that
    \[
        k\cdot(k'\cdot k)=(k\cdot k')\cdot k=1\cdot k= k\cdot1,
    \]
    which implies, by left-cancellation, that $k'\cdot k=1$. Hence, $k'$ is the multiplicative inverse of $k$ in $\kappa$. 
    %
    
\end{proof}

\section{Distributive Quasifields}

Let $\Pi$ be a finite projective plane. Let $(\ter,T)$ be the ternary ring based on the quad $O,X,Y,E$ and the $\ter$-diagonal map $\Delta$ of \eqref{eq:diagonal-map}. Then
\begin{equation}\label{eq:base-coordinates}
    OX\colon[0,0],\quad OY\colon[0],\quad
    XY\colon[\infty],\quad ZU\colon[1,1],
\end{equation}
where $U=XE\wedge OY$, satisfies $U\colon(0,1)$.

In the dual plane $\Pi^*$, consider the quad
\[
    O^* = OX,\quad X^* = OY,\quad Y^* = XY,\quad E^* = ZU,
\]
Since $\Pi$ and $\Pi^*$ have the same order, we can use $\ter$ for the coordinatization of~$\Pi^*$. To do this observe that dual line $O^*E^*$ corresponds to the point
\[
    N=OX\wedge ZU,
\]
and $X^*Y^*$ to
\[
    OY\wedge XY=Y.
\]
Given that $N\incidence OX$, we deduce that $N\colon(\nu,0)$ for some $\nu\in\ter$.
$$
    \begin{tikzpicture}[
        scale=1.1,
        point/.style={
            draw,
            circle,
            color=black,
            fill=black,
            inner sep=1.2pt},
        every node/.style={font=\footnotesize},
        ]
        \pgfmathsetmacro{\s}{1.7};
        
        % Points
        \coordinate (xstart) at (0.0,0.0);
        \coordinate (xend) at (2.5*\s,0.0);
        \coordinate (ystart) at (0.0,0.0);
        \coordinate (yend) at (0.0,2*\s);
        \coordinate (E) at (\s*0.89,\s*1.26);
        
        % Axes
        \draw[name path=xaxis,
            color=orange,
            thick
        ] (xstart) -- (xend)
            node[right,text=black] {$[0,0]$}
            node[point,
            pos=0.0,
            label={[yshift=-5mm,xshift=-2mm]:
                \textcolor{black}{$O$}}] (O) {}
            node[point,
                pos=0.99,
                label={[text=black,xshift=0mm,yshift=-6mm]:
                    $X$}
            ] (X) {};
        \draw[name path=yaxis,
            color=orange,
            thick
        ] (ystart) -- (yend)
            node[point,
            pos=0.51,
            label={[text=black,left,yshift=-1mm]:
                $Y$}
            ] (Y) {};
        \node[point,
            label={[xshift=3mm,yshift=-2.2mm]:
                $E$}
        ] at (E) {};
        \draw[name path=OE] (O) -- ($(O)!1.2!(E)$)
            node[above right] {$[1,0]$};

        % Intersections
        \path[name path=XU] (X) -- ($(X)!1.6!(E)$);
        \path[name intersections={of=XU and yaxis,by=U}];
        \draw (X) -- (U);
        \draw[name path=XY] (X) -- (Y)
            node[pos=0.92] (M) {};
        \path[name intersections={of=XY and OE,by=Z}];
        \path[name path=ZU] (U) -- ($(U)!1.8!(Z)$);
        \path[name intersections={of=xaxis and ZU,by=N}];
        \draw (N) -- (U);
        \draw[name path=blocka] (N) -- ($(N)!1.6!(M)$)
            node[pos=1.0,
                label={[xshift=-3mm,yshift=-2mm]:$[m,b]$}
            ] (m_b) {};
        \path[name intersections={of=blocka and OE,by=A}];
        \path[name intersections={of=yaxis and blocka,by=B}];
        
        % Points
        \node[point,
            fill=white,
            label={[text=black,xshift=3mm,yshift=-2mm]:
                $Z$}
        ] at (Z) {};
        \node[point,
            fill=gray,
            label={[text=black,xshift=-7mm,yshift=-2mm]:
                $U\colon(0,1)$}
        ] at (U) {};
        \node[point,
            fill=gray,
            label={[text=black,xshift=0mm,yshift=-6mm]:
                $N\colon(\nu,0)$}
        ] at (N) {};
        \node[point,
            fill=green,
            label={[text=black,xshift=1.0mm,yshift=-0.5mm]:
                $(m)$}
        ] at (M) {};
        \node[point,
            fill=green,
            label={[text=black,xshift=-5mm,yshift=-3mm]:
                $(0,b)$}
        ] at (B) {};

    \end{tikzpicture}
$$
As $ZU\colon[1,1]$, we obtain $(\nu,0)\incidence{[1,1]}$, or $0=T(\nu,1,1)$. It follows that $Z^*$, defined as $O^*E^*\wedge X^*Y^*$, translates into
\[
    Z^*=NY\colon[\nu].
\]
Now consider a line $\block a\colon[m,b]$, $\block a\ne NZ$. Then $m\ne1$ and
\[
    N\incidence\block a\iff 0=T(\nu,m,b).
\]
Let's now assume that $\Pi$ is $(Y,XY)$-transitive. According to Theorem~\ref{thm:(Y,XY)-transitive}, this means that $(\ter,T)$ is linear and that $(\ter,\+)$ is a group. In particular, $\nu=\dotminus1$ and
\[
    N\incidence\block a\iff (\dotminus1)\cdot m\+ b=0.
\]
Equivalently,
\[
    N\incidence\block a\iff b=m',
\]
where, for notational convenience, we set\/ $m'=\dotminus((\dotminus1)\cdot m)$.

Thus, the $\ter$-diagonal map $\Delta^*$ of $\Pi^*$ can be defined by the equality
\[
    \Delta^*(\block a)=(m,m)^*,
\]
where $\block a\incidence^*O^*E^*=N$ and $m$ is the slope of $\block a$.

Let $(\ter,T^*)$ denote the ternary ring associated with the coordinatization of~$\Pi^*$ based on $O^*,X^*,Y^*,E^*$ and the $\ter$-diagonal map $\Delta^*$.

By definition, the coordinates of a dual point $\block c\colon[s,h]$ are given by the coordinates of
\begin{align*}
    (\block cY^*)\wedge O^*E^*
    \quad\text{and}\quad
    (\block cX^*)\wedge O^*E^*.
\end{align*}
Translated to $\Pi$ these dual yield
\begin{align*}
    \block c\colon(u,v)^*
        &\iff Y^*\block c\wedge O^*E^*\colon(u,u)^*
            \text{ and } X^*c\wedge O^*E^*\colon(v,v)^*\\
        &\iff (XY\wedge\block c)N\colon[u,u']
            \text{ and } (OY\block c)N\colon[v,v']\\
        &\iff (s)(\dotminus1,0)=[u,u']
            \text{ and } (0,h)(\dotminus1,0)\colon[v,v']\\
        &\iff s=u \text{ and } h=v'.
\end{align*}
Hence, $\block c\colon(u,v)^*\iff\block c=[u,v']$.

In the case where $\block c\colon[s]$, we have $Y\incidence\block c$, which is equivalent to $\block c\in X^*Y^*$, and hence, by definition,
\begin{align*}
    \block c\colon(u)^*
        &\iff O^*\block c\wedge Y^*E^*\colon(1,u)^*\\
        &\iff (OX\wedge\block c)Z\colon[1,u']\\
        &\iff (s,0)(1)=[1,u']\\
        &\iff s=\dotminus u'.
\end{align*}
Thus, $\block c\colon(u)^*\iff\block c\colon[\dotminus u']$.

For a dual line $P\colon(x,y)$, we have
\begin{align*}
    P\colon[u,v]^*
        &\iff P\wedge X^*Y^*\colon(u)^*
            \text{ and } P\wedge O^*Y^*\colon(0,v)^*\\
        &\iff PY\colon[\dotminus u']
            \text{ and } PX\colon[0,v']\\
        &\iff x=\dotminus u' \text{ and } y=v'.
\end{align*}
Therefore, $P\colon[u,v]^*\iff P\colon((\dotminus1)\cdot u,v')$.

For a dual line\/ $P\colon(x)$, we have\/ $P\incidence XY$. Hence, by definition,
\begin{align*}
    P\colon[u]^*
        &\iff O^*X^*\wedge P\colon(u,0)^*\\
        &\iff OP\colon[u,0]\\
        &\iff [x,0]=[u,0].
\end{align*}
Consequently, $P\colon[u]^*\iff P\colon(u)$.


Summarizing, the translation between coordinates in $\Pi^*$ and $\Pi$ is given by
\begin{equation}\label{eq:dual-translations}
    \begin{aligned}
        (m,b)^* &= [m,b'], &(m)^* &= [\dotminus m'],  &(\infty)^* &= [\infty]\\
        [x,y]^* &= ((\dotminus1)\cdot x,y'), &[x]^* &= (x), &[\infty]^* &= (\infty).
    \end{aligned}
\end{equation}
In particular,
\[
    (m,b)^*\incidence^*{[x,y]^*}\iff ((\dotminus1)\cdot x,y')\incidence{[m,b']}.
\]
Therefore, if $(\ter,T^*)$ denotes the ternary ring associated with this coordinatization of $\Pi^*$, we obtain
\begin{equation}\label{eq:dual-ternary-ring}
    \begin{aligned}
        b=T^*(m,x,y) &\iff y'=T((\dotminus1)\cdot x, m,b')\\
            &\iff y'=(\dotminus x')\cdot m\+b'.
    \end{aligned}    
\end{equation}
Let $\oplus$ and $\odot$ denote the sum and the multiplication induced by $(\ter,T^*)$. From \eqref{eq:dual-ternary-ring}, first for $x=1$ and then for $y=0$, we obtain
\begin{equation}\label{eq:dual-sum}
    m\oplus y=b \iff m'\+y'= b'.
\end{equation}
\begin{equation}\label{eq:dual-product}
    (m\odot x)'=\dotminus(\dotminus x'\cdot m).
\end{equation}
It follows from \eqref{eq:dual-sum} that $(\ter,\oplus)$ is associative:
\begin{align*}
    (m\oplus y)\oplus z=c &\iff b=m\oplus y\text{ and }b\oplus z = c\\
        &\iff m'\+y'=b'\text{ and }b'\+z'=c'\\
        &\iff m'\+(y'\+z')=c'\\
        &\iff d'=y'\+z'\text{ and } m'\+ d'=c'\\
        &\iff d=y\oplus z\text{ and }m\oplus d=c\\
        &\iff m\oplus(y\oplus z)=c.
\end{align*}
Moreover, $(\ter,T^*)$ is linear:
\begin{align*}
    b=(m\odot x)\oplus y &\iff b=T^*(m\odot x,1,y)\\
        &\iff y'=(\dotminus (m\odot x)')\cdot1\+b'
            &&\text{; by \eqref{eq:dual-ternary-ring}}\\
        &\iff y' = (\dotminus x')\cdot m\+b'
            &&\text{; by \eqref{eq:dual-product}}\\
        &\iff b = T^*(m,x,y).
            &&\text{; by \eqref{eq:dual-ternary-ring}}
\end{align*}

As a result, we have proven the following

\begin{thm}\label{thm:dual-ternary-ring}
    Let\/ $\Pi$ be a finite projective plane and\/ $\Pi^*$ its dual. Let\/ $(\ter,T)$ be the ternary ring associated with the base quad\/ $O,X,Y,E$ and the $\ter$-diagonal map\/ $\Delta$. If\/ $(\ter,T)$ is linear and the loop\/ $(\ter,\+)$ is a group, then there exist a dual quad\/ $O^*,X^*,Y^*,E^*$ and a $\ter$-diagonal map\/ $\Delta^*$ such that the associated ternary ring\/ $(\ter,T^*)$ is linear and the induced loop\/ $(\ter,\oplus)$ is a group.
\end{thm}

\begin{rem}\label{rem:simple-dual-sum-and-product}
    In the particular case where $\Pi$ is both $(Y,XY)$- and $(X,XY)$-transitive, Corollary~\ref{cor:ternary-quasifield-equivalence} implies that equations \eqref{eq:dual-sum} and \eqref{eq:dual-product} reduce to
    \[
        m\oplus y = m\+y\quad\text{and}\quad m\odot x=x\cdot m.
    \]
\end{rem}

\begin{thm}\label{thm:distributive-quasifield}
    Let\/ $\Pi$ be a finite projective plane and\/ $O,X,Y$ non-collinear points. Then the following statements are equivalent:
    \begin{enumerate}[a),font=\upshape]
        \item $\Pi$ is\/ $(Y,XY)$- and\/ $(Y,OY)$-transitive.
        \item $\Pi$ is\/ $(A,XY)$-transitive for every point\/ $A\incidence XY$, and\/ $(Y,\block a)$-transitive for every line\/ $\block a$ passing through\/ $Y$.
        \item $\Pi$ is\/ $(A,XY)$-transitive for every point\/ $A\incidence XY$.
        \item Every ternary ring\/ $(\ter,T)$ whose base quad contains\/ $X,Y$ induces a distributive quasifield\/ $(\ter,\+,{}\cdot{})$.
        \item Every ternary ring\/ $(\ter,T)$ whose base quad contains\/ $X,Y$ induces a quasifield\/ $(\ter,\+,{}\cdot{})$.
        \item $\Pi$ is\/ $(Y,XY)$-, $(X,XY)$-, and\/ $(Y,OY)$-transitive.

    \end{enumerate}
\end{thm}

\begin{proof}${}$
    \begin{enumerate}[a)]
        \item$\Rightarrow$~b) By Theorem~\ref{thm:dual-ternary-ring} applied to the case where $X$ is replaced by $O$, we deduce that $\Pi^*$ is $(Y^*,O^*Y^*)$-transitive. Since $Y^*=XY$ and $O^*Y^*=X$, we obtain that $\Pi$ is $(X,XY)$-transitive. Thus, $(A,XY)$-transitivity for $A\incidence XY$ follows from Theorem~\ref{thm:transitivity}. Since this also holds in $\Pi^*$ and $X^*Y^*=Y$, we see that $\Pi$ is $(Y,\block a)$-transitive for any line $\block a$ through~$Y$.

        \item$\Rightarrow$~c) Trivial.

        \item$\Rightarrow$~d) Taking first\/ $A=X$ and then\/ $A=Y$, we deduce that\/ $(\ter,\+,{}\cdot{})$ and\/ $(\ter,\oplus,\odot)$ are quasifields. Hence, $(\ter,\oplus,\odot)$ is right distributive and, by Remark~\ref{rem:simple-dual-sum-and-product}, $(\ter,\+,{}\cdot{})$ is left distributive.

        \item$\Rightarrow$~e) Trivial.

        \item$\Rightarrow$~f) By Corollary~\ref{cor:ternary-quasifield-equivalence}, $\Pi$ is\/ $(Y,XY)$- and\/ $(X,XY)$-transitive. Moreover, by Remark~\ref{rem:simple-dual-sum-and-product}, the left distributivity of\/ $(\ter,\+,{}\cdot{})$ implies the right distributivity of\/ $(\ter,\oplus,\odot)$, which in turn ensures that\/ $\Pi^*$ is\/ $(X^*,X^*Y^*)$-transitive, or equivalently, that\/ $\Pi$ is\/ $(Y,OY)$-transitive.

        \item$\Rightarrow$~a) Trivial.
    \end{enumerate}
\end{proof}

\begin{thm}\label{thm:(X,OY)-transitivity}
    The plane\/ $\Pi$ is\/ $(X,OY)$-transitive if, and only if, $(\ter,T)$ is linear and\/ $(\ter^*,{}\cdot{})$ is a group.
\end{thm}

\needspace{2\baselineskip}
\begin{proof}${}$
    \begin{description}[font=\normalfont\itshape]
        \item[if\/ \upshape part:]
        Fix $r\in\ter^*$. We will first show that there is an homology [cf.~Definition~\ref{defn:elation-etc}] that maps $(1,0)$ to $(r,0)$. Consider the map $(\phi_r,\psi_r)$ defined by
        \begin{align*}
            \phi_r\colon(x,y)&\mapsto (x\cdot r,y),
            &(m)&\mapsto(r^{-1}\cdot m),
            &(\infty)&\mapsto(\infty),\\
            \psi_r\colon[m,b]&\mapsto[r^{-1}\cdot m,b],
            &[x]&\mapsto[x\cdot r],
            &[\infty]&\mapsto[\infty].
        \end{align*}
        Since the points on\/ $OY$ correspond either to\/ $(\infty)$ or to coordinates of the form\/ $(0,y)$, they are fixed by\/ $\phi_r$. Similarly, every line through\/ $X$ is fixed by\/ $\psi_r$, as such a line is either\/ $[\infty]$ or of the form\/ $[0,b]$.\footnote{Note that $\psi_r[0,b]=[0,b]$ by Remark~\ref{rem:0m=m0=0}.}

        To verify that $\varphi_r=(\phi_r,\psi_r)$ is a collineation observe that
        \begin{align*}
            (x,y)\incidence{[m,b]}
                &\iff y=x\cdot m\+b\\
                &\iff y=(x\cdot r)\cdot(r^{-1}\cdot m)\+b\\
                &\iff y=T(x\cdot r,r^{-1}\cdot m,b)\\
                &\iff \phi_r(x,y)\incidence{\psi_r[m,b]},
        \end{align*}
        and similarly for $(x,y)\incidence{[x]}$, $(m)\incidence{[m,b]}$, $(\infty)\incidence{[x]}$, and $(\infty)\incidence{[\infty]}$.

        To conclude this part of the proof, consider a line $\block a\colon[0,b]$ through $X$ and two points $P\colon(r,b)$ and $Q\colon(s,b)$ on it. Since $\varphi=\varphi_s\circ\varphi_{r^{-1}}$ has center~$X$ and axis $OY$ and maps $(r,b)$ to $(s,b)$, it defines a collineation that maps~$P$ to~$Q$.
        
        \item[only if\/\upshape:] Fix $r\in\ter^*$ and consider a homology $\varphi_r=(\phi_r,\psi_r)$ with center $X$ and axis $OY$ that maps $(1,0)$ to $(r,0)$. Since this homology fixes $XY$ and $OX$, for every $m\in\ter$ it maps the line with coordinate $(m)$ to a line with coordinate $(m')$. The map $m\mapsto m'$ defines a symmetry $\sigma\in\Sym(\ter)$. It follows that
        \[
            \sigma(0)=0\quad\text{and}\quad \psi_r[m,b]=[\sigma(m),b]
            \quad\text{for all }m,b\in\ter.
        \]
        Similarly, given a point $P$ with coordinates $(x,y)$, since $\psi_r$ fixes the line $PX$, we obtain $\nu\in\Sym(\ter)$ such that
        \[
            \nu(1)=r\quad\text{and}\quad
            \phi_r(x,y)=(\nu(x),y).
        \]
        It follows that $(x,y)\incidence{[m,0]}$ implies $(\nu(x),y)\incidence{[\sigma(m),0]}$. Equivalently, $T(x,m,0)=T(\nu(x),\sigma(m),0)$, which translates into
        \[
            x\cdot m=\nu(x)\cdot\sigma(m).\tag{\dag}
        \]
        Evaluation at $x=1$ yields $m=r\cdot\sigma(m)$. Substituting $m=r$, we arrive at
        \[
            r=r\cdot\sigma(r).
        \]
        Since $(R^*,{}\cdot{})$ is cancellative [cf.~Remark~\ref{rem:cancelation}], we obtain $\sigma(r)=1$. By~$(\dag)$ for $m=r$, we deduce $\nu(x)=x\cdot r$. Thus, $(\dag)$ becomes
        \[
            x\cdot m=(x\cdot r)\cdot\sigma(m).\tag{\ddag}
        \]
        Setting $x=1$ and $m=r\cdot y$, we get $r\cdot y=r\cdot\sigma(r\cdot y)$. Hence, $\sigma(r\cdot y)=y$ for all $y\in\ter^*\cup\set0=\ter$, and $(\ddag)$ leads to
        \[
            x\cdot(r\cdot y)=(x\cdot r)\cdot y,
        \]
        which proves the associativity of the multiplication.

       To verify the linearity, evaluate\/ $(\ddag)$ at\/ $x=m=1$ and get
        \[
            1=r\cdot\sigma(1).
        \]
        Hence, by associativity, $\sigma(1)=r^{-1}$. Thus, substituting $m=1$ in $(\dag)$, we obtain
        \[
            x=x\cdot1=\nu(x)\cdot\sigma(1)=\nu(x)\cdot r^{-1},
        \]
        or $\nu(x)=x\cdot r$. Finally
        \begin{align*}
            y=T(x,r,b)
                &\iff (x,y)\in[r,b]\\
                &\iff \phi_r(x,y)\incidence\phi_r[r,b]
                    &&\text{; $\varphi_r$ collineation}\\
                &\iff (\nu(x),y)\incidence{[\sigma(r),b]}\\
                &\iff (x\cdot r,y)\incidence{[1,b]}\\
                &\iff y=(x\cdot r)\+b,
        \end{align*}
        and the proof is complete.
    \end{description}
\end{proof}

\begin{thm}
    The plane\/ $\Pi$ is\/ $(Y,OX)$-transitive if, and only if, $(\ter^*,{}\cdot{})$ is a group and $T(a,b,c\cdot b)=(a\+c)\cdot b$.
\end{thm}

\begin{proof}${}$
    \begin{description}[font=\normalfont\itshape]
        \item[if\/ \normalfont part:] Fix $r\in\ter^*$. Given a line with coordinates $[m,b]$ we claim that the set
        \[
            \ell=\set{(x,(x\cdot m\+b)\cdot r)
                \mid (x,y)\incidence{[m,b]}}
        \]
        is the pencil of $[m\cdot r,b\cdot r]$. To see this observe that
        \begin{align*}
            (x\cdot m\+b)\cdot r
                &= T(x\cdot m,r,b\cdot r)
                    &&\text{; hypothesis on $T$}\\
                &= (x\cdot m)\cdot r\+b\cdot r\\
                &= x\cdot(m\cdot r)\+b\cdot r
                    &&\text{; associativity}\\
                &= T(x,m\cdot r,b\cdot r).
        \end{align*}
        Consider the pair $\varphi_r=(\phi_r,\psi_r)$ defined by
        \begin{align*}
            \phi_r\colon(x,y)&\mapsto(x,y\cdot r),
            &(m)&\mapsto(m\cdot r),
            &(\infty)&\mapsto(\infty)\\
            \psi_r\colon[m,b]&\mapsto [m\cdot r,b\cdot r],
            &[x]&\mapsto[x],
            &[\infty]&\mapsto[\infty],
        \end{align*}
        Since points on the $OX$ line are either $X\colon(0)$ or have coordinates of the form $(x,0)$, they are fixed by $\phi_r$. Moreover, lines through $Y$ are fixed by $\psi_r$ because they are $XY\colon[\infty]$ or have coordinates of the form $[x]$. Thus, to conclude that $\varphi_r$ is a $(Y,OX)$-homology we have to show that it is a collineation. There are several cases:
        \begin{enumerate}[-]
            \item For finite points and lines, we have seen above 
            \[
                (x,y)\incidence{[m,r]}\iff \phi_r(x,y)\incidence{\psi_r[m,b]}.
            \]
            \item For finite points on vertical lines,
            \begin{align*}
                    (x,y)\incidence{[z]}&\iff x=z\\
                        &\iff (x,y\cdot r) \incidence{[z]}\\
                        &\iff \phi_r(x,y)\incidence\psi_r[z].
            \end{align*}
            \item For points on the infinite line,
            \begin{align*}
                (m)\incidence{[\infty]}
                    &\iff (m\cdot r)\incidence{[\infty]}\\
                    &\iff \phi_r(m)\incidence\psi_r[\infty].
            \end{align*}
            \item For the infinite point on a vertical line or infinite line, the conclusion is trivial.
        \end{enumerate}
        Clearly, $\varphi_r$ a $(Y,OX)$-homology that maps $(0,1)$ to $(0,r)$. Thus given any two points $P$ and $Q$ collinear with $Y$ on the line $\block a\colon[s]$, we have $P\colon(s,c)$ and $(s,d)$ for some $s,c,d\in\ter$. The composition $\varphi_d\circ\varphi_c$ maps $P$ to $Q$ because
        \[
            \phi_d\circ\phi_{c^{-1}}(s,c)
                = \phi_d(s,1) = (s,d).
        \]
        Therefore, $\Pi$ is $(Y,OX)$-transitive as desired.
        
        \item[only if\/\normalfont:] Fix $r\in\ter^*$ and consider a $(Y,OX)$-homology $\varphi_r=(\phi_r,\psi_r)$ that maps $(0,1)$ to $(0,r)$. Since the homology fixes $XY$, for every $m\in\ter$, it maps $(m)$ to $(m')$. This defines a symmetry $\sigma\in\Sym(\ter)$ satisfying
        \[
            \sigma(0)=0\quad\text{and}\quad\phi_r(m)=(\sigma(m)).
        \]
        Similarly, since every line $[x]$ is fixed, $\phi(x,y)=(x,y')$, and so $y\mapsto y'$ defines a symmetry $\nu\in\Sym(\ter)$ such that
        \[
            \nu(0)=0,\quad\nu(1)=r\quad\text{and}\quad\phi_r(x,y)=(x,\nu(y)).
        \]
        It follows that
        \[
            \psi_r[m,b]=[\sigma(m),\nu(b)].
        \]
        Since $y=T(x,m,b)$ translates into 
        \[
            \nu(y)=T(x,\sigma(m),\nu(b)),\tag{$\ast$}
        \]
        we have
        \[
            \nu(x\cdot m\+b)=x\cdot\sigma(m)\+\nu(b).
        \]
        Evaluating at $x=1$, $b=0$ we see that $\nu=\sigma$. Therefore,
        \[
            \sigma(0)=0,\quad\sigma(1)=0\quad\text{and}\quad
            \sigma(x\cdot m\+b)=x\cdot\sigma(m)\+\sigma(b).
        \]
        Substituting $m=1$ and $b=0$, we obtain $\sigma(x)=x\cdot r$. Hence,
        \[
            (x\cdot m\+b)\cdot r= x\cdot(m\cdot r)\+b\cdot r.
        \]
        For $b=0$, we obtain the associativity:
        \[
            (x\cdot m)\cdot r = x\cdot (m\cdot r).
        \]
        Finally, from $(\ast)$, we arrive at
        \[
            (x+c)\cdot r = \sigma(T(x,1,c)) = T(x,r,c\cdot r),
        \]
        which completes the proof. \qedhere
    \end{description}
\end{proof}

\begin{thm}
    A projective plane is\/ $(X,OY)$- and\/ $(A,XY)$-transitive for every\/ $A\in XY$ if, and only if, its coordinatizing ternary ring is an associative (and distributive) quasifield.
\end{thm}

\begin{proof}
    This is a direct consequence of Theorem~\ref{thm:(X,OY)-transitivity} and parts~c) and~d) of Theorem~\ref{thm:distributive-quasifield}.
\end{proof}

\section{Pappian Projective Planes}

In what follows we will say that the ternary ring $(\ter,T)$ is a quasifield, field, etc., whenever the associated system $(\ter,\+,{}\cdot{})$ happens to be a quasifield, field, etc.

\begin{thm}\label{thm:finite-desargues-iff-field}
    If\/ $\Pi$ is a finite projective plane, then the following five properties are equivalent:
    \begin{enumerate}[label=\alph*), font=\upshape]
        \item $\Pi$ is\/ $(Y, XY)$-, $(X, XY)$-, $(Y, OY)$- and\/ $(X, OY)$-transitive.
        
        \item The structure\/ $(\ter,\+,{}\cdot{})$ induced by the ternary ring\/ $(\ter,T)$ is a field.
        
        \item $\Pi$ has order $p^r$ for some prime number $p$ and is isomorphic to $\PG(2,p^r)$.

        \item Desargues’ theorem is valid in\/ $\Pi$.
        
        \item $\Pi$ is\/ $(A,\block a)$-transitive for every point-line pair\/ $(A,\block a)$.
    \end{enumerate}
\end{thm}

\begin{proof}${}$
    \begin{enumerate}[a)]
        \item$\Rightarrow$~b) Consider the following results
        \begin{center}\footnotesize
            \begin{tabular}{c|ccccl}
                Transitivity
                    &$(\ter,\+)$
                    &$(\ter^*,{}\cdot{})$
                    &$(\ter,\+,{}\cdot{})$
                    &$T(a,b,c\cdot b)$
                    &Ref.\\
                \hline\rule{0mm}{3mm}
                $(Y,XY)$
                    &group
                    &-
                    &-
                    &$a\cdot b\+c\cdot b$
                    &\ref{thm:(Y,XY)-transitive}\\
                $(X,XY)$
                    &group
                    &-
                    &-
                    &$(a\+b)\cdot c$
                    &\ref{thm:(X,XY)-transitive}\\
                $(Y,OY/XY)$
                    &commutative
                    &
                    &distributive
                    &-
                    &\ref{thm:distributive-quasifield}\\
                $(X,OY)$
                    &
                    &group
                    &-
                    &$a\cdot b\+c\cdot b$
                    &\ref{thm:(X,OY)-transitivity}
            \end{tabular}
        \end{center}
        It follows that $(\ter,\+,{}\cdot{})$ is a division ring. Since it is finite, the Little Wedderburn Theorem~\ref{thm:wedderburn} implies that it is a field.

        \item$\Rightarrow$~c) The maps
        \begin{align*}
            (x,y)&\longmapsto[x:y:1]    &[m,b]&\longmapsto(m:\dotminus1:b)\\
            (s)&\longmapsto[1:s:0]      &[a]&\longmapsto(1:0:\dotminus a)\\
            (\infty)&\longmapsto[0:1:0] &[\infty]&\longmapsto(0:0:1)
        \end{align*}
        define a pair $(\phi,\psi)\colon\Pi\to\PG(2,q)$. We shall be done if we prove that it preserves incidence. By Theorem~\ref{thm:(X,OY)-transitivity}, the ternary ring\/ $(\ter,T)$ is linear. Thus,
    
        \vspace{-\parskip}
        {\footnotesize
        $$
            \begin{aligned}
                (x,y)\incidence{[m,b]}
                    &\iff m\cdot x\+(\dotminus1)\cdot y\+b=0
                    \iff[x:y:1]\incidence(m:\dotminus1:b),\\
                (x,y)\incidence{[a]}
                    &\iff x=a
                    \iff[x:y:1]\incidence(1:0:\dotminus a),\\
                (x,y)\incidence{[\infty]}
                    &\iff\textsc{ false}
                    \iff[x:y:1]\incidence(0:0:1),\\
                (s)\incidence{[m,b]}
                    &\iff s=m
                    \iff[1:s:0]\incidence(m:\dotminus1:b),\\
                (s)\incidence{[a]}
                    &\iff\textsc{ false}
                    \iff[1:s:0]\incidence(1:0:\dotminus a),\\
                (s)\incidence{[\infty]}
                    &\iff\textsc{ true}
                    \iff[1:s:0]\incidence(0:0:1),\\
                (\infty)\incidence{[m,b]}
                    &\iff\textsc{ false}
                    \iff[0:1:0]\incidence(m:\dotminus1:b),\\
                (\infty)\incidence{[a]}
                    &\iff\textsc{ true}
                    \iff[0:1:0]\incidence(1:0:\dotminus a),\\
                (\infty)\incidence{[\infty]}
                    &\iff\textsc{ true}
                    \iff[0:1:0]\incidence(0:0:1).
            \end{aligned}
        $$}

        \item$\Rightarrow$~d) This is Theorem~\ref{thm:desargues}.

        \item$\Rightarrow$~e) This is Baer's Theorem~\ref{thm:baer}.

        \item$\Rightarrow$~a) Trivial.        
    \end{enumerate}
\end{proof}

\begin{rem}\label{rem:desarguess-implies-division-ring}
    If we drop the finiteness hypothesis, the proofs of c)~$\Rightarrow$~d) and of the table for a)~$\Rightarrow~$b) also show that every ternary ring coordinatizing a Desarguesian projective plane is a division ring.
\end{rem}


\begin{thm}\label{thm:pappus-implies-commutativity}
    If a projective plane satisfies\/ {\upshape Pappus' Theorem~\ref{thm:pappus}}, then multiplication is commutative in every coordinatizing ternary ring.
\end{thm}

\begin{proof}
    As illustrated below, consider the points $O,A,B$ on $OE$ and $Y,B',A'$ on $YE$. Pappus' Theorem implies that
    \[
        U=OA'\wedge YB,\quad V=OB'\wedge YA,\quad X=BB'\wedge AA'
    \]
    are collinear.
    \[
        \begin{tikzpicture}[
            scale=1.1,
            point/.style={
                draw,
                circle,
                color=black,
                fill=black,
                inner sep=1.2pt},
            every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\s}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (2.5*\s,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2.0*\s);
            \coordinate (E) at (\s*2.1,\s*1.2);
            
            % Axes
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[right,text=black] {$[0,0]$}
                node[point,
                    pos=0.85,
                    fill=green,
                    label={[text=black,xshift=0mm,yshift=-6.5mm]:
                        $(a,0)$}
                ] (a0) {}
                node[point,
                    pos=0.45,
                    fill=green,
                    label={[text=black,xshift=0mm,yshift=-6.5mm]:
                        $(b,0)$}
                ] (b0) {}
                node[point,
                    pos=0.0,
                    label={[yshift=-5mm,xshift=-2mm]:
                        \textcolor{black}{$O$}}] (O) {}
                    node[point,
                    pos=0.30,
                    label={[text=black,xshift=0mm,yshift=-6mm]:
                        $X$}
                ] (X) {};
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[point,
                pos=0.85,
                label={[text=black,left,yshift=-1mm]:
                    $Y$}
                ] (Y) {};
            \node[point,
                label={[xshift=3mm,yshift=-2.2mm]:
                    $E$}
            ] at (E) {};
            \draw[name path=OE] (O) -- (E);
            \draw[name path=YE] (E) -- (Y);
    
            % Intersections
            \draw[name path=XY,thick] (X) -- (Y)
                node[pos=0.92] (M) {};
            \path[name intersections={of=XY and OE,by=Z}];
            \draw[name path=AY] (a0) -- (Y);
            \path[name intersections={of=AY and OE,by=A}];
            \draw[name path=BY] (b0) -- (Y);
            \path[name intersections={of=BY and OE,by=B}];
            \draw[name path=AX] (X) -- ($(X)!2.0!(A)$);
            \path[name intersections={of=AX and YE,by=A'}];
            \draw[name path=XB] (X) -- ($(X)!3.3!(B)$);
            \path[name intersections={of=XB and YE,by=B'}];
            \draw[name path=OA'] (O) -- (A');
            \path[name intersections={of=OA' and BY,by=U}];
            \draw[name path=OB'] (O) -- (B');
            \path[name intersections={of=AY and OB',by=V}];
            \draw[orange,dashed] (X) -- ($(X)!1.2!(V)$);
            
            % Points
            \node[point,
                fill=white,
                label={[text=black,xshift=2.5mm,yshift=-2.5mm]:
                    ${}$}
            ] at (Z) {};
            \node[point,
                fill=orange,
                label={[text=black,xshift=-2.5mm,yshift=-2.5mm]:
                    $U$}
            ] at (U) {};
            \node[point,
                fill=orange,
                label={[text=black,xshift=-2.5mm,yshift=-3.5mm]:
                    $V$}
            ] at (V) {};
            \node[point,
                fill=green,
                label={[text=black,xshift=2.5mm,yshift=-3mm]:
                    $A$}
            ] at (A) {};
            \node[point,
                fill=green,
                label={[text=black,xshift=2.5mm,yshift=-3.5mm]:
                    $B$}
            ] at (B) {};
            \node[point,
                fill=green,
                label={[text=black,xshift=4mm,yshift=0mm]:
                    $A'\colon(1,a)$}
            ] at (A') {};
            \node[point,
                fill=green,
                label={[text=black,xshift=2.5mm,yshift=0mm]:
                    $B'\colon(1,b)$}
            ] at (B') {};
        \end{tikzpicture}
    \]
    It follows from the definitions that $OB'\colon[b,0]$ and $OA'\colon[a,0]$. Since $U$ and $V$ are collinear with $X$, they share the same $y$-coordinate. Moreover, the first coordinate of $V$ is $a$, and that of $U$ is $b$. Hence, $V\colon(a,y)$ and $U\colon(b,y)$. Therefore, the incidences $V\incidence OB'$ and $U\incidence OA'$ translate into $(a,y)\incidence{[b,0]}$ and $(b,y)\incidence{[a,0]}$, which yield $y=a\cdot b$ and $y=b\cdot a$.
\end{proof}

\begin{thm}\label{thm:pappus-implies-desargues} {\upshape[Hessenberg, 1905]}
    If Pappus’ Theorem holds in a projective plane, then Desargues’ Theorem holds as well.
\end{thm}

\begin{proof}
    Suppose that $O$, $A_1,A_2,A_3$, $B_1,B_2,B_3$, and $C_1,C_2,C_3$ form a Desarguesian configuration. Introduce the auxiliary point $K=A_1A_3\wedge B_2B_3$, as illustrated below
    \[
    \begin{tikzpicture}[
            scale=0.9,
            point/.style={
                draw,
                circle,
                color=black,
                fill=black,
                inner sep=1.5pt},
            every node/.style={font=\footnotesize}
        ]
        % Define the point O (center of perspectivity)
        \coordinate (O) at (0,6);
        \node at (O) [above] {$O$};
        
        % Vertices
        \coordinate (A1) at (-4,0);
        \coordinate (A2) at (1.8,1.0);
        \coordinate (A3) at (-0.3,3);
        \coordinate (B1) at ($(O)!0.5!(A1)$);
        \coordinate (B2) at ($(O)!0.80!(A2)$);
        \coordinate (B3) at ($(O)!1.45!(A3)$);
        
        % Axes
        \draw[name path=OA1] (O) -- ($(O)!1.05!(A1)$);
        \draw[name path=OA3] (O) -- ($(O)!1.4!(B3)$);
        \draw[name path=OA2] (O) -- ($(O)!1.1!(A2)$);
        
        % Label the vertices
        \node[point,
            label = {[xshift=-3.5mm,yshift=-4mm]:$A_1$}
        ] at (A1) {};
        \node[point,
            label = {[xshift=3.5mm,yshift=-5.0mm]: $A_2$}
        ] at (A2) {};
        \node[point,
            label = {[xshift=3mm,yshift=-2.5mm]: $A_3$}
        ] at (A3) {};
        \node[point,
            label = {[xshift=-3mm,yshift=-3mm]: $B_1$}
        ] at (B1) {};
        \node[point,
            label = {[xshift=2mm,yshift=-1mm]: $B_2$}
        ] at (B2) {};
        \node[point,
            label = {[xshift=2.5mm,yshift=-0.4mm]: $B_3$}
        ] at (B3) {};

        % Draw the triangle A with thick lines
        \draw[very thick] (A1) -- (A2) -- (A3) -- (A1);
        
        % Draw the triangle B with thick lines
        \draw[very thick] (B1) -- (B2) -- (B3) -- (B1);
        
        % Desargues
        \draw[dotted, name path=A1A2] (A1) -- ($(A1)!1.5!(A2)$);
        \draw[dotted, name path=B1B2] (B1) -- ($(B1)!2.0!(B2)$);
        \path[name intersections={of=A1A2 and B1B2, by=C3}];
        \node[point,
            fill=orange,
            label = {[xshift=0mm,yshift=-6mm]: $C_3$}
        ] at (C3) {};
        
        % C2= A1A3 with B1B3
        \path[name path=A1A3] (A1) -- (A3);
        \path[name path=B1B3] (B1) -- (B3);
        \path[name intersections={of=A1A3 and B1B3, by=C2}];

        % C1= A2A3 with B2B3
        \path[name path=A2A3] (A2) -- (A3);
        \path[name path=B2B3] (B2) -- (B3);
        \path[name intersections={of=A2A3 and B2B3, by=C1}];
        \node[point,
            fill=orange,
            label = {[xshift=0.3mm,yshift=-6.5mm]: $C_1$}
        ] at (C1) {};

        % Join the intersections
        \draw[dashed,orange] ($(C2)!-0.1!(C3)$) -- ($(C2)!1.2!(C3)$)
            node[xshift=1mm,yshift=0.5mm,text=black]{$\block d$};

        % K = A1A3 with B2B3
        \path[name path=B3K] (B3) -- ($(B3)!-1.8!(B2)$);
        \path[name intersections={of=B3K and A1A3, by=K}];
        \draw[gray] (B3) -- (K);
        

        % L= A1B2 with OA3
        \draw[gray,name path=A1B2] (A1) -- (B2);
        \path[name intersections={of=A1B2 and OA3, by=L}];

        % M - A1A2 with OK
        \draw[gray,name path=OK] (O) -- ($(O)!1.3!(K)$);
        \path[name intersections={of=A1A2 and OK,by=M}];

        % N = B1B2 with OK
        \path[name intersections={of=B1B2 and OK,by=N}];
        \node[point,
            fill=green,
            label = {[xshift=3mm,yshift=-1mm]: $N$}
        ] at (N) {};

        \draw[dotted,name path=MC1,blue,thick] (M) -- (C1);
        \draw[dotted,name path=LN,blue,thick] (L) -- (N);

        % Pappus points
        \node[point,
            fill=orange,
            label = {[xshift=-0.3mm,yshift=-7mm]: $C_2$}
        ] at (C2) {};
        \node[point,
            fill=green,
            label = {[xshift=1mm,yshift=-6mm]: $K$}
        ] at (K) {};
        \node[point,
            fill=green,
            label= {[below right]: $L$}
        ] at (L) {};
        \node[point,
            fill=green,
            label = {[below=3mm,right]: $M$}
        ] at (M) {};

    \end{tikzpicture}
    \]
    Applying Pappus’ Theorem to the collinear triples $O,A_2,B_2$ and $A_1,K,A_3$ yields that
    \[
        M=OK\wedge A_1A_2,\quad
        L=OA_3\wedge A_1B_2,\quad
        C_1=A_2A_3\wedge KB_2
    \]
    are collinear.  
    
    Next, consider the collinear triples $O,A_1,B_1$ and $B_2,B_3,K$. By Pappus’ Theorem,
    \[
        L=OB_3\wedge A_1B_2,\quad
        N=OK\wedge B_1B_2,\quad
        C_2=A_1K\wedge B_1B_3
    \]
    are collinear.  
    
    Finally, applying Pappus’ Theorem to $A_1,B_2,L$ and $N,M,K$, we obtain that
    \[
        C_3=A_1M\wedge B_2N,\quad
        C_2=A_1K\wedge LN,\quad
        C_1=B_2K\wedge ML
    \]
    are collinear, which proves Desargues’ Theorem.
    %
    
\end{proof}

\begin{cor}\label{cor:pappus-implies-field}
    If Pappus' theorem holds in a projective plane, every ternary ring coordinatizing it is a field.
\end{cor}

\begin{proof}
    By Remark~\ref{rem:desarguess-implies-division-ring},
    Desargues~$\Rightarrow$~division ring. Hence, the conclusion is a direct consequence of Theorem~\ref{thm:pappus-implies-commutativity} and Theorem~\ref{thm:pappus-implies-desargues}.
    %
    
\end{proof}

\section{The Fano Property}

\begin{thm}\label{thm:elementary-abelian-2-group}
    Let\/ $\Pi$ be a finite projective plane with the Fano property\>\footnote{See Definition~\ref{defn:F-G-configurations}.}, and let\/ $(\ter,T)$ be a ternary ring coordinatizing\/ $\Pi$. Then the additive group\/ $(\ter,\+)$ is an elementary abelian\/ $2$-group\>\footnote{A finite $p$-group is \textsl{elementary abelian} when it is abelian and every nonidentity element has order $p$ \citep{LC-Groups}.} whose order is a power of\/~$2$.
\end{thm}

\begin{proof}
    Let $O,X,Y,E$ be the quad associated with the ternary ring $(\ter,T)$. As usual, let $Z=XY\wedge OE$.

    \textbf{Step 1.} \textit{$a\+a=0$ for all\/ $a\in\ter$.}
    
    Fix $a\in\ter^*$. To verify this step consider the points $A=(a,a)$ and $A'=(0,a)$. 
    
    Let $D=AY\wedge A'Z$. Since $A'Z=[1,a]$, and $AY=[a]$, we have $D\colon(a,a\+a)$.
    \[
        \begin{tikzpicture}[
            scale=1.1,
            font=\small,
            point/.style={
                draw,
                circle,
                color=black,
                fill=green,
                inner sep=1.2pt},
                every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\u}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (2*\u,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,1.5*\u);
            \coordinate (E) at (\u*1.7,\u*1.1);
            \coordinate (A') at (0,\u*0.5);
            \coordinate (O) at (0.0,0.0);
            
            % Axes
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[right,text=black] {$[0,0]$}
                node[point,
                    fill=black,
                    pos=0.99,
                    label={[text=black,xshift=0mm,yshift=-6mm]:
                        $X$}
                ] (X) {};
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[above,text=black] {$[0]$}
                node[point,
                pos=0.95,
                fill=black,
                label={[text=black,left,yshift=-1mm]:
                    $Y$}
                ] (Y) {};
            \node[point,
                fill=black,
                label={[xshift=-0.5mm,yshift=0mm]:
                    $E$}
            ] at (E) {};
            \draw[name path=XY] (X) -- (Y);
            
            \draw[name path=OE] (O) -- ($(O)!1.1!(E)$)
                node[right] {$[1,0]$};
            \path[name intersections={of=XY and OE,by=Z}];

            \draw[name path=A'Z] (A') -- ($(A')!1.4!(Z)$)
                node[right] {$[1,a]$};

            \draw[name path=A'X] (A') -- (X);
            \path[name intersections={of=OE and A'X,by=A}];
            \draw[name path=AY] (Y) -- ($(Y)!1.5!(A)$)
                node[below] {$[a]$};
            \path[name intersections={of=AY and xaxis,by=a0}];
            \path[name intersections={of=A'Z and AY,by=D}];

            \node[point,
                label={[xshift=1mm,yshift=-0.5mm]: $D$}
            ] at (D) {};
            \node[point,
                label={[xshift=-1mm,yshift=-5.5mm]:$A$}
            ] at (A) {};
            \node[point,
                label={[left]:$A'$}
            ] at (A') {};
            \node[point,
                fill=black,
                label={[xshift=-2mm,yshift=-5mm]:
                    $O$}
            ] at (O) {};
            \node[point,
                fill=white,
                label={[xshift=0.6mm,yshift=0mm]: $Z$}
            ] at (Z) {};
        \end{tikzpicture}
    \]
    By hypothesis the quad $Q=\set{A',A,Z,Y}$ forms an $F$-configuration. Then $D\colon(a,a\+a)$ is a diagonal point. The other diagonal points are $X$ and $O$. Therefore, $D\colon(a,a\+a)$ lies on the diagonal line $OX$, which implies $a\+a=0$, as claimed.

    \needspace{2\baselineskip}
    \textbf{Step 2.} \textit{$a\+b=b\+a$ for all\/ $a,b\in\ter$.}
    
    Fix $a,b\in\ter^*$. Introduce
    \[
        A\colon(a,a),\quad B\colon(b,b),
        \quad A'=XA\wedge OY\colon(0,a),
        \text{ and }B'=XB\wedge OY\colon(0,b).
    \]
    \[
        \begin{tikzpicture}[
            scale=1.1,
            font=\small,
            point/.style={
                draw,
                circle,
                color=black,
                fill=green,
                inner sep=1.2pt},
                every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\u}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (2.5*\u,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2.5*\u);
            \coordinate (E) at (\u*1.8,\u*1.7);
            \coordinate (A') at (0,\u*0.40);
            \coordinate (B') at (0,\u*1.1);
            \coordinate (O) at (0.0,0.0);
            
            % Axes
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[right,text=black] {$[0,0]$}
                node[point,
                    fill=black,
                    pos=0.99,
                    label={[text=black,xshift=0mm,yshift=-6mm]:
                        $X$}
                ] (X) {};
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[above,text=black] {$[0]$}
                node[point,
                pos=0.99,
                fill=black,
                label={[text=black,left,yshift=-1mm]:
                    $Y$}
                ] (Y) {};
            \node[point,
                fill=black,
                label={[xshift=-0.5mm,yshift=0mm]:
                    $E$}
            ] at (E) {};
            \draw[name path=XY] (X) -- (Y);
            
            \draw[name path=OE] (O) -- (E);
            \path[name intersections={of=XY and OE,by=Z}];

            \draw[name path=A'Z] (A') -- ($(A')!1.4!(Z)$)
                node[right] {$[1,a]$};
            \draw[name path=B'Z] (B') -- ($(B')!1.4!(Z)$)
                node[right] {$[1,b]$};

            \draw[name path=A'X] (A') -- (X);
            \path[name intersections={of=OE and A'X,by=A}];
            \draw[name path=AY] (Y) -- ($(Y)!1.22!(A)$)
                node[below] {$[a]$};
            \path[name intersections={of=AY and xaxis,by=a0}];

           \draw[name path=B'X] (B') -- (X);
            \path[name intersections={of=OE and B'X,by=B}];
            \draw[name path=BY] (Y) -- ($(Y)!1.5!(B)$)
                node[below] {$[b]$};
            \path[name intersections={of=A'Z and BY,by=D2}];
            \path[name intersections={of=BY and xaxis,by=b0}];
            \path[name intersections={of=B'Z and AY,by=D1}];

            \path[name intersections={of=B'X and AY,by=ab}];
            \path[name intersections={of=A'X and BY,by=ba}];

            \node[point,
                label={[xshift=2mm,yshift=-0.5mm]: $D_1$}
            ] at (D1) {};
            \node[point,
                label={[xshift=0.9mm,yshift=0.1mm]: $D_2$}
            ] at (D2) {};
            \node[point,
                label={[xshift=-1mm,yshift=-5.5mm]:$A$}
            ] at (A) {};
            \node[point,
                label={[xshift=-0.5mm,yshift=-6mm]:$B$}
            ] at (B) {};
            \node[point,
                label={[left]:$A'$}
            ] at (A') {};
            \node[point,
                label={[left]:$B'$}
            ] at (B') {};
            \node[point,
                fill=black,
                label={[xshift=-2mm,yshift=-5mm]:
                    $O$}
            ] at (O) {};
            \node[point,
                fill=white,
                label={[xshift=0.6mm,yshift=0mm]: $Z$}
            ] at (Z) {};
            \node[point,
                fill=white,
                label={[xshift=4mm,yshift=-2.4mm]: $(a,b)$}
            ] at (ab) {};
            \node[point,
                fill=white,
                label={[xshift=3.2mm,yshift=-1.2mm]: $(b,a)$}
            ] at (ba) {};
        \end{tikzpicture}
    \]
    Since $B'Z\colon[1,b]$ and $A'Z=[1,a]$, we have
    \[
        D_1=AY\wedge B'Z\colon(a,a\+b),
        \quad D_2=BY\wedge A'Z\colon(b,b\+a).
    \]
    Consider the following $F$-configurations
    \[
        \begin{array}{l|l}
            \text{quad}&\text{diagonal points}\\
            \hline\rule{0mm}{4mm}
            A,\;B,\;X,\;Y&Z,\;(a,b),\;(a,b)\\
            D_1,\;B',\;X,\;Y&Z,\;(0,a\+b),\;(a,b)\\
            D_2,\;A',\;X,\;Y&Z,\;(0,b\+a),\;(b,a)
        \end{array}
    \]
    They show that $Z$, $(0,a\+b)$, and $(0,b\+a)$ are collinear. Hence, the line they determine meets $OY$ at $(0,a\+b)=(0,b\+a)$, proving commutativity.

    \medskip
    \textbf{Step 3.} \textit{$(a\+b)\+c=a\+(b\+c)$ for all\/ $a,b,c\in\ter^*$.}

    Consider the following $F$-configurations
    \[
        \begin{array}{l|lc}
            \text{quad} & \text{diagonal points} &\text{proof}\\
            \hline\rule{0mm}{4mm}
            (a,a\+b),\;(c,b\+c),\;X,\;Y&Z,\;(c,a\+b),\;(a,b\+c)
                &\ref{proof:1}\\
            (a,a\+(b\+c)),\;(0,b\+c),\;X,\;Y&Z,\;(0,a\+(b\+c)),\; (a,b\+c)
                &\ref{proof:2}\\
            (c,c\+(a\+b)),\;(0,a\+b),\;X,\;Y&Z,\;(0,c\+(a\+b)),\;(c,a\+b)
                &\ref{proof:3}
        \end{array}
    \]
    The proofs are direct consequences of the following equalities and the fact that last coordinate of every point on $(p,q)X$ is $q$, and the first coordinate of all points on $(p,q)Y$ is $p$.
    \begin{enumerate}[(\arabic*)]
        \item\label{proof:1}
            $(a,a\+b)=[a]\wedge[1,b]$, $(c,b\+c)=(c,c\+b)=[c]\wedge[1,b]$

        \item\label{proof:2}
            $(a,a\+(b\+c))=[a]\wedge[1,b\+c]$, $(0,b\+c)=[0]\wedge[1,b\+c]$

        \item\label{proof:3}
            $(c,c\+(a\+b))=[c]\wedge[1,a\+b]$, $(0,a\+b)=[0]\wedge[1,a\+b]$
    \end{enumerate}
    Since the diagonal points are aligned, we deduce that $Z$, $(0,a\+(b\+c))$ and $(0,c\+(a\+b))=(0,(a\+b)\+c)$ are aligned, which implies the associativity of the sum.
    
    \textbf{Conclusion.} From the steps above it follows that $(\ter,\+)$ is a finite $\Fq[2]$-vector space. In particular, its dimension $r$ must satisfy $|\ter|=2^r$.
    %
    
\end{proof}

\begin{cor}
    The order of any finite projective plane with Fano property is\/ $2^r$ for some positive integer\/~$r$.
\end{cor}

\proof The order of the plane equals the cardinality of $\ter$.

\begin{ntn}
    Fix a flag\/ $(P,\ell)$ in a finite projective plane of order\/ $q$. Set
    \[
        \pl(P)=\set{\ell,\block e_1,\dots,\block e_q}.
    \]
    For\/ $A\incidence\ell$ with\/ $A\ne P$, define
    \begin{align*}
        \pi^A_{ij}\colon \tr(\block e_i)&\to\tr(\block e_j)\\
        X&\mapsto XA\wedge\block e_j.
    \end{align*}
    The map\/ $\pi^A_{ij}$ is well defined, since\/ $A\notin\pl(\block e_i)$, and it is bijective.
\end{ntn}

\begin{prop}\label{prop:pi_ij-properties}
    For all\/ $i,j,k\in\set{1,2,\dots,q}$,
    \begin{enumerate}[a),font=\upshape]
        \item $(\pi^A_{ij})^{-1} = \pi^A_{ji}$,
        \item $\pi^A_{jk}\circ\pi^A_{ij} = \pi^A_{ik}$,

        \item If\/ $B\ne P$ is also a point on\/ $\ell$, then\/ $\pi^A_{ij}\circ\pi^B_{ji}$ is a permutation of\/ $\tr(\block e_i)$ that fixes only\/ $P$, and

        \item Given $B$ on $\ell$, $B\ne P,A$, the set
        \[
            \mathcal{J}^{AB}_i = \set{\pi^B_{ji}\circ\pi^A_{ij}
                \mid j=1,2,\dots,q},
        \]
        forms a regular permutation group on\/ $\tr(\block e_i)\setminus\set P$.\footnote{See Notation~\ref{ntn:orbits-etc}.}
        \item The groups\/ $\mathcal J_i^{AB}$ of part\/ {\upshape a)} are elementary abelian\/ $2$-groups whose order is\/~$q$, with $q=2^r$ for some $r>0$.
    \end{enumerate}
\end{prop}

\begin{proof}
    Since the first two parts are clear, we only need to verify parts~c), d) and~e).

    \begin{enumerate}
    \item[c)] Put $\sigma_j=\pi_{ji}^B\circ\pi_{ij}^A$. It is clear that $\sigma_j$ is a permutation of $\tr(\block e_i)$ and that it fixes $P$. Suppose that $Q$ is a fixed point of $\sigma_j$. Set $Q'=\pi_{ij}^A(Q)$. Then, $\pi_{ji}^B(Q')=Q$ is aligned with $B$ and $Q'$, i.e., $Q\incidence BQ'$. By the \rr, $Q'\incidence QB$. Since $Q'\incidence QA$ as well, $Q'=QA\wedge QB=Q$. Then $Q=\block e_i\wedge\block e_j=P$.
    
    \item[d)] Let $\phi=\pi^B_{ji}\circ\pi^A_{ij}$ and suppose that $\phi(X)=X$ for some $X\in\tr(\block e_i)\setminus\set P$. Then both $P$ and $X$ are fixed by $\phi$. Setting $X'=\pi^A_{ij}(X)$. By the \rr\ we obtain
    \begin{align*}
        X'\incidence AX\text{ and }X=\phi(X)\incidence BX'
            &\stackrel{\text{rr}}\implies X'\incidence AX\text{ and }\; X'\incidence BX\\
            &\implies X' = AX\wedge BX=X,
    \end{align*}
    which can only happen if $i=j$. Hence, $\pi^B_{ji}=\pi^A_{ij}=\id_{\block e_i}$.

    To see that the group acts transitively, take $X,Y\in\tr(\block e_i)\setminus\set P$. The case $X=Y$ is straightforward, and we can rule it out. Then $X,B,Y,A$ is a quad whose diagonal points are
    \begin{align*}
        D_1 &= XB\wedge YA\\
        D_2 &= XY\wedge BA=\block e_i\wedge\ell=P\\
        D_3 &=XA\wedge BY.
    \intertext{Let $\block e_j$ be the diagonal line. Then,}
        \pi_{ij}^A(X) &= XA\wedge\block e_j=D_3\\
        \pi_{ji}^B(D_3) &= D_3B\wedge\block e_i= Y,
    \end{align*}
    which shows that $\pi_{ji}^B\circ\pi_{ij}^A$ maps $X$ to $Y$.

    \item[e)] Fix $i\in\set{1,\dots,q}$. Let
    \[
        \ter = \set{1,\dots,\overset{\overset i\wedge}0,\dots,q}
    \]
    where $i$ has been replaced with $0$. We will use $\ter$ to define ternary ring by arbitrarily fixing a point $E_0\ne P$ on $\block e_i$, and defining, for $j\ne1,i$,
    \[
        A_j=\block e_j\wedge E_0A\quad\text{and}\quad
        E_j = \block e_i\wedge BA_j,
    \]
    as illustrated below
    \[
        \begin{tikzpicture}[
            scale=1.1,
            font=\small,
            point/.style={
                draw,
                circle,
                color=black,
                fill=green,
                inner sep=1.2pt},
                every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\u}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (3.7*\u,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2.4*\u);
            \coordinate (E) at (\u*1.1,\u*1.3);
            \coordinate (Aj) at (0,\u*0.8);
            \coordinate (O) at (0.0,0.0);
            
            % Axes
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[right,text=black] {$[0,0]$}
                node[point,
                    fill=black,
                    pos=0.7,
                    label={[text=black,xshift=0mm,yshift=-6mm]:
                        $B$}
                ] (X) {};
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[above,text=black] {$[0]$}
                node[point,
                pos=0.78,
                fill=black,
                label={[text=black,left,yshift=-1mm]:
                    $A$}
                ] (Y) {};
            \node[point,
                fill=black,
                label={[xshift=-0.4mm,yshift=0mm]:
                    $E_1$}
            ] at (E) {};

            \draw[name path=XY] (X) -- (Y);
            \draw[name path=OE] (O) -- ($(O)!1.2!(E)$)
                node[right] {$\block e_i$};
            \draw[name path=AjX] (Aj) -- (X);
            \path[name intersections={of=XY and OE,by=P}];
            \draw[name path=e_j] (Aj) -- ($(Aj)!1.7!(P)$)
                node[right] {$\block e_j$};
            \path[name intersections={of=AjX and OE,by=Ej}];
            \path[name path=AE] (Y) -- ($(Y)!3.4!(E)$);
            \path[name intersections={of=AE and xaxis,by=D1}];
            \draw[gray] (Y) -- (D1);
            \path[name path=BE] (X) -- ($(X)!1.8!(E)$);
            \path[name intersections={of=BE and yaxis,by=D3}];
            \draw[gray] (X) -- (D3);
            \draw[dashed,name path=AEj] (Y) -- ($(Y)!1.6!(Ej)$)
                node[below] {$[j]$};
            
            \node[point,
                fill=white,
                label={[xshift=0mm,yshift=-5.5mm]:$P$}
            ] at (P) {};
            \node[point,
                fill=white,
                label={[xshift=-3mm,yshift=-3mm]:$D_3$}
            ] at (D3) {};
            \node[point,
                fill=white,
                label={[xshift=0mm,yshift=-6mm]:$D_1$}
            ] at (D1) {};
            \node[point,
                label={[xshift=-3.6mm,yshift=-4.3mm]:$E_j$}
            ] at (Ej) {};
            \node[point,
                label={[left]:$A_j$}
            ] at (Aj) {};
            \node[point,
                fill=black,
                label={[yshift=-6mm,xshift=-2mm,text=black]:
                    $E_0$}
            ] at (O) {};
        \end{tikzpicture}
    \]
    Based on the quad $E_0,B,A,E_1$, assign to the point $E_j$ the coordinates $(j,j)$, and let $(\ter,T)$ be the resulting ternary ring.
    
    Since $E_0E_1=\block e_i$ and $AB=\ell$, we have $P\colon(1)$, $B\colon(0)$ and $A\colon(\infty)$. 

    The diagonal points associated with the $F$-configuration derived from the quad $E_0,B,E_1,A$ are
    \begin{align*}
        D_1 &= E_0B\wedge E_1A\colon(1,0)\\
        D_2 &= P\colon(1)\\
        D_3 &= E_0A\wedge BE_1=(0,1).
    \end{align*}
    Then $\block e_i=[1,0]$, and $\block e_j\colon[1,j]$ and $E_j=(j,j)$ for all $j\in\ter$. Therefore, using coordinates,
    \begin{align*}
        \pi_{ji}^B\circ\pi_{ij}^A(k,k)
            &= \pi_{ji}^B((k,k)A\wedge\block e_j)\\
            &= \pi_{ji}^B(k,h)
                &&\text{; with }(k,h)\incidence{[1,j]}\\
            &= \pi_{ji}^B(k,k\+j)\\
            &= (k,k\+j)B\wedge[1,0]\\
            &= (h,k\+j)
                &&\text{; with }(h,k\+j)\incidence{[1,0]}\\
            &= (k\+j,k\+j).
    \end{align*}
    It follows that the group $\mathcal J_i^{AB}$ is isomorphic to $(\ter,\+)$. The result follows because, by Theorem~\ref{thm:elementary-abelian-2-group}, this additive group is an elementary abelian $2$-group whose order is a power of $2$.
    \end{enumerate}
\end{proof}

\begin{thm}\label{thm:elations-restrict-well}
    The elements of\/ $\Elt(P,\ell)$ are in one-to-one correspondence with permutations of\/ $\tr(\block e_i)\setminus\set P$ that commute with every composition\/ $\pi_{j,i}^B\circ\pi_{i,j}^A$, where\/ $A$ and\/ $B$ are points on\/ $\ell$ distinct from\/ $P$.
\end{thm}

\begin{proof}
    Consider the map
    \begin{align*}
        \rho_i\colon\Elt(P,\ell)&\to\Sym(\tr(\block e_i))\\
        \alpha&\mapsto\alpha_i,
    \end{align*}
    where $\alpha_i$ is the restriction of $\alpha$ to the $\tr(\block e_i)$.
    
    To verify that $\rho_i$ is injective, suppose $\rho_i(\alpha)=\rho_i(\beta)$. Then $\tr(\block e_i)\subseteq\Fix{\alpha\circ\beta^{-1}}$. Since the only fixed points of an elation distinct from the identity are those lying on~$\ell$, it follows that $\alpha\circ\beta^{-1}=\id$, that is, $\alpha=\beta$.

    To prove that $\alpha_i$ commutes with $\pi_{ji}^B\circ\pi_{ij}^C$, consider a point $R\ne P$ on $\block e_i$.  
    Set $R'=\alpha(\pi_{ij}(R))$. Since $\alpha$ is a collineation that fixes $A$, the point $\alpha(R)$ lies on $AR'$. By the \rr\ $R'$ lies on $\alpha(R)A$. It lies on $\block e_j$ as well, because $\alpha$ is an elation with center $P$. Hence,
    \[
        R' = \alpha(R)A \wedge \block e_j = \pi_{ji}^A(\alpha(R)),
    \]
    as illustrated below.

    \[
        \begin{tikzpicture}[
            scale=1.0,
            font=\small,
            point/.style={
                draw,
                circle,
                color=black,
                fill=green,
                inner sep=1.2pt},
                every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\u}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (3.7*\u,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2.4*\u);
            \coordinate (E) at (\u*1.1,\u*1.0);
            \coordinate (Aj) at (0,\u*0.9);
            \coordinate (O) at (0.0,0.0);
            
            % Axes
            \path[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[point,
                    fill=black,
                    pos=0.99,
                    label={[text=black,xshift=0mm,yshift=-6mm]:
                        $B$}
                ] (X) {};
            \path[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[point,
                pos=0.99,
                fill=black,
                label={[text=black,left,yshift=-1mm]:
                    $A$}
                ] (Y) {};

            \draw[name path=XY] (X) -- (Y);
            \draw[name path=OE] (O) -- ($(O)!1.8!(E)$)
                node[right] {$\block e_i$};
            \path[name path=AjX] (Aj) -- (X);
            \path[name intersections={of=XY and OE,by=P}];
            \draw[name path=e_j] (Aj) -- ($(Aj)!1.5!(P)$)
                node[right] {$\block e_j$}
                node[pos=0.49] (R') {};
            \path[name intersections={of=AjX and OE,by=R}];
            \draw[gray,name path=AR] (Y) -- ($(Y)!1.3!(R)$);
            \path[name intersections={of=AR and e_j,by=R1}];
            \draw[gray,name path=AR'] (Y) -- ($(Y)!1.3!(R')$);
            \path[name intersections={of=AR' and OE,by=R2}];
            
            
            \node[point,
                fill=green,
                label={[xshift=5mm,yshift=-3.5mm]:
                    $\alpha(R)$}
            ] at (R2) {};
            \node[point,
                fill=green,
                label={[xshift=-6mm,yshift=-2.5mm]:
                    $\pi_{ij}^A(R)$}
            ] at (R1) {};
            \node[point,
                fill=green,
                label={[xshift=-3.7mm,yshift=-2.3mm]:
                    $R'$}
            ] at (R') {};
            \node[point,
                fill=white,
                label={[xshift=0mm,yshift=0mm]:
                    $P$}
            ] at (P) {};
            \node[point,
                label={[xshift=-2.5mm,yshift=-2.5mm]:
                    $R$}
            ] at (R) {};
        \end{tikzpicture}
    \]
    Hence,
    \[
        \alpha|_{\tr(\block e_j)}\circ\pi_{ij}^A
        =
        \pi_{ij}^A\circ\alpha|_{\tr(\block e_i)}.
    \]
    Similarly $\alpha|_{\tr(\block e_j)}\circ\pi_{ij}^B = \pi_{ij}^B\circ\alpha|_{\tr(\block e_i)}$. In consequence, $\alpha_i\comm\pi_{ji}^B\circ\pi_{ij}^A$.

    It remains to be seen that if $\sigma$ is a permutation of $\tr(\block e_i)\setminus\set P$ that commutes with the elements of $\mathcal J_i^{AB}$, it can be extended to a elation in $\Elt(P,\ell)$.

    Fix $C\in\tr(\ell)\setminus\set P$ and define
    \[
        \alpha(X) = \begin{cases}
            X   &\text{if }X\incidence\ell,\\
            \pi_{ij}^C\circ\sigma\circ\pi_{ji}^C(X)
                &\text{if }X\nincidence{}\ell,\; XP=\block e_j.
        \end{cases}
    \]
    As it is easy to verify, the definition of $\alpha$ implies
    \[
        \alpha(X)\incidence\ell\iff X\incidence\ell.\tag{$\ast$}
    \]
    Furthermore, if $D$ is another point on $\ell$, then
    \begin{align*}
        \pi_{ij}^D\circ\sigma\circ\pi_{ji}^D
            &= \pi_{ij}^D\circ\sigma\circ\pi_{ji}^D
                \circ\pi_{ij}^C\circ\pi_{ji}^C\\
            &= \pi_{ij}^C\circ\pi_{ij}^C\circ\pi_{ji}^C
                \circ\sigma\circ\pi_{ji}^C\\
            &= \pi_{ji}^C\circ\sigma\circ\pi_{ji}^C,
    \end{align*}
    which proves that $\alpha$ does not depend on the particular choice of~$C$.
    
    To verify that $\alpha$ is a collineation, let's see that the line joining two points $X\ne Y$ is mapped to the line $\alpha(X)\alpha(Y)$. Take $Z$ on $XY$. There are three cases.
    \begin{enumerate}[i)]
        \item The case where $XY=\ell$ is trivial.

        \item Suppose $X\nincidence\ell$ and $Y\incidence\ell$. Let $j$ be such that $XP=\block e_j$. As we saw above, we can replace $C$ with $Y$ in the definition of $\alpha$. Then
        \begin{align*}
            \alpha(X)\alpha(Y)
                &= \pi_{ij}^Y(\sigma\circ\pi_{ji}^Y(X))Y\\
                &= (\sigma\circ\pi_{ji}^Y(X))Y.
        \end{align*}
        Given that $X$, $Z$ and $Y$ are collinear, we deduce
        \[
            \pi_{ki}^Y(Z)=ZY\wedge\block e_i
                =XY\wedge\block e_i
                =\pi_{ji}^Y(X).
        \]
        Thus, if $Z$ is on $\block e_k$, 
        \begin{align*}
            \alpha(Z) &= \pi_{ik}^Y(\sigma\circ\pi_{ki}^Y(Z))\\
                &{}\incidence (\sigma\circ\pi_{ki}^Y(Z))Y\\
                &= (\sigma\circ\pi_{ji}^Y(X))Y\\
                &= \alpha(X)\alpha(Y).
        \end{align*}

        \item In the case $X,Y\nincidence\ell$, let $D=XY\wedge\ell$.  
        If $Z=D$, then by case~ii) applied to $X=X$, $Y=Z$, and $Z=Y$, we obtain $\alpha(Y)\incidence\alpha(X)\alpha(Z)$. Hence, by the \rr, $\alpha(Z)\incidence\alpha(X)\alpha(Y)$.
        
        Assume now that $Z\ne D$. By case~ii), we have
        \begin{align*}
            Z\incidence XY &\implies Z\incidence XD\\
                &\implies \alpha(Z)\incidence\alpha(X)D.
        \end{align*}
        Similarly, $\alpha(Z)\incidence\alpha(Y)D$. Thus, either (1)~$\alpha(Z)=D$, or (2)~$\alpha(X)$, $\alpha(Y)$, and $D$ are collinear.
        
        Case~(1) is impossible, because by $(\ast)$ it would imply $Z\incidence\ell$.
        
        The conclusion follows from case~(2), since in that situation
        \[
            \alpha(Z)\incidence\alpha(Y)D=\alpha(X)\alpha(Y).
        \]

    \end{enumerate}
\end{proof}

\begin{lem}\label{lem:group-commutativity}{\upshape[Group Commutativity]}
    Let $H$ and $K$ be subgroups of $G$. Then $HK$ is a subgroup if, and only if, $HK=KH$.\footnote{See \citep{LC-Groups}.}
\end{lem}

\begin{proof}
    Since $(xy)^{-1}=yx$, inverses of $HK$ belong to $KH$. Thus, if $HK$ is a group, $HK=(HK)^{-1}=K^{-1}H^{-1}=KH$. Conversely, if $HK=KH$, then $(x_1y_1)(x_2y_2)=(x_1x)(yy_2)$, where $x\in H$, $y\in K$ and $xy=y_1x_2$.
\end{proof}

\begin{lem}\label{lem:sequential-group-commutativity}
    Let\/ $H=\set{x_1,\dots,x_q}$ and\/ $K=\set{y_1,\dots,y_q}$ be subgroups of a group\/ $G$. If the set\/ $\set{x_i y_i\mid1\le i\le q}$ is itself a subgroup of\/ $G$, then\/ $HK=KH$, and this common product is a subgroup of\/ $G$.
\end{lem}

\begin{proof}
    Let $x\in H$ and $y\in K$ be arbitrary elements. Then there exist indices $i_1,i_2$ such that $y=y_{i_1}$ and $x=x_{i_2}$. By hypothesis, there is an index $i_3$ satisfying
    \[
        (x_{i_1}y_{i_1})(x_{i_2}y_{i_2})=x_{i_3}y_{i_3}.\tag{$\ast$}
    \]
    Since $H$ and $K$ are subgroups, there exist indices $i_4,i_5$ such that
    \[
        x_{i_1}^{-1}x_{i_3}=x_{i_4}
        \quad\text{and}\quad
        y_{i_3}y_{i_2}^{-1}=y_{i_5},
    \]
    with $x_{i_4}\in H$ and $y_{i_5}\in K$. Hence,
    \begin{align*}
        yx
            &= y_{i_1}x_{i_2}\\
            &= x_{i_1}^{-1}(x_{i_3}y_{i_3})y_{i_2}^{-1}
                &&\text{by }(\ast)\\
            &= x_{i_1}^{-1}(x_{i_1}x_{i_4})(y_{i_5}y_{i_2})y_{i_2}^{-1}\\
            &= x_{i_4}y_{i_5},
    \end{align*}
    which shows that $KH\subseteq HK$. The reverse inclusion $HK\subseteq KH$ follows by symmetry.
\end{proof}




\begin{lem}\label{lem:HK-cardinality}
    Let $H$ and $K$ be finite subgroups of a group $G$. Then
    $$
        \abs{HK} = \abs H \abs K / \abs{H\cap K}.
    $$
\end{lem}

\begin{proof}
    The multiplication map
    \begin{align*}
        \mu\colon H\times K&\to HK\\
        (x,y)&\mapsto xy
    \end{align*}
    is clearly surjective. Therefore, to prove the lemma it suffices to show that the fibers $\mu^{-1}(xy)$, for $xy\in HK$, have cardinality $|H\cap K|$. Fix $x,y$. The map
    \begin{align*}
        H\cap K&\to\mu^{-1}(xy)\\
        z&\mapsto (xz^{-1},zy)
    \end{align*}
    is injective. Hence, $|H\cap K|\le|\mu^{-1}(xy)|$.

    To verify the other inequality, take $(a,b)\in\mu^{-1}(xy)$. Then $ab=xy$ and so $a^{-1}x=by^{-1}\in H\cap K$. Hence, the map $(a,b)\mapsto a^{-1}x$ is an injection from the fiber over $xy$ into $H\cap K$.
\end{proof}

\begin{ntn}
    If $n\in\Z$, $\spec(n)$ will denote the set of prime factors of $n$. If $\pi$ is a set of primes, $n\perp\pi$ will indicate that $\spec(n)\cap\pi=\emptyset$.% If $\hat\pi$ is another set of primes, $\hat\pi\perp\pi$ will mean that $n\perp\pi$ for all $n\in\hat\pi$.
\end{ntn}

\begin{prop}\label{prop:pi-product}
    Let $G$ be a finite group and $H$ and $K$ subgroups such that $HK$ is a subgroup. Then $\spec\abs{HK}\subseteq\spec\abs H\cup\spec\abs K$.
\end{prop}

\begin{proof}
    This is a direct consequence of Lemma~\ref{lem:HK-cardinality}.    
\end{proof}

\begin{cor}
    Let $G$ be a finite group and $H_1,\dots,H_r$ subgroups satisfying $H_iH_j=H_jH_i$ for $1\le i,j\le r$. Then
    \[
        \spec|H_1\cdots H_k|\subseteq\bigcup_{i=1}^r\spec|H_i|.
    \]
\end{cor}

\begin{lem}\label{lem:transitiviy-action}
    Let\/ $p$ be a prime and\/ $G$ a group of permutations of a finite set\/ $S$. Suppose that for every\/ $s\in S$ there exists an element\/ $\omega_s\in G$ of order\/~$p$ such that\/ $\omega_s$ fixes\/ $s$ and no other point of\/ $S$. Then\/ $G$ is transitive on\/ $S$.
\end{lem}

\begin{proof}
    Suppose, for a contradiction, that $G$ is not transitive on $S$. Therefore, there are two elements $s,t\in S$ whose orbits are different, i.e., $\mathcal O_s\ne\mathcal O_t$, hence disjoint.

    The map 
    \begin{align*}
        \mathcal O_t&\to\mathcal O_t\\
        g\cdot t&\mapsto\omega_s\cdot(g\cdot t)
    \end{align*}
    is well defined because $\omega_s\cdot(g\cdot t)=\omega_sg\cdot t\in\mathcal O_t$. The induced action of $\langle\omega_s\rangle$ on $\mathcal O_t$ fixes no point, since otherwise $\omega_sg\cdot t=g\cdot t$, which yields $\omega_sg=\omega_t\in\mathcal O_x\cap\mathcal O_t$, which is impossible. It follows that, for $g\in G$, the set
    \[
        \set{\omega_s^ig\cdot t\mid 0\le i<p}
    \]
    has size $p$. Since these are the orbits of $\mathcal O_t$ under the action of $\langle\omega_s\rangle$, and in any case the orbits are a partition of the group, we deduce that $p\mid|\mathcal O_t|$. Equivalently,
    \[
        |\mathcal O_t|\equiv0\pmod p.\tag{$\ast$}
    \]
    Now consider the action of $\langle\omega_t\rangle$ on $\mathcal O_t$. Since $\omega_t\cdot t=t$ the orbit of $t$ in $\mathcal O_t$ under this action equals $\set t$. Any other orbit, namely the one of $g\cdot t\ne t$, has the form
    \[
        \mathcal Q_{g\cdot t}=\set{\omega_t^ig\cdot t\mid 0<i<p}.
    \]
    Considering
    \[
        \omega_t^ig\cdot t=\omega_t^jg\cdot t
            \implies\omega_t^{i-j}g\cdot t=g\cdot t
            \stackrel{g\cdot t\ne t}\implies{}\noend
    \]
    we deduce that $|\mathcal Q_{g\cdot t}|=p$. Consequently, $p\mid|\mathcal O_t|$, i.e., $|\mathcal O_t|\equiv0\pmod p$, in contradiction with~$(\ast)$.
    %
    
\end{proof}

\begin{thm}\label{thm:Gleason} {\upshape[Gleason, 1956]}
    If a finite projective plane has the Fano property, then it is a translation plane with respect to each of its lines.
\end{thm}

\begin{proof}
    Let\/ $\Pi$ be the projective plane under consideration. By Theorem~\ref{thm:elementary-abelian-2-group}, its order is\/ $q=2^r$.  
    Let\/ $(P,\ell)$ be a flag of\/ $\Pi$, and define
    \[
        \tr(\ell)\setminus\set P=\set{A,E_1,\dots,E_{q-1}}, 
        \qquad
        \pl(P)\setminus\set\ell=\set{\block e_1,\dots,\block e_q}.
    \]
    Fix $1\le i\le q$. With the notation of Proposition~\ref{prop:pi_ij-properties}, for $1\le j<q$, put $H_j=\mathcal J_i^{AE_j}$ and $K_j=\mathcal J_i^{E_jA}$. Since $H_j$ is a group, its elements are the same as the elements of~$K_j$. Hence, we can use the following enumerations
    \begin{align*}
        H_j &= \set{\pi_{1i}^{E_j}\circ\pi_{i1}^A,\dots,
            \pi_{qi}^{E_j}\circ\pi_{iq}^A}\\
        H_k &= \set{\pi_{1i}^A\circ\pi_{i1}^{E_k},\dots,
            \pi_{qi}^A\circ\pi_{iq}^{E_k}}
    \end{align*}

    \medskip
    \textbf{Step 1.} $H_jH_k=H_kH_j$.

    To verify this, by Lemma~\ref{lem:sequential-group-commutativity}, it suffices to show that the set of products
    \[
        \set{(\pi_{hi}^{E_j}\circ\pi_{ih}^A)\circ
        (\pi_{hi}^A\circ\pi_{ih}^{E_k})
        \mid1\le h\le q}
    \]
    forms a group. But
    \begin{align*}
        (\pi_{hi}^{E_j}\circ\pi_{ih}^A)\circ
                (\pi_{hi}^A\circ\pi_{ih}^{E_k})
            &= \pi_{hi}^{E_j}\pi_{ih}^{E_k},
    \end{align*}
    showing that the set of products equals the set underlying the group $\mathcal J_i^{E_kE_j}$.

    \medskip

    \textbf{Step 2.} \textit{$G=H_1\cdots H_{q-1}$ is a group.}

    This follows from Lemma~\ref{lem:group-commutativity} by induction on the number of subgroups.

    \medskip

    \textbf{Step 3.} \textit{The center of\/ $G$ is nontrivial.}
    
    By Theorem~\ref{thm:elementary-abelian-2-group}, $H_j$ is a $2$-group. Therefore, $G$ is a $2$-group, and since $p$-groups have nontrivial center \citep{LC-Groups}, $Z(G)\ne\langle1\rangle$.

    \medskip

    \needspace{2\baselineskip}
    \textbf{Step 4.} $|\Elt(P,\ell)|>1$.

    By Step 3, we can pick a nontrivial element $\sigma$ in the center $Z(G)$. Given $E_j$ and $E_k$ the equality
    \[
        \pi_{hi}^{E_j}\circ\pi_{ih}^{E_k}
            = (\pi_{hi}^{E_j}\circ\pi_{ih}^A)\circ
                (\pi_{hi}^A\circ\pi_{ih}^{E_k})
    \]
    implies that $\sigma$ commutes with every element of $J_i^{E_kE_j}$, since the \rhs\ is an element of $H_jK_k=H_jH_k\subseteq G$. By Theorem~\ref{thm:elations-restrict-well}, $\sigma$ can be extended to a unique elation with center $P$ and axis~$\ell$.
    
    \medskip

    \textbf{Conclusion.}

    Pick another point $Q$ on $\ell$. By Step~4 none of $\Elt(P,\ell)$ and $\Elt(Q,\ell)$ is trivial. Since the order of $\Pi$ is a power of $2$, by Theorem~\ref{thm:elations-have-order-p}, we deduce that elations in both groups have order $2$.
    
    Consider the evaluation action
    \begin{align*}
        \Aut(\Pi,\ell)\times\tr(\ell)&\to\tr(\ell)\\
        (\varphi,X) &\mapsto \varphi\cdot X=\varphi(X).
    \end{align*}
    By Step~4, given $T\in\tr(\ell)$ we can pick a nontrivial elation $\alpha_T\in\Elt(T,\ell)$. According to the dual of Lemma~\ref{lem:unique-axis-center}, $T$ is the unique point fixed by $\alpha_T$.

    We can now use Lemma~\ref{lem:transitiviy-action} to deduce that $\Aut(\Pi,\ell)$ acts transitively on $\tr(\ell)$. Since $\ell$ was arbitrary the theorem is proven.
    %
    
\end{proof}

\begin{rem}
    The theorem implies the existence of a collineation $\phi$ with axis $\ell$ such that $\phi(P)=Q$. By Proposition~\ref{prop:perspectivity-conjugation}, the conjugation map
    \begin{align*}
        \Elt(P,\ell)&\to\Elt(Q,\ell)\\
        \alpha&\mapsto\phi\circ\alpha\circ\phi^{-1}
    \end{align*}
    is well defined. And since it is bijective we deduce that both sets have the same cardinality.
\end{rem}

\begin{cor} {\upshape[Gleason]}
    Any finite projective plane with the Fano property is isomorphic to\/ $\PG(2,2^r)$ for some integer\/ $r\ge 1$.
\end{cor}

\section{Exercises}

\begin{exr}
    Determine the coordinate structure of the plane obtained by\/ {\upshape Hall’s Free Extension Process \ref{xmpl:hall-plane} (See also \ref{exr:Hall-incidence-tables})}.
\end{exr}

\begin{solution}
    \[
        \begin{tikzpicture}[
            scale=1.1,
            font=\small,
            point/.style={
                draw,
                circle,
                color=black,
                fill=green,
                inner sep=1.2pt},
                every node/.style={font=\footnotesize},
            ]
            \pgfmathsetmacro{\u}{1.7};
            
            % Points
            \coordinate (xstart) at (0.0,0.0);
            \coordinate (xend) at (3.7*\u,0.0);
            \coordinate (ystart) at (0.0,0.0);
            \coordinate (yend) at (0.0,2.4*\u);
            \coordinate (A4) at (\u*1.1,\u*1.3);
            \coordinate (A1) at (0.0,0.0);
            
            % Axes
            \draw[name path=xaxis,
                color=orange,
                thick
            ] (xstart) -- (xend)
                node[right,text=black] {$\ell_1$}
                node[point,
                    fill=black,
                    pos=0.7,
                    label={[text=black,xshift=0mm,yshift=-6mm]:
                        $A_2$}
                ] (A2) {};
            \draw[name path=yaxis,
                color=orange,
                thick
            ] (ystart) -- (yend)
                node[above,text=black] {$\ell_2$}
                node[point,
                pos=0.78,
                fill=black,
                label={[text=black,left,yshift=-1mm]:
                    $A_3$}
                ] (A3) {};
            \node[point,
                fill=black,
                label={[xshift=-0.4mm,yshift=0.3mm]:
                    $A_4$}
            ] at (A4) {};

            \draw[name path=A2A3] (A3) -- ($(A3)!1.1!(A2)$)
                node[
                    label={[xshift=2mm,yshift=-5mm]: $\ell_4$}
                ] {};
            \draw[name path=A1A4] (A1) -- ($(A1)!1.2!(A4)$)
                node[above right] {$\ell_3$};
            \path[name intersections={of=A2A3 and A1A4,by=A7}];
            \draw[name path=A3A4] (A3) -- ($(A3)!3.55!(A4)$)
                node[
                    label = {[xshift=2mm,yshift=-5.2mm]: $\ell_6$}
                ] {};
            \path[name intersections={of=A3A4 and xaxis,by=A5}];
            \draw[name path=A2A4] (A2) -- ($(A2)!1.9!(A4)$)
                node[label={[xshift=-2mm,yshift=-2mm,text=black]: $\ell_5$}
                ] {};
            \path[name intersections={of=A2A4 and yaxis,by=A6}];
            
            \node[point,
                fill=white,
                label={[xshift=0.2mm,yshift=-5.8mm]:$A_7$}
            ] at (A7) {};
            \node[point,
                fill=green,
                label={[xshift=-3mm,yshift=-3mm]:$A_6$}
            ] at (A6) {};
            \node[point,
                fill=green,
                label={[xshift=0mm,yshift=-6mm]:$A_5$}
            ] at (A5) {};
            \node[point,
                fill=black,
                label={[xshift=-2mm,yshift=-5.5mm,text=black]:
                    $A_1$}
            ] at (A1) {};
        \end{tikzpicture}
    \]
    
\end{solution}
